<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.5 Exercises | Business Forecasting</title>
  <meta name="description" content="6.5 Exercises | Business Forecasting" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="6.5 Exercises | Business Forecasting" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.5 Exercises | Business Forecasting" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="the-success-criteria-and-process.html"/>
<link rel="next" href="ARIMA.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>setup</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="curriculum.html"><a href="curriculum.html"><i class="fa fa-check"></i><b>2</b> Curriculum</a></li>
<li class="chapter" data-level="3" data-path="qualitative-forecasting-methods.html"><a href="qualitative-forecasting-methods.html"><i class="fa fa-check"></i><b>3</b> Qualitative Forecasting Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="judgmental-forecasting-and-forecast-adjustments.html"><a href="judgmental-forecasting-and-forecast-adjustments.html"><i class="fa fa-check"></i><b>3.1</b> Judgmental Forecasting and Forecast Adjustments</a></li>
<li class="chapter" data-level="3.2" data-path="articles.html"><a href="articles.html"><i class="fa fa-check"></i><b>3.2</b> Articles</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="articles.html"><a href="articles.html#a-new-product-growth-model-for-consumer-durables-management-science"><i class="fa fa-check"></i><b>3.2.1</b> A new product growth model for consumer durables,” Management Science</a></li>
<li class="chapter" data-level="3.2.2" data-path="articles.html"><a href="articles.html#sales-forecasts-for-existing-consumer-products"><i class="fa fa-check"></i><b>3.2.2</b> Sales Forecasts for Existing Consumer Products</a></li>
<li class="chapter" data-level="3.2.3" data-path="articles.html"><a href="articles.html#judgmental-forecasting-a-review-of-progress-over-the-last-25-years-international-journal-of-forecasting"><i class="fa fa-check"></i><b>3.2.3</b> Judgmental forecasting A review of progress over the last 25 years, International Journal of Forecasting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploring-patterns-and-forecasting-techniques.html"><a href="exploring-patterns-and-forecasting-techniques.html"><i class="fa fa-check"></i><b>4</b> Exploring Patterns and Forecasting Techniques</a>
<ul>
<li class="chapter" data-level="4.1" data-path="the-forecasting-process.html"><a href="the-forecasting-process.html"><i class="fa fa-check"></i><b>4.1</b> The forecasting process</a></li>
<li class="chapter" data-level="4.2" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html"><i class="fa fa-check"></i><b>4.2</b> Data Patterns and terminology</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#terminology"><i class="fa fa-check"></i><b>4.2.1</b> Terminology</a>
<ul>
<li class="chapter" data-level="4.2.1.1" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#autocorrelation"><i class="fa fa-check"></i><b>4.2.1.1</b> Autocorrelation</a></li>
<li class="chapter" data-level="4.2.1.2" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#random-vs.-correlated-data"><i class="fa fa-check"></i><b>4.2.1.2</b> Random vs. correlated data</a></li>
<li class="chapter" data-level="4.2.1.3" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#stationary-vs.-non-stationary-data"><i class="fa fa-check"></i><b>4.2.1.3</b> Stationary vs. non stationary data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="DataPatternsAndModelSelection.html"><a href="DataPatternsAndModelSelection.html"><i class="fa fa-check"></i><b>4.3</b> Data Patterns and Model Selection</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="DataPatternsAndModelSelection.html"><a href="DataPatternsAndModelSelection.html#forecast-methods-and-horizons"><i class="fa fa-check"></i><b>4.3.1</b> Forecast Methods and Horizons</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>4.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="exercises.html"><a href="exercises.html#p.-92-hw-problem-8"><i class="fa fa-check"></i><b>4.4.1</b> p. 92 HW Problem 8</a>
<ul>
<li class="chapter" data-level="4.4.1.1" data-path="exercises.html"><a href="exercises.html#moving-averages"><i class="fa fa-check"></i><b>4.4.1.1</b> Moving Averages</a>
<ul>
<li class="chapter" data-level="4.4.1.1.1" data-path="exercises.html"><a href="exercises.html#RegularMA"><i class="fa fa-check"></i><b>4.4.1.1.1</b> Regular MA</a></li>
<li class="chapter" data-level="4.4.1.1.2" data-path="exercises.html"><a href="exercises.html#MALoop"><i class="fa fa-check"></i><b>4.4.1.1.2</b> MA using loop</a></li>
</ul></li>
<li class="chapter" data-level="4.4.1.2" data-path="exercises.html"><a href="exercises.html#exponential-moving-averages-holts-and-winters"><i class="fa fa-check"></i><b>4.4.1.2</b> Exponential moving averages + Holts and Winters</a></li>
</ul></li>
<li class="chapter" data-level="4.4.2" data-path="exercises.html"><a href="exercises.html#p.-93-hw-problem-9-10"><i class="fa fa-check"></i><b>4.4.2</b> p. 93 HW Problem 9-10</a></li>
<li class="chapter" data-level="4.4.3" data-path="exercises.html"><a href="exercises.html#co2-and-sales-data"><i class="fa fa-check"></i><b>4.4.3</b> CO2 and Sales Data</a></li>
<li class="chapter" data-level="4.4.4" data-path="exercises.html"><a href="exercises.html#case-6-oo.-108-111-hw"><i class="fa fa-check"></i><b>4.4.4</b> Case 6 oo. 108-111 HW</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html"><i class="fa fa-check"></i><b>5</b> Simple and Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html"><i class="fa fa-check"></i><b>5.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#assumptions"><i class="fa fa-check"></i><b>5.1.1</b> Assumptions</a>
<ul>
<li class="chapter" data-level="5.1.1.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#serial-correlation-checking-for-independent-residuals"><i class="fa fa-check"></i><b>5.1.1.1</b> Serial correlation (checking for independent residuals):</a></li>
<li class="chapter" data-level="5.1.1.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#heteroskedasticity"><i class="fa fa-check"></i><b>5.1.1.2</b> Heteroskedasticity:</a></li>
</ul></li>
<li class="chapter" data-level="5.1.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#forecasting-with-a-linear-trend"><i class="fa fa-check"></i><b>5.1.2</b> Forecasting with a linear trend</a></li>
<li class="chapter" data-level="5.1.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#exercises-1"><i class="fa fa-check"></i><b>5.1.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.1.3.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#problems-5-pp.-209"><i class="fa fa-check"></i><b>5.1.3.1</b> Problems 5 pp. 209</a></li>
<li class="chapter" data-level="5.1.3.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#problem-11-p.-212-hw"><i class="fa fa-check"></i><b>5.1.3.2</b> Problem 11 p. 212 HW</a></li>
<li class="chapter" data-level="5.1.3.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#cases-2-hw"><i class="fa fa-check"></i><b>5.1.3.3</b> Cases 2 HW</a></li>
<li class="chapter" data-level="5.1.3.4" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#case-3-from-hw"><i class="fa fa-check"></i><b>5.1.3.4</b> Case 3 from HW</a></li>
<li class="chapter" data-level="5.1.3.5" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#ex:DetrendingWithRegression"><i class="fa fa-check"></i><b>5.1.3.5</b> Detrending thorugh regression: CO2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html"><i class="fa fa-check"></i><b>5.2</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#multicollinearity"><i class="fa fa-check"></i><b>5.2.1</b> Multicollinearity</a></li>
<li class="chapter" data-level="5.2.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#serial-correlation-and-omitted-variables"><i class="fa fa-check"></i><b>5.2.2</b> Serial correlation and omitted variables</a></li>
<li class="chapter" data-level="5.2.3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#selection-criteria"><i class="fa fa-check"></i><b>5.2.3</b> Selection criteria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="time-series-decomposition-and-regression-with-time-series-data.html"><a href="time-series-decomposition-and-regression-with-time-series-data.html"><i class="fa fa-check"></i><b>6</b> Time-Series Decomposition and Regression with Time-Series Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="TSComponents.html"><a href="TSComponents.html"><i class="fa fa-check"></i><b>6.1</b> Time Series and Their Components (HW)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="TSComponents.html"><a href="TSComponents.html#additional-on-trend"><i class="fa fa-check"></i><b>6.1.1</b> Additional on trend</a></li>
<li class="chapter" data-level="6.1.2" data-path="TSComponents.html"><a href="TSComponents.html#additional-on-seasonal-pattern"><i class="fa fa-check"></i><b>6.1.2</b> Additional on seasonal pattern</a></li>
<li class="chapter" data-level="6.1.3" data-path="TSComponents.html"><a href="TSComponents.html#cyclical-and-irregular-variations"><i class="fa fa-check"></i><b>6.1.3</b> Cyclical and Irregular Variations</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="methods-of-decomposing.html"><a href="methods-of-decomposing.html"><i class="fa fa-check"></i><b>6.2</b> Methods of decomposing</a></li>
<li class="chapter" data-level="6.3" data-path="regression-with-time-series-data.html"><a href="regression-with-time-series-data.html"><i class="fa fa-check"></i><b>6.3</b> Regression with time series data</a></li>
<li class="chapter" data-level="6.4" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html"><i class="fa fa-check"></i><b>6.4</b> The success criteria and process</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#success-criteria"><i class="fa fa-check"></i><b>6.4.1</b> Success Criteria</a></li>
<li class="chapter" data-level="6.4.2" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#DecomposingWithMA"><i class="fa fa-check"></i><b>6.4.2</b> The Process</a>
<ul>
<li class="chapter" data-level="6.4.2.1" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#desaesonalizing"><i class="fa fa-check"></i><b>6.4.2.1</b> Desaesonalizing</a></li>
<li class="chapter" data-level="6.4.2.2" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#long-term-trend"><i class="fa fa-check"></i><b>6.4.2.2</b> Long-term trend</a></li>
<li class="chapter" data-level="6.4.2.3" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#cyclical-component"><i class="fa fa-check"></i><b>6.4.2.3</b> Cyclical Component</a></li>
<li class="chapter" data-level="6.4.2.4" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#time-series-decomposition-forecast"><i class="fa fa-check"></i><b>6.4.2.4</b> Time-Series decomposition forecast</a></li>
</ul></li>
<li class="chapter" data-level="6.4.3" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#Autocorellation"><i class="fa fa-check"></i><b>6.4.3</b> Autocorellation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>6.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="exercises-2.html"><a href="exercises-2.html#ex:DecompositionTrendSeasonality"><i class="fa fa-check"></i><b>6.5.1</b> Decomposition + Forecast Exercise</a>
<ul>
<li class="chapter" data-level="6.5.1.1" data-path="exercises-2.html"><a href="exercises-2.html#a.-decomposing-the-time-series"><i class="fa fa-check"></i><b>6.5.1.1</b> a. Decomposing the time series</a></li>
<li class="chapter" data-level="6.5.1.2" data-path="exercises-2.html"><a href="exercises-2.html#b.-retrieving-components"><i class="fa fa-check"></i><b>6.5.1.2</b> b. Retrieving components</a></li>
<li class="chapter" data-level="6.5.1.3" data-path="exercises-2.html"><a href="exercises-2.html#c.-interpreting-the-resutls"><i class="fa fa-check"></i><b>6.5.1.3</b> c. Interpreting the resutls</a></li>
<li class="chapter" data-level="6.5.1.4" data-path="exercises-2.html"><a href="exercises-2.html#d.-forecasting-using-the-components"><i class="fa fa-check"></i><b>6.5.1.4</b> d. Forecasting using the components</a>
<ul>
<li class="chapter" data-level="6.5.1.4.1" data-path="exercises-2.html"><a href="exercises-2.html#fitting-the-model"><i class="fa fa-check"></i><b>6.5.1.4.1</b> Fitting the model</a></li>
<li class="chapter" data-level="6.5.1.4.2" data-path="exercises-2.html"><a href="exercises-2.html#forecasting-using-the-composition"><i class="fa fa-check"></i><b>6.5.1.4.2</b> Forecasting using the composition</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.5.2" data-path="exercises-2.html"><a href="exercises-2.html#ex:DecompositionCycles"><i class="fa fa-check"></i><b>6.5.2</b> Decomposition with cycles + Forecasting</a>
<ul>
<li class="chapter" data-level="6.5.2.1" data-path="exercises-2.html"><a href="exercises-2.html#finding-cma-deseasonalizing"><i class="fa fa-check"></i><b>6.5.2.1</b> 1. Finding CMA (deseasonalizing)</a></li>
<li class="chapter" data-level="6.5.2.2" data-path="exercises-2.html"><a href="exercises-2.html#finding-sf"><i class="fa fa-check"></i><b>6.5.2.2</b> 2. Finding SF</a></li>
<li class="chapter" data-level="6.5.2.3" data-path="exercises-2.html"><a href="exercises-2.html#identifying-trend"><i class="fa fa-check"></i><b>6.5.2.3</b> 3. Identifying Trend</a></li>
<li class="chapter" data-level="6.5.2.4" data-path="exercises-2.html"><a href="exercises-2.html#finding-detrended-and-deseasonalized-data"><i class="fa fa-check"></i><b>6.5.2.4</b> 4. Finding detrended and deseasonalized data</a></li>
<li class="chapter" data-level="6.5.2.5" data-path="exercises-2.html"><a href="exercises-2.html#cycle-identifying-factor"><i class="fa fa-check"></i><b>6.5.2.5</b> 5. Cycle identifying factor</a></li>
</ul></li>
<li class="chapter" data-level="6.5.3" data-path="exercises-2.html"><a href="exercises-2.html#TimeSeriesRegression"><i class="fa fa-check"></i><b>6.5.3</b> Time series regression</a></li>
<li class="chapter" data-level="6.5.4" data-path="exercises-2.html"><a href="exercises-2.html#alomega-food-stores-case-6-p.-166-case-7-p.-348-another-example"><i class="fa fa-check"></i><b>6.5.4</b> Alomega Food Stores, case 6 p. 166 + case 7 p. 348 (Another example)</a>
<ul>
<li class="chapter" data-level="6.5.4.1" data-path="exercises-2.html"><a href="exercises-2.html#what-might-jackson-tilson-say-about-the-forecasts"><i class="fa fa-check"></i><b>6.5.4.1</b> What might Jackson Tilson say about the forecasts?</a></li>
<li class="chapter" data-level="6.5.4.2" data-path="exercises-2.html"><a href="exercises-2.html#p.348-case-7-alomega-food-stores"><i class="fa fa-check"></i><b>6.5.4.2</b> P.348 Case 7 (Alomega Food Stores)</a></li>
</ul></li>
<li class="chapter" data-level="6.5.5" data-path="exercises-2.html"><a href="exercises-2.html#ex:MonthlySalesData"><i class="fa fa-check"></i><b>6.5.5</b> Monthly Sales Data</a></li>
<li class="chapter" data-level="6.5.6" data-path="exercises-2.html"><a href="exercises-2.html#own-test---monthly-sales-data-decomposition-forecast"><i class="fa fa-check"></i><b>6.5.6</b> Own test - Monthly Sales Data decomposition + forecast</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ARIMA.html"><a href="ARIMA.html"><i class="fa fa-check"></i><b>7</b> ARIMA Models + ADL and Box-Jenkins Methodology</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html"><i class="fa fa-check"></i><b>7.1</b> ARIMA</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-ar-models"><i class="fa fa-check"></i><b>7.1.1</b> Elaborating on AR models</a></li>
<li class="chapter" data-level="7.1.2" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-ma-models"><i class="fa fa-check"></i><b>7.1.2</b> Elaborating on MA models</a></li>
<li class="chapter" data-level="7.1.3" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-integration-models"><i class="fa fa-check"></i><b>7.1.3</b> Elaborating on Integration models</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="model-building-process.html"><a href="model-building-process.html"><i class="fa fa-check"></i><b>7.2</b> Model Building Process</a></li>
<li class="chapter" data-level="7.3" data-path="advantages-and-disadvantages-for-arima-models.html"><a href="advantages-and-disadvantages-for-arima-models.html"><i class="fa fa-check"></i><b>7.3</b> Advantages and disadvantages for ARIMA models</a></li>
<li class="chapter" data-level="7.4" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html"><i class="fa fa-check"></i><b>7.4</b> Dynamic Forecasting</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#adl"><i class="fa fa-check"></i><b>7.4.1</b> ADL</a></li>
<li class="chapter" data-level="7.4.2" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#vector-autoregressive-var"><i class="fa fa-check"></i><b>7.4.2</b> Vector autoregressive (VAR)</a>
<ul>
<li class="chapter" data-level="7.4.2.1" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#selection-criteria-1"><i class="fa fa-check"></i><b>7.4.2.1</b> Selection criteria</a></li>
<li class="chapter" data-level="7.4.2.2" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#process"><i class="fa fa-check"></i><b>7.4.2.2</b> Process</a></li>
<li class="chapter" data-level="7.4.2.3" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#Cholesky"><i class="fa fa-check"></i><b>7.4.2.3</b> Analyzing response to shocks in other variables - Cholesky Ordering</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exercises-arima.html"><a href="exercises-arima.html"><i class="fa fa-check"></i><b>7.5</b> Exercises - ARIMA</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="exercises-arima.html"><a href="exercises-arima.html#ibm-stock-problem-12-p-405"><i class="fa fa-check"></i><b>7.5.1</b> IBM stock, problem 12 p 405</a></li>
<li class="chapter" data-level="7.5.2" data-path="exercises-arima.html"><a href="exercises-arima.html#demand-data-problem-7-p-403"><i class="fa fa-check"></i><b>7.5.2</b> Demand data, problem 7 p 403</a></li>
<li class="chapter" data-level="7.5.3" data-path="exercises-arima.html"><a href="exercises-arima.html#closing-stock-quotations-problem-13-p-409"><i class="fa fa-check"></i><b>7.5.3</b> Closing stock quotations, problem 13 p 409</a></li>
<li class="chapter" data-level="7.5.4" data-path="exercises-arima.html"><a href="exercises-arima.html#hw-case-1-page-413-414-q1-3"><i class="fa fa-check"></i><b>7.5.4</b> HW: Case 1 page 413-414 (q1-3)</a></li>
<li class="chapter" data-level="7.5.5" data-path="exercises-arima.html"><a href="exercises-arima.html#hw-case-4-page-417-419"><i class="fa fa-check"></i><b>7.5.5</b> HW: Case 4 page 417-419</a></li>
<li class="chapter" data-level="7.5.6" data-path="exercises-arima.html"><a href="exercises-arima.html#sales-data-seasonal"><i class="fa fa-check"></i><b>7.5.6</b> Sales data seasonal</a></li>
<li class="chapter" data-level="7.5.7" data-path="exercises-arima.html"><a href="exercises-arima.html#in-class-assignment"><i class="fa fa-check"></i><b>7.5.7</b> In class assignment</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exercises-adl.html"><a href="exercises-adl.html"><i class="fa fa-check"></i><b>7.6</b> Exercises - ADL</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="exercises-adl.html"><a href="exercises-adl.html#gdp-and-co2-levels"><i class="fa fa-check"></i><b>7.6.1</b> GDP and CO2 levels</a></li>
<li class="chapter" data-level="7.6.2" data-path="exercises-adl.html"><a href="exercises-adl.html#short--and-long-term-interest-rates-exchange-rates"><i class="fa fa-check"></i><b>7.6.2</b> Short- and long-term interest rates, exchange rates</a>
<ul>
<li class="chapter" data-level="7.6.2.1" data-path="exercises-adl.html"><a href="exercises-adl.html#ExerciseADL"><i class="fa fa-check"></i><b>7.6.2.1</b> Loading data, combining time series and assessment of stationarity</a></li>
<li class="chapter" data-level="7.6.2.2" data-path="exercises-adl.html"><a href="exercises-adl.html#VarExercise"><i class="fa fa-check"></i><b>7.6.2.2</b> Vector AutoRegressive Model (VAR)</a>
<ul>
<li class="chapter" data-level="7.6.2.2.1" data-path="exercises-adl.html"><a href="exercises-adl.html#determine-order-of-lags-to-be-included-model-estimation"><i class="fa fa-check"></i><b>7.6.2.2.1</b> 1. Determine order of lags to be included + model estimation</a></li>
<li class="chapter" data-level="7.6.2.2.2" data-path="exercises-adl.html"><a href="exercises-adl.html#model-diagnostics"><i class="fa fa-check"></i><b>7.6.2.2.2</b> 2. Model diagnostics</a></li>
<li class="chapter" data-level="7.6.2.2.3" data-path="exercises-adl.html"><a href="exercises-adl.html#response-to-shocks-in-the-variables"><i class="fa fa-check"></i><b>7.6.2.2.3</b> 3. Response to shocks in the variables</a>
<ul>
<li class="chapter" data-level="7.6.2.2.3.1" data-path="exercises-adl.html"><a href="exercises-adl.html#exogenious-vs.-endogenious"><i class="fa fa-check"></i><b>7.6.2.2.3.1</b> Exogenious vs. endogenious</a></li>
</ul></li>
<li class="chapter" data-level="7.6.2.2.4" data-path="exercises-adl.html"><a href="exercises-adl.html#forecasting-with-adl"><i class="fa fa-check"></i><b>7.6.2.2.4</b> 4. Forecasting with ADL</a>
<ul>
<li class="chapter" data-level="7.6.2.2.4.1" data-path="exercises-adl.html"><a href="exercises-adl.html#step-1---data-partition"><i class="fa fa-check"></i><b>7.6.2.2.4.1</b> Step 1 - Data partition</a></li>
<li class="chapter" data-level="7.6.2.2.4.2" data-path="exercises-adl.html"><a href="exercises-adl.html#step-2---select-the-order-of-var"><i class="fa fa-check"></i><b>7.6.2.2.4.2</b> Step 2 - Select the order of VAR</a></li>
<li class="chapter" data-level="7.6.2.2.4.3" data-path="exercises-adl.html"><a href="exercises-adl.html#step-3---fit-the-model-check-residuals"><i class="fa fa-check"></i><b>7.6.2.2.4.3</b> Step 3 - Fit the model + check residuals</a></li>
<li class="chapter" data-level="7.6.2.2.4.4" data-path="exercises-adl.html"><a href="exercises-adl.html#step-4---make-the-forecast"><i class="fa fa-check"></i><b>7.6.2.2.4.4</b> Step 4 - Make the forecast</a></li>
<li class="chapter" data-level="7.6.2.2.4.5" data-path="exercises-adl.html"><a href="exercises-adl.html#step-5---assessing-accuracy"><i class="fa fa-check"></i><b>7.6.2.2.4.5</b> Step 5 - Assessing accuracy</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="non-stationary-time-series.html"><a href="non-stationary-time-series.html"><i class="fa fa-check"></i><b>8</b> Non Stationary Time-series</a>
<ul>
<li class="chapter" data-level="8.1" data-path="unit-roots.html"><a href="unit-roots.html"><i class="fa fa-check"></i><b>8.1</b> Unit Roots</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="unit-roots.html"><a href="unit-roots.html#augmented-dickey-fuller-adf-test"><i class="fa fa-check"></i><b>8.1.1</b> Augmented Dickey-Fuller (ADF) test</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="spurious-regression.html"><a href="spurious-regression.html"><i class="fa fa-check"></i><b>8.2</b> Spurious Regression</a></li>
<li class="chapter" data-level="8.3" data-path="cointegration.html"><a href="cointegration.html"><i class="fa fa-check"></i><b>8.3</b> Cointegration</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="cointegration.html"><a href="cointegration.html#checking-for-cointegration"><i class="fa fa-check"></i><b>8.3.1</b> Checking for cointegration</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>8.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="exercises-3.html"><a href="exercises-3.html#DairyData"><i class="fa fa-check"></i><b>8.4.1</b> Dairy Data</a>
<ul>
<li class="chapter" data-level="8.4.1.1" data-path="exercises-3.html"><a href="exercises-3.html#ADFexercise"><i class="fa fa-check"></i><b>8.4.1.1</b> Unit Root testing - Augmented Dickey-Fuller (ADF)</a></li>
<li class="chapter" data-level="8.4.1.2" data-path="exercises-3.html"><a href="exercises-3.html#Cointegration"><i class="fa fa-check"></i><b>8.4.1.2</b> Cointegration</a>
<ul>
<li class="chapter" data-level="8.4.1.2.1" data-path="exercises-3.html"><a href="exercises-3.html#graphical-inspection-of-the-data"><i class="fa fa-check"></i><b>8.4.1.2.1</b> Graphical inspection of the data</a></li>
<li class="chapter" data-level="8.4.1.2.2" data-path="exercises-3.html"><a href="exercises-3.html#CointegrationTest"><i class="fa fa-check"></i><b>8.4.1.2.2</b> Test for cointegration</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="combining-forecast-result-and-forecast-evaluation.html"><a href="combining-forecast-result-and-forecast-evaluation.html"><i class="fa fa-check"></i><b>9</b> Combining Forecast Result and Forecast Evaluation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html"><i class="fa fa-check"></i><b>9.1</b> Why, when and how to combine forecasts</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html#why-do-we-combine-forecasts"><i class="fa fa-check"></i><b>9.1.1</b> Why do we combine forecasts?</a></li>
<li class="chapter" data-level="9.1.2" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html#when-to-combine-forecasts"><i class="fa fa-check"></i><b>9.1.2</b> When to combine forecasts?</a></li>
<li class="chapter" data-level="9.1.3" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html#how-to-combine-forecasts"><i class="fa fa-check"></i><b>9.1.3</b> How to combine forecasts?</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>9.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="exercises-4.html"><a href="exercises-4.html#ex:AirPassengers"><i class="fa fa-check"></i><b>9.2.1</b> Air passengers</a>
<ul>
<li class="chapter" data-level="9.2.1.1" data-path="exercises-4.html"><a href="exercises-4.html#producing-forecasts-combined-forecast"><i class="fa fa-check"></i><b>9.2.1.1</b> Producing forecasts + combined forecast</a>
<ul>
<li class="chapter" data-level="9.2.1.1.1" data-path="exercises-4.html"><a href="exercises-4.html#constructing-forecasts"><i class="fa fa-check"></i><b>9.2.1.1.1</b> 1. Constructing forecasts</a>
<ul>
<li class="chapter" data-level="9.2.1.1.1.1" data-path="exercises-4.html"><a href="exercises-4.html#a.-forecast-1---arima"><i class="fa fa-check"></i><b>9.2.1.1.1.1</b> a. Forecast 1 - ARIMA</a></li>
<li class="chapter" data-level="9.2.1.1.1.2" data-path="exercises-4.html"><a href="exercises-4.html#a.-forecast-2---holtwinters"><i class="fa fa-check"></i><b>9.2.1.1.1.2</b> a. Forecast 2 - HoltWinters</a></li>
</ul></li>
<li class="chapter" data-level="9.2.1.1.2" data-path="exercises-4.html"><a href="exercises-4.html#diebold-mariano-test"><i class="fa fa-check"></i><b>9.2.1.1.2</b> 2. Diebold-Mariano test</a></li>
<li class="chapter" data-level="9.2.1.1.3" data-path="exercises-4.html"><a href="exercises-4.html#combining-the-forecasts"><i class="fa fa-check"></i><b>9.2.1.1.3</b> 3. Combining the forecasts</a>
<ul>
<li class="chapter" data-level="9.2.1.1.3.1" data-path="exercises-4.html"><a href="exercises-4.html#a.-nelson-combination-method---her-code-is-put-here-but-not-further-explained"><i class="fa fa-check"></i><b>9.2.1.1.3.1</b> a. Nelson Combination Method - her code is put here, but not further explained</a></li>
<li class="chapter" data-level="9.2.1.1.3.2" data-path="exercises-4.html"><a href="exercises-4.html#b.-granger-ramanathan"><i class="fa fa-check"></i><b>9.2.1.1.3.2</b> b. Granger-Ramanathan</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="exam-cases.html"><a href="exam-cases.html"><i class="fa fa-check"></i><b>10</b> Exam cases</a>
<ul>
<li class="chapter" data-level="10.1" data-path="exam-2018.html"><a href="exam-2018.html"><i class="fa fa-check"></i><b>10.1</b> Exam 2018</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="exam-2018.html"><a href="exam-2018.html#case-1"><i class="fa fa-check"></i><b>10.1.1</b> Case 1</a>
<ul>
<li class="chapter" data-level="10.1.1.1" data-path="exam-2018.html"><a href="exam-2018.html#q1"><i class="fa fa-check"></i><b>10.1.1.1</b> Q1</a></li>
<li class="chapter" data-level="10.1.1.2" data-path="exam-2018.html"><a href="exam-2018.html#q2"><i class="fa fa-check"></i><b>10.1.1.2</b> Q2</a>
<ul>
<li class="chapter" data-level="10.1.1.2.1" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-using-arima"><i class="fa fa-check"></i><b>10.1.1.2.1</b> Forecasting using ARIMA</a></li>
<li class="chapter" data-level="10.1.1.2.2" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-with-simple-moving-averages-1991---2000"><i class="fa fa-check"></i><b>10.1.1.2.2</b> Forecasting with simple moving averages 1991 - 2000</a>
<ul>
<li class="chapter" data-level="10.1.1.2.2.1" data-path="exam-2018.html"><a href="exam-2018.html#using-ma"><i class="fa fa-check"></i><b>10.1.1.2.2.1</b> 1. Using ma()</a></li>
<li class="chapter" data-level="10.1.1.2.2.2" data-path="exam-2018.html"><a href="exam-2018.html#using-excel"><i class="fa fa-check"></i><b>10.1.1.2.2.2</b> 2. Using excel</a></li>
<li class="chapter" data-level="10.1.1.2.2.3" data-path="exam-2018.html"><a href="exam-2018.html#using-a-loop"><i class="fa fa-check"></i><b>10.1.1.2.2.3</b> 3. Using a loop</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.1.3" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-2001---2018"><i class="fa fa-check"></i><b>10.1.1.3</b> Forecasting 2001 - 2018</a>
<ul>
<li class="chapter" data-level="10.1.1.3.1" data-path="exam-2018.html"><a href="exam-2018.html#using-ma-loop-method"><i class="fa fa-check"></i><b>10.1.1.3.1</b> Using ma (loop method)</a></li>
<li class="chapter" data-level="10.1.1.3.2" data-path="exam-2018.html"><a href="exam-2018.html#using-arima-rw-drift"><i class="fa fa-check"></i><b>10.1.1.3.2</b> Using ARIMA (RW + drift)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.2" data-path="exam-2018.html"><a href="exam-2018.html#q3"><i class="fa fa-check"></i><b>10.1.2</b> Q3</a>
<ul>
<li class="chapter" data-level="10.1.2.1" data-path="exam-2018.html"><a href="exam-2018.html#diagnostics"><i class="fa fa-check"></i><b>10.1.2.1</b> Diagnostics</a>
<ul>
<li class="chapter" data-level="10.1.2.1.1" data-path="exam-2018.html"><a href="exam-2018.html#check-for-heteroskedasticity"><i class="fa fa-check"></i><b>10.1.2.1.1</b> Check for heteroskedasticity</a></li>
<li class="chapter" data-level="10.1.2.1.2" data-path="exam-2018.html"><a href="exam-2018.html#check-for-independent-residuals"><i class="fa fa-check"></i><b>10.1.2.1.2</b> Check for independent residuals</a></li>
<li class="chapter" data-level="10.1.2.1.3" data-path="exam-2018.html"><a href="exam-2018.html#checking-residuals-for-normality"><i class="fa fa-check"></i><b>10.1.2.1.3</b> Checking residuals for normality</a></li>
<li class="chapter" data-level="10.1.2.1.4" data-path="exam-2018.html"><a href="exam-2018.html#conclusion"><i class="fa fa-check"></i><b>10.1.2.1.4</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.3" data-path="exam-2018.html"><a href="exam-2018.html#q4"><i class="fa fa-check"></i><b>10.1.3</b> Q4</a>
<ul>
<li class="chapter" data-level="10.1.3.1" data-path="exam-2018.html"><a href="exam-2018.html#test-without-integration"><i class="fa fa-check"></i><b>10.1.3.1</b> Test without integration</a></li>
<li class="chapter" data-level="10.1.3.2" data-path="exam-2018.html"><a href="exam-2018.html#test-with-first-order-integration"><i class="fa fa-check"></i><b>10.1.3.2</b> Test with first order integration</a></li>
</ul></li>
<li class="chapter" data-level="10.1.4" data-path="exam-2018.html"><a href="exam-2018.html#q5"><i class="fa fa-check"></i><b>10.1.4</b> Q5</a></li>
<li class="chapter" data-level="10.1.5" data-path="exam-2018.html"><a href="exam-2018.html#q6"><i class="fa fa-check"></i><b>10.1.5</b> Q6</a>
<ul>
<li class="chapter" data-level="10.1.5.1" data-path="exam-2018.html"><a href="exam-2018.html#vector-autoregressive-model-var"><i class="fa fa-check"></i><b>10.1.5.1</b> Vector AutoRegressive Model (VAR)</a>
<ul>
<li class="chapter" data-level="10.1.5.1.1" data-path="exam-2018.html"><a href="exam-2018.html#determine-order-of-lags-to-be-included-model-estimation-1"><i class="fa fa-check"></i><b>10.1.5.1.1</b> 1. Determine order of lags to be included + model estimation</a></li>
<li class="chapter" data-level="10.1.5.1.2" data-path="exam-2018.html"><a href="exam-2018.html#model-diagnostics-1"><i class="fa fa-check"></i><b>10.1.5.1.2</b> 2. Model diagnostics</a></li>
<li class="chapter" data-level="10.1.5.1.3" data-path="exam-2018.html"><a href="exam-2018.html#response-to-shocks-in-the-variables-1"><i class="fa fa-check"></i><b>10.1.5.1.3</b> 3. Response to shocks in the variables</a>
<ul>
<li class="chapter" data-level="10.1.5.1.3.1" data-path="exam-2018.html"><a href="exam-2018.html#exogenious-vs.-endogenious-1"><i class="fa fa-check"></i><b>10.1.5.1.3.1</b> Exogenious vs. endogenious</a></li>
</ul></li>
<li class="chapter" data-level="10.1.5.1.4" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-with-adl-1"><i class="fa fa-check"></i><b>10.1.5.1.4</b> 4. Forecasting with ADL</a>
<ul>
<li class="chapter" data-level="10.1.5.1.4.1" data-path="exam-2018.html"><a href="exam-2018.html#step-1---data-partition-1"><i class="fa fa-check"></i><b>10.1.5.1.4.1</b> Step 1 - Data partition</a></li>
<li class="chapter" data-level="10.1.5.1.4.2" data-path="exam-2018.html"><a href="exam-2018.html#step-2---select-the-order-of-var-1"><i class="fa fa-check"></i><b>10.1.5.1.4.2</b> Step 2 - Select the order of VAR</a></li>
<li class="chapter" data-level="10.1.5.1.4.3" data-path="exam-2018.html"><a href="exam-2018.html#step-3---fit-the-model-check-residuals-1"><i class="fa fa-check"></i><b>10.1.5.1.4.3</b> Step 3 - Fit the model + check residuals</a></li>
<li class="chapter" data-level="10.1.5.1.4.4" data-path="exam-2018.html"><a href="exam-2018.html#step-4---make-the-forecast-1"><i class="fa fa-check"></i><b>10.1.5.1.4.4</b> Step 4 - Make the forecast</a></li>
<li class="chapter" data-level="10.1.5.1.4.5" data-path="exam-2018.html"><a href="exam-2018.html#step-5---assessing-accuracy-1"><i class="fa fa-check"></i><b>10.1.5.1.4.5</b> Step 5 - Assessing accuracy</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.6" data-path="exam-2018.html"><a href="exam-2018.html#q7"><i class="fa fa-check"></i><b>10.1.6</b> Q7</a></li>
<li class="chapter" data-level="10.1.7" data-path="exam-2018.html"><a href="exam-2018.html#case-2"><i class="fa fa-check"></i><b>10.1.7</b> Case 2</a>
<ul>
<li class="chapter" data-level="10.1.7.1" data-path="exam-2018.html"><a href="exam-2018.html#q1-1"><i class="fa fa-check"></i><b>10.1.7.1</b> Q1</a></li>
<li class="chapter" data-level="10.1.7.2" data-path="exam-2018.html"><a href="exam-2018.html#q2-1"><i class="fa fa-check"></i><b>10.1.7.2</b> Q2</a></li>
<li class="chapter" data-level="10.1.7.3" data-path="exam-2018.html"><a href="exam-2018.html#q3-1"><i class="fa fa-check"></i><b>10.1.7.3</b> Q3</a></li>
<li class="chapter" data-level="10.1.7.4" data-path="exam-2018.html"><a href="exam-2018.html#q4-1"><i class="fa fa-check"></i><b>10.1.7.4</b> Q4</a></li>
<li class="chapter" data-level="10.1.7.5" data-path="exam-2018.html"><a href="exam-2018.html#q5-1"><i class="fa fa-check"></i><b>10.1.7.5</b> Q5</a></li>
<li class="chapter" data-level="10.1.7.6" data-path="exam-2018.html"><a href="exam-2018.html#q6-1"><i class="fa fa-check"></i><b>10.1.7.6</b> Q6</a>
<ul>
<li class="chapter" data-level="10.1.7.6.1" data-path="exam-2018.html"><a href="exam-2018.html#combined-model"><i class="fa fa-check"></i><b>10.1.7.6.1</b> Combined model</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="nordpool-case.html"><a href="nordpool-case.html"><i class="fa fa-check"></i><b>10.2</b> Nordpool Case</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="nordpool-case.html"><a href="nordpool-case.html#what-is-the-key-variable-of-interest-and-which-ones-are-the-variables-that-are-of-secondary-interest"><i class="fa fa-check"></i><b>10.2.1</b> 1.What is the key variable of interest and which ones are the variables that are of secondary interest?</a></li>
<li class="chapter" data-level="10.2.2" data-path="nordpool-case.html"><a href="nordpool-case.html#what-is-the-relationship-between-system-price-and-buysell-sides"><i class="fa fa-check"></i><b>10.2.2</b> 2 What is the relationship between system price and buy/sell sides?</a></li>
<li class="chapter" data-level="10.2.3" data-path="nordpool-case.html"><a href="nordpool-case.html#what-models-should-we-use-to-build-an-optimal-forecast-for-system-price"><i class="fa fa-check"></i><b>10.2.3</b> 3 What models should we use to build an optimal forecast for system price?</a></li>
<li class="chapter" data-level="10.2.4" data-path="nordpool-case.html"><a href="nordpool-case.html#what-is-the-expected-behavior-of-system-price-in-the-next-25-periods"><i class="fa fa-check"></i><b>10.2.4</b> 4 What is the expected behavior of system price in the next 25 periods?</a></li>
<li class="chapter" data-level="10.2.5" data-path="nordpool-case.html"><a href="nordpool-case.html#how-does-the-future-relationship-of-system-price-with-the-other-variables-evolve"><i class="fa fa-check"></i><b>10.2.5</b> 5 How does the future relationship of system price with the other variables evolve?</a></li>
<li class="chapter" data-level="10.2.6" data-path="nordpool-case.html"><a href="nordpool-case.html#what-can-we-infer-from-this-relationship-and-how-can-we-give-investment-recommendation-based-on-that"><i class="fa fa-check"></i><b>10.2.6</b> 6 What can we infer from this relationship, and how can we give investment recommendation based on that?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="communicating-technical-findings.html"><a href="communicating-technical-findings.html"><i class="fa fa-check"></i><b>11</b> Communicating Technical Findings</a></li>
<li class="chapter" data-level="12" data-path="Methods.html"><a href="Methods.html"><i class="fa fa-check"></i><b>12</b> Methods and Performance Measurement</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html"><i class="fa fa-check"></i><b>12.1</b> Forecasting Methods</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#using-averages"><i class="fa fa-check"></i><b>12.1.1</b> Using Averages</a>
<ul>
<li class="chapter" data-level="12.1.1.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#simple-averages"><i class="fa fa-check"></i><b>12.1.1.1</b> Simple Averages</a></li>
<li class="chapter" data-level="12.1.1.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#MA"><i class="fa fa-check"></i><b>12.1.1.2</b> Moving Average (MA)</a></li>
<li class="chapter" data-level="12.1.1.3" data-path="ForecastMethods.html"><a href="ForecastMethods.html#double-moving-average"><i class="fa fa-check"></i><b>12.1.1.3</b> Double Moving Average</a></li>
</ul></li>
<li class="chapter" data-level="12.1.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#linear-regressions"><i class="fa fa-check"></i><b>12.1.2</b> Linear regressions</a></li>
<li class="chapter" data-level="12.1.3" data-path="ForecastMethods.html"><a href="ForecastMethods.html#non-linear-regressions"><i class="fa fa-check"></i><b>12.1.3</b> Non linear regressions</a></li>
<li class="chapter" data-level="12.1.4" data-path="ForecastMethods.html"><a href="ForecastMethods.html#smoothing-methods"><i class="fa fa-check"></i><b>12.1.4</b> Smoothing methods</a>
<ul>
<li class="chapter" data-level="12.1.4.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#exponential-smoothing"><i class="fa fa-check"></i><b>12.1.4.1</b> Exponential smoothing</a></li>
<li class="chapter" data-level="12.1.4.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#holts-exponential-smoothing"><i class="fa fa-check"></i><b>12.1.4.2</b> Holt’s exponential smoothing</a></li>
<li class="chapter" data-level="12.1.4.3" data-path="ForecastMethods.html"><a href="ForecastMethods.html#winters-exponential-smoothing"><i class="fa fa-check"></i><b>12.1.4.3</b> Winters’ exponential smoothing</a></li>
<li class="chapter" data-level="12.1.4.4" data-path="ForecastMethods.html"><a href="ForecastMethods.html#moving-averages-see-section-refma"><i class="fa fa-check"></i><b>12.1.4.4</b> Moving Averages, see section @ref(MA)</a></li>
</ul></li>
<li class="chapter" data-level="12.1.5" data-path="ForecastMethods.html"><a href="ForecastMethods.html#arima"><i class="fa fa-check"></i><b>12.1.5</b> ARIMA</a></li>
<li class="chapter" data-level="12.1.6" data-path="ForecastMethods.html"><a href="ForecastMethods.html#dynamic-forecasting-1"><i class="fa fa-check"></i><b>12.1.6</b> Dynamic forecasting</a>
<ul>
<li class="chapter" data-level="12.1.6.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#adl-1"><i class="fa fa-check"></i><b>12.1.6.1</b> ADL</a></li>
<li class="chapter" data-level="12.1.6.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#var"><i class="fa fa-check"></i><b>12.1.6.2</b> VAR</a></li>
</ul></li>
<li class="chapter" data-level="12.1.7" data-path="ForecastMethods.html"><a href="ForecastMethods.html#decompisition"><i class="fa fa-check"></i><b>12.1.7</b> Decompisition</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html"><i class="fa fa-check"></i><b>12.2</b> Performance Measurements</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html#error-terms"><i class="fa fa-check"></i><b>12.2.1</b> Error terms</a></li>
<li class="chapter" data-level="12.2.2" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html#multicollinearity-1"><i class="fa fa-check"></i><b>12.2.2</b> Multicollinearity</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="statistical-tests.html"><a href="statistical-tests.html"><i class="fa fa-check"></i><b>12.3</b> Statistical tests</a></li>
<li class="chapter" data-level="12.4" data-path="formulas.html"><a href="formulas.html"><i class="fa fa-check"></i><b>12.4</b> Formulas</a></li>
<li class="chapter" data-level="12.5" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>12.5</b> Loops!!!!</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="loops.html"><a href="loops.html#holtwinters-smoothing---finding-optimal-frequency"><i class="fa fa-check"></i><b>12.5.1</b> HoltWinters Smoothing - finding optimal frequency</a></li>
<li class="chapter" data-level="12.5.2" data-path="loops.html"><a href="loops.html#arima---it-is-not-really-that-useful-does-not-have-all-combinations"><i class="fa fa-check"></i><b>12.5.2</b> ARIMA - it is not really that useful, does not have all combinations</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Business Forecasting</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercises-2" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Exercises</h2>
<p>The section contain several exercises covering:</p>
<ul>
<li>Decomposing and forecasting without cycles</li>
<li>Decomposing and forecasting with cycles</li>
<li>Time Series regression with other variables</li>
<li>Fitting trend variable</li>
<li>Decomposing using OLS, decompose and CMA</li>
</ul>
<div id="ex:DecompositionTrendSeasonality" class="section level3" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> Decomposition + Forecast Exercise</h3>
<p>We use the Alomega Foodstore sales data to show the following:</p>
<ol style="list-style-type: lower-alpha">
<li>How to make a decomposition of a time series, using <code>decompose()</code></li>
<li>How to use <code>decompose()</code> to retrieve the different components and store these</li>
<li>How to inteprete the components</li>
<li>How to forecast using the components</li>
</ol>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="exercises-2.html#cb59-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Alomegafoodstores.xlsx&quot;</span>)</span>
<span id="cb59-2"><a href="exercises-2.html#cb59-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y<span class="sc">$</span>Sales</span>
<span id="cb59-3"><a href="exercises-2.html#cb59-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="at">data =</span> y <span class="co">#The data</span></span>
<span id="cb59-4"><a href="exercises-2.html#cb59-4" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">frequency =</span> <span class="dv">12</span> <span class="co">#Data is monthly</span></span>
<span id="cb59-5"><a href="exercises-2.html#cb59-5" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">end =</span> <span class="fu">c</span>(<span class="dv">2006</span>,<span class="dv">12</span>)</span>
<span id="cb59-6"><a href="exercises-2.html#cb59-6" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb59-7"><a href="exercises-2.html#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb59-8"><a href="exercises-2.html#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdisplay</span>(y)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-43-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>It appears as if we have seasonality, but a trend is dificult to say.</p>
<p>It appears as if the data is additive, as the variance appear to be more or less the same over time.</p>
<div id="a.-decomposing-the-time-series" class="section level4" number="6.5.1.1">
<h4><span class="header-section-number">6.5.1.1</span> a. Decomposing the time series</h4>
<p>Now we can decompose the elements using <code>decompose()</code>, where moving averages are applied to deseasonalize the data.</p>
<p>But just for the sake of it, the multuplicative decomposition is made as well.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="exercises-2.html#cb60-1" aria-hidden="true" tabindex="-1"></a>y.decom.add <span class="ot">&lt;-</span> <span class="fu">decompose</span>(<span class="at">x =</span> y <span class="co">#The ts</span></span>
<span id="cb60-2"><a href="exercises-2.html#cb60-2" aria-hidden="true" tabindex="-1"></a>                         ,<span class="at">type =</span> <span class="st">&quot;additive&quot;</span> <span class="co">#The composition</span></span>
<span id="cb60-3"><a href="exercises-2.html#cb60-3" aria-hidden="true" tabindex="-1"></a>                         )</span>
<span id="cb60-4"><a href="exercises-2.html#cb60-4" aria-hidden="true" tabindex="-1"></a>y.decom.mult <span class="ot">&lt;-</span> <span class="fu">decompose</span>(<span class="at">x =</span> y <span class="co">#The ts</span></span>
<span id="cb60-5"><a href="exercises-2.html#cb60-5" aria-hidden="true" tabindex="-1"></a>                         ,<span class="at">type =</span> <span class="st">&quot;multiplicative&quot;</span> <span class="co">#The composition</span></span>
<span id="cb60-6"><a href="exercises-2.html#cb60-6" aria-hidden="true" tabindex="-1"></a>                         )</span>
<span id="cb60-7"><a href="exercises-2.html#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y.decom.add)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-44-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="b.-retrieving-components" class="section level4" number="6.5.1.2">
<h4><span class="header-section-number">6.5.1.2</span> b. Retrieving components</h4>
<p>Recall that we have the following components:</p>
<ol style="list-style-type: decimal">
<li>Trend (T), Tr in this example, as T is used for TRUE statement</li>
<li>Seasons(S)</li>
<li>Irregular(I) - <strong>NOTICE: We don’t want to use this for forecasting, as it is random, hence it can be left out from the assembly yhat</strong></li>
</ol>
<p>We see no cycles, and assume that they are not there.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="exercises-2.html#cb61-1" aria-hidden="true" tabindex="-1"></a>Tr <span class="ot">&lt;-</span> y.decom.add<span class="sc">$</span>trend</span>
<span id="cb61-2"><a href="exercises-2.html#cb61-2" aria-hidden="true" tabindex="-1"></a>S <span class="ot">&lt;-</span> y.decom.add<span class="sc">$</span>seasonal</span>
<span id="cb61-3"><a href="exercises-2.html#cb61-3" aria-hidden="true" tabindex="-1"></a>I <span class="ot">&lt;-</span> y.decom.add<span class="sc">$</span>random</span></code></pre></div>
</div>
<div id="c.-interpreting-the-resutls" class="section level4" number="6.5.1.3">
<h4><span class="header-section-number">6.5.1.3</span> c. Interpreting the resutls</h4>
<p>For the sake of it, the additive and multiplicative decompositions are plotted.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="exercises-2.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y.decom.add)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-46-1.png" width="480" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="exercises-2.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y.decom.mult)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-46-2.png" width="480" style="display: block; margin: auto;" /></p>
<p>We see that the decomposition finds a trend and also it appears as there are some reoccurring patterns in the seasons.</p>
<p>But notice that the seasonal component is different, now it is a factor, which is relative to the trend.</p>
</div>
<div id="d.-forecasting-using-the-components" class="section level4" number="6.5.1.4">
<h4><span class="header-section-number">6.5.1.4</span> d. Forecasting using the components</h4>
<div id="fitting-the-model" class="section level5" number="6.5.1.4.1">
<h5><span class="header-section-number">6.5.1.4.1</span> Fitting the model</h5>
<p>We see that we are able to construct the in sample data 1:1 if the composition is created with all three components.</p>
<p>Let us forecast only using the trend and season component.</p>
<p>We see that we area able to plot the following:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="exercises-2.html#cb64-1" aria-hidden="true" tabindex="-1"></a>yhat<span class="ot">&lt;-</span>Tr<span class="sc">+</span>S <span class="co">#Notice, that I is left out, as it is a random component</span></span>
<span id="cb64-2"><a href="exercises-2.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y, <span class="at">type=</span><span class="st">&quot;l&quot;</span>) <span class="sc">+</span> <span class="fu">lines</span>(Tr,<span class="at">col=</span><span class="st">&quot;green&quot;</span>) <span class="sc">+</span> <span class="fu">lines</span>(yhat,<span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-47-1.png" width="480" style="display: block; margin: auto;" /></p>
<pre><code>## integer(0)</code></pre>
<p>We can assess the accuracy of the composition of the trend and seasons.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="exercises-2.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(yhat,y)</span></code></pre></div>
<pre><code>##                 ME     RMSE     MAE       MPE     MAPE        ACF1 Theil&#39;s U
## Test set -3913.472 56659.88 43104.6 -2.781556 11.18807 -0.09662767 0.2250085</code></pre>
<p>We see that the mean percentage error is -2,78 percent, hence it appears as there is a tendency for the model to be underestimating y.</p>
</div>
<div id="forecasting-using-the-composition" class="section level5" number="6.5.1.4.2">
<h5><span class="header-section-number">6.5.1.4.2</span> Forecasting using the composition</h5>
<p>Now we can apply the model in a forecasting setting to forecast h horizons.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="exercises-2.html#cb68-1" aria-hidden="true" tabindex="-1"></a>forecast.decom.add <span class="ot">&lt;-</span> <span class="fu">forecast</span>(<span class="at">object =</span> yhat,<span class="at">h =</span> <span class="dv">18</span>)</span>
<span id="cb68-2"><a href="exercises-2.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(<span class="fu">t</span>(forecast.decom.add<span class="sc">$</span>mean))</span></code></pre></div>
<pre><code>##           [,1]
##  [1,] 446496.7
##  [2,] 320351.2
##  [3,] 541732.4
##  [4,] 380127.7
##  [5,] 361224.6
##  [6,] 262271.3
##  [7,] 635257.0
##  [8,] 317322.8
##  [9,] 598609.9
## [10,] 362402.8
## [11,] 526939.7
## [12,] 414048.1
## [13,] 464803.6
## [14,] 338658.2
## [15,] 560039.4
## [16,] 398434.7
## [17,] 379531.6
## [18,] 280578.3</code></pre>
<p>18 months are chosen, as the function forecast from the middle of 2006, where it is was not able to fit the components, as it applies CMA on the months.</p>
<p>Using 18 months, we get forecasts for the last half a year and there after a whole year</p>
<p>We can also plot the forecast</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="exercises-2.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(forecast.decom.add)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-50-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>We can assess the accuracy of the first 6 forecasted periods, as they are known</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="exercises-2.html#cb71-1" aria-hidden="true" tabindex="-1"></a>y.test <span class="ot">&lt;-</span> y[(<span class="fu">length</span>(y)<span class="sc">-</span><span class="dv">5</span>)<span class="sc">:</span><span class="fu">length</span>(y)]</span>
<span id="cb71-2"><a href="exercises-2.html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(<span class="at">object =</span> forecast.decom.add<span class="sc">$</span>mean[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>],<span class="at">x =</span> y.test)</span></code></pre></div>
<pre><code>##                ME     RMSE      MAE      MPE     MAPE
## Test set 36881.52 90588.21 60504.58 3.564348 13.03319</code></pre>
<p>We see that the accuracy of these periods are 3.56% (MPE).</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="exercises-2.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
</div>
</div>
<div id="ex:DecompositionCycles" class="section level3" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> Decomposition with cycles + Forecasting</h3>
<p>Process:</p>
<ol style="list-style-type: decimal">
<li>Finding CMA (deseasonalizing)</li>
<li>Finding SF</li>
<li>Identifying Trend</li>
<li>Finding detrended and deseasonalized data</li>
<li>Cycle identifying factor</li>
</ol>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="exercises-2.html#cb74-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Alomegafoodstores.xlsx&quot;</span>)</span>
<span id="cb74-2"><a href="exercises-2.html#cb74-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y<span class="sc">$</span>Sales</span>
<span id="cb74-3"><a href="exercises-2.html#cb74-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="at">data =</span> y <span class="co">#The data</span></span>
<span id="cb74-4"><a href="exercises-2.html#cb74-4" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">frequency =</span> <span class="dv">12</span> <span class="co">#Data is monthly</span></span>
<span id="cb74-5"><a href="exercises-2.html#cb74-5" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">end =</span> <span class="fu">c</span>(<span class="dv">2006</span>,<span class="dv">12</span>)</span>
<span id="cb74-6"><a href="exercises-2.html#cb74-6" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<div id="finding-cma-deseasonalizing" class="section level4" number="6.5.2.1">
<h4><span class="header-section-number">6.5.2.1</span> 1. Finding CMA (deseasonalizing)</h4>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="exercises-2.html#cb75-1" aria-hidden="true" tabindex="-1"></a>CMA <span class="ot">&lt;-</span> <span class="fu">ma</span>(<span class="at">x =</span> y <span class="co">#The data</span></span>
<span id="cb75-2"><a href="exercises-2.html#cb75-2" aria-hidden="true" tabindex="-1"></a>          ,<span class="at">order =</span> <span class="dv">12</span> <span class="co">#When the same period occurs</span></span>
<span id="cb75-3"><a href="exercises-2.html#cb75-3" aria-hidden="true" tabindex="-1"></a>          ,<span class="at">centre =</span> <span class="cn">TRUE</span>) <span class="co">#As we have an even period</span></span></code></pre></div>
<p>We have now deseasonalized the data, as the moving average has removed the effect of the seasons.</p>
</div>
<div id="finding-sf" class="section level4" number="6.5.2.2">
<h4><span class="header-section-number">6.5.2.2</span> 2. Finding SF</h4>
<p>That is, identifying whether we are above or below the deseasonalized data.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="exercises-2.html#cb76-1" aria-hidden="true" tabindex="-1"></a>SF<span class="ot">&lt;-</span>y<span class="sc">/</span>CMA</span>
<span id="cb76-2"><a href="exercises-2.html#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(SF, <span class="at">type=</span><span class="st">&quot;l&quot;</span>)</span>
<span id="cb76-3"><a href="exercises-2.html#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">1</span> <span class="co">#Plotted, as when one is on 1, then you are neither above or below</span></span>
<span id="cb76-4"><a href="exercises-2.html#cb76-4" aria-hidden="true" tabindex="-1"></a>       ,<span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-55-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="identifying-trend" class="section level4" number="6.5.2.3">
<h4><span class="header-section-number">6.5.2.3</span> 3. Identifying Trend</h4>
<p>We introduce a trend variable to take out the effect of the trend</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="exercises-2.html#cb77-1" aria-hidden="true" tabindex="-1"></a>trend <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(y)) <span class="co">#Making counter</span></span>
<span id="cb77-2"><a href="exercises-2.html#cb77-2" aria-hidden="true" tabindex="-1"></a>linmod <span class="ot">&lt;-</span> <span class="fu">lm</span>(CMA <span class="sc">~</span> trend</span>
<span id="cb77-3"><a href="exercises-2.html#cb77-3" aria-hidden="true" tabindex="-1"></a>             ,<span class="at">na.action =</span> <span class="st">&quot;na.exclude&quot;</span>)</span></code></pre></div>
<p>Notice that we don’t care about the model, we just need the fitted values for identifying the cycle factor.</p>
</div>
<div id="finding-detrended-and-deseasonalized-data" class="section level4" number="6.5.2.4">
<h4><span class="header-section-number">6.5.2.4</span> 4. Finding detrended and deseasonalized data</h4>
<p>In step 1 we deseasonalized the data, based on the fitted model, we have detrended the</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="exercises-2.html#cb78-1" aria-hidden="true" tabindex="-1"></a>CMAT <span class="ot">&lt;-</span> linmod<span class="sc">$</span>fitted.values</span></code></pre></div>
</div>
<div id="cycle-identifying-factor" class="section level4" number="6.5.2.5">
<h4><span class="header-section-number">6.5.2.5</span> 5. Cycle identifying factor</h4>
<p>We the deseasonalized and detrended data, we are able to idenitify if the deseasonalized data is above or below the seasons.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="exercises-2.html#cb79-1" aria-hidden="true" tabindex="-1"></a>CF <span class="ot">&lt;-</span> <span class="fu">na.exclude</span>(CMA) <span class="sc">/</span> CMAT</span>
<span id="cb79-2"><a href="exercises-2.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts.plot</span>(CF)</span>
<span id="cb79-3"><a href="exercises-2.html#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">1</span>,<span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-58"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-58-1.png" alt="Cycle Factor" width="480" />
<p class="caption">
Figure 6.1: Cycle Factor
</p>
</div>
<p>We want to look for wavelike patterns. We don’t see any, hence it is fair to assume, that we don’t have any cycles.</p>
<p>If we had, what to do?</p>
<ul>
<li>When multiplicative: One can apply the cycle factor in the regression</li>
<li>When additive: One can apply the difference (between CMA and CMAT) in the regression.</li>
</ul>
<p>End of exercise:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="exercises-2.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
</div>
<div id="TimeSeriesRegression" class="section level3" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> Time series regression</h3>
<p>This example show how one can apply other variables in a regression</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="exercises-2.html#cb81-1" aria-hidden="true" tabindex="-1"></a>Alomegasales <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Alomegafoodstores.xlsx&quot;</span>)</span>
<span id="cb81-2"><a href="exercises-2.html#cb81-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Alomegafoodstores.xlsx&quot;</span>)</span>
<span id="cb81-3"><a href="exercises-2.html#cb81-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y<span class="sc">$</span>Sales</span>
<span id="cb81-4"><a href="exercises-2.html#cb81-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="at">data =</span> y <span class="co">#The data</span></span>
<span id="cb81-5"><a href="exercises-2.html#cb81-5" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">frequency =</span> <span class="dv">12</span> <span class="co">#Data is monthly</span></span>
<span id="cb81-6"><a href="exercises-2.html#cb81-6" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">end =</span> <span class="fu">c</span>(<span class="dv">2006</span>,<span class="dv">12</span>)</span>
<span id="cb81-7"><a href="exercises-2.html#cb81-7" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb81-8"><a href="exercises-2.html#cb81-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-9"><a href="exercises-2.html#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="co">#fetch explanatory variables</span></span>
<span id="cb81-10"><a href="exercises-2.html#cb81-10" aria-hidden="true" tabindex="-1"></a>paper<span class="ot">&lt;-</span><span class="fu">ts</span>(Alomegasales<span class="sc">$</span>Paper, <span class="at">frequency=</span><span class="dv">12</span>)</span>
<span id="cb81-11"><a href="exercises-2.html#cb81-11" aria-hidden="true" tabindex="-1"></a>tv<span class="ot">&lt;-</span><span class="fu">ts</span>(Alomegasales<span class="sc">$</span>TV, <span class="at">frequency=</span><span class="dv">12</span>)</span>
<span id="cb81-12"><a href="exercises-2.html#cb81-12" aria-hidden="true" tabindex="-1"></a>month <span class="ot">&lt;-</span> <span class="fu">seasonaldummy</span>(y) <span class="co">#creates seasonal dummies, if such not available in the data</span></span>
<span id="cb81-13"><a href="exercises-2.html#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Regression model for sales</span></span>
<span id="cb81-14"><a href="exercises-2.html#cb81-14" aria-hidden="true" tabindex="-1"></a>reg <span class="ot">&lt;-</span><span class="fu">lm</span>(y<span class="sc">~</span>paper<span class="sc">+</span>tv<span class="sc">+</span>month)</span>
<span id="cb81-15"><a href="exercises-2.html#cb81-15" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ paper + tv + month)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -88551 -23745   -951  21590 107195 
## 
## Coefficients:
##                 Estimate   Std. Error t value       Pr(&gt;|t|)    
## (Intercept) 184393.15345  23401.84900   7.879 0.000000003560 ***
## paper            0.36319      0.06854   5.299 0.000007029523 ***
## tv               0.31530      0.03638   8.667 0.000000000398 ***
## monthJan    200847.13731  39150.70001   5.130 0.000011646830 ***
## monthFeb     55491.47382  32399.34749   1.713       0.095868 .  
## monthMar    199556.46868  34147.06238   5.844 0.000001372948 ***
## monthApr    100151.42985  32387.77669   3.092       0.003952 ** 
## monthMay    190293.03783  32822.15893   5.798 0.000001577161 ***
## monthJun    135441.04479  32580.72319   4.157       0.000206 ***
## monthJul    156608.64859  32699.04733   4.789 0.000032157745 ***
## monthAug     51585.64542  32419.67959   1.591       0.120825    
## monthSep    183619.40275  36521.78560   5.028 0.000015816441 ***
## monthOct    109096.18894  32438.67351   3.363       0.001919 ** 
## monthNov     96205.98997  32416.66110   2.968       0.005461 ** 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 45800 on 34 degrees of freedom
## Multiple R-squared:  0.9083, Adjusted R-squared:  0.8732 
## F-statistic:  25.9 on 13 and 34 DF,  p-value: 0.00000000000007305</code></pre>
<p>We see the model summary above. Now we can make the regression</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="exercises-2.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co">#obtain residuals from the model to perform model quality checks</span></span>
<span id="cb83-2"><a href="exercises-2.html#cb83-2" aria-hidden="true" tabindex="-1"></a>res<span class="ot">&lt;-</span>reg<span class="sc">$</span>residuals</span>
<span id="cb83-3"><a href="exercises-2.html#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-61-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>We see that the residuals appear homoskedastic.</p>
<p>We can check them for normality</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="exercises-2.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co">#check for normality</span></span>
<span id="cb84-2"><a href="exercises-2.html#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(res)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-62-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>By visual inspection, they appear to be normally distributed.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="exercises-2.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tseries)</span>
<span id="cb85-2"><a href="exercises-2.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">jarque.bera.test</span>(res) <span class="co">#Jarque-Bera test the null of normality</span></span></code></pre></div>
<pre><code>## 
##  Jarque Bera Test
## 
## data:  res
## X-squared = 1.0947, df = 2, p-value = 0.5785</code></pre>
<p>H0: Normality</p>
<p>Cannot reject.</p>
<p>Now we can check for multicollinearity</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="exercises-2.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">#testing for multicollinearity</span></span>
<span id="cb87-2"><a href="exercises-2.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb87-3"><a href="exercises-2.html#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">vif</span>(reg)</span></code></pre></div>
<pre><code>##           GVIF Df GVIF^(1/(2*Df))
## paper 2.054002  1        1.433179
## tv    1.559810  1        1.248924
## month 2.581443 11        1.044049</code></pre>
<p>We see that they are all ≈ 2 or less, hence no problem</p>
<p>We can check the residuals for autocorrelation (serial correlation). We dont want this</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="exercises-2.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co">#serial correlation</span></span>
<span id="cb89-2"><a href="exercises-2.html#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co">#acf(res)</span></span>
<span id="cb89-3"><a href="exercises-2.html#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">acf</span>(res,<span class="at">plot=</span>F)[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>])<span class="co">#alternative command if you want to skip the 0 lag</span></span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-65-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>Despite a few significant spikes, it appears as if it is not autocorrelated. This can be tested with the Durbin Watson test.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="exercises-2.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Durbin-Watson serial correlation test</span></span>
<span id="cb90-2"><a href="exercises-2.html#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmtest)</span>
<span id="cb90-3"><a href="exercises-2.html#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dwtest</span>(reg)</span></code></pre></div>
<pre><code>## 
##  Durbin-Watson test
## 
## data:  reg
## DW = 2.2742, p-value = 0.8231
## alternative hypothesis: true autocorrelation is greater than 0</code></pre>
<p>H0: No autocorrelation</p>
<p>We cannot reject on the five percent level</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="exercises-2.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
<p><br />
</p>
<p><br />
</p>
</div>
<div id="alomega-food-stores-case-6-p.-166-case-7-p.-348-another-example" class="section level3" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> Alomega Food Stores, case 6 p. 166 + case 7 p. 348 (Another example)</h3>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="exercises-2.html#cb93-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Alomegafoodstores.xlsx&quot;</span>)</span>
<span id="cb93-2"><a href="exercises-2.html#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(y)</span></code></pre></div>
<pre><code>## tibble [48 × 21] (S3: tbl_df/tbl/data.frame)
##  $ Sales : num [1:48] 425075 315305 432101 357191 347874 ...
##  $ Paper : num [1:48] 75253 15036 134440 119740 135590 ...
##  $ TV    : num [1:48] 114433 63599 64988 66842 39626 ...
##  $ Month : num [1:48] 1 2 3 4 5 6 7 8 9 10 ...
##  $ Dum1  : num [1:48] 1 0 0 0 0 0 0 0 0 0 ...
##  $ Dum2  : num [1:48] 0 1 0 0 0 0 0 0 0 0 ...
##  $ Dum3  : num [1:48] 0 0 1 0 0 0 0 0 0 0 ...
##  $ Dum4  : num [1:48] 0 0 0 1 0 0 0 0 0 0 ...
##  $ Dum5  : num [1:48] 0 0 0 0 1 0 0 0 0 0 ...
##  $ Dum6  : num [1:48] 0 0 0 0 0 1 0 0 0 0 ...
##  $ Dum7  : num [1:48] 0 0 0 0 0 0 1 0 0 0 ...
##  $ Dum8  : num [1:48] 0 0 0 0 0 0 0 1 0 0 ...
##  $ Dum9  : num [1:48] 0 0 0 0 0 0 0 0 1 0 ...
##  $ Dum10 : num [1:48] 0 0 0 0 0 0 0 0 0 1 ...
##  $ Dum11 : num [1:48] 0 0 0 0 0 0 0 0 0 0 ...
##  $ Paper1: num [1:48] 220 75253 15036 134440 119740 ...
##  $ Paper2: num [1:48] 5 220 75253 15036 134440 ...
##  $ TV1   : num [1:48] 88218 114433 63599 64988 66842 ...
##  $ TV2   : num [1:48] 76001 88218 114423 63599 64988 ...
##  $ M01-48: num [1:48] 1 2 3 4 5 6 7 8 9 10 ...
##  $ Compet: num [1:48] 1 2 2 1 2 3 3 2 3 3 ...</code></pre>
<p>We see that there are 21 variables, where sales is the DV and all others are IDVs, consisting of continous and factors.</p>
<p>Now we are interested in constructing a time series, which consist of the dependent variable. That is done in the following:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="exercises-2.html#cb95-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="at">data =</span> y<span class="sc">$</span>Sales <span class="co">#The dependent variable</span></span>
<span id="cb95-2"><a href="exercises-2.html#cb95-2" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">end =</span> <span class="fu">c</span>(<span class="dv">2006</span>,<span class="dv">12</span>) <span class="co">#The end date</span></span>
<span id="cb95-3"><a href="exercises-2.html#cb95-3" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">frequency =</span> <span class="dv">12</span> <span class="co">#The frequency, 12 as we are working with months</span></span>
<span id="cb95-4"><a href="exercises-2.html#cb95-4" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb95-5"><a href="exercises-2.html#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb95-6"><a href="exercises-2.html#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-69"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-69-1.png" alt="Time series Alomega Food" width="480" />
<p class="caption">
Figure 6.2: Time series Alomega Food
</p>
</div>
<p>Now we want to address if there is:</p>
<ul>
<li>Trend: visually it does not look like. But it will be tested by testing the time series against a trend variable</li>
<li>Seasons:<br />
</li>
<li>Cycles: THis is difficult to say, also as we only have data for four years</li>
</ul>
<p><strong>Trend</strong></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="exercises-2.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating trend variable</span></span>
<span id="cb96-2"><a href="exercises-2.html#cb96-2" aria-hidden="true" tabindex="-1"></a>trend <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>,<span class="at">to =</span> <span class="fu">length</span>(y),<span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb96-3"><a href="exercises-2.html#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="exercises-2.html#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating a linear model with the trend variable</span></span>
<span id="cb96-5"><a href="exercises-2.html#cb96-5" aria-hidden="true" tabindex="-1"></a>lm.fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> trend)</span>
<span id="cb96-6"><a href="exercises-2.html#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm.fit)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ trend)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -200465  -84502  -13613   71381  333683 
## 
## Coefficients:
##             Estimate Std. Error t value         Pr(&gt;|t|)    
## (Intercept)   350840      37726   9.300 0.00000000000389 ***
## trend           1335       1340   0.996            0.325    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 128600 on 46 degrees of freedom
## Multiple R-squared:  0.0211, Adjusted R-squared:  -0.0001811 
## F-statistic: 0.9915 on 1 and 46 DF,  p-value: 0.3246</code></pre>
<p>We see that the trend variable appear to be non significant, hence there is not enough evidence to reject the null hypothesis, being that there is no relationship between the dependent- and independent variable.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="exercises-2.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(<span class="at">object =</span> lm.fit <span class="co">#The fitted values from the linear model</span></span>
<span id="cb98-2"><a href="exercises-2.html#cb98-2" aria-hidden="true" tabindex="-1"></a>         ,<span class="at">y =</span> y <span class="co">#The actual value</span></span>
<span id="cb98-3"><a href="exercises-2.html#cb98-3" aria-hidden="true" tabindex="-1"></a>         )</span></code></pre></div>
<pre><code>##                                 ME     RMSE     MAE       MPE     MAPE     MASE
## Training set -0.000000000002425023 125940.3 99341.6 -10.69473 28.49834 0.992719</code></pre>
<p>We see the RMSE of 125.940, this can also be plotted to see the fitted values against the residuals, where the mean absolute error is just below 100.000 units. Notice, that this test in done in sample.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="exercises-2.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> lm.fit<span class="sc">$</span>fitted.values,<span class="at">y =</span> lm.fit<span class="sc">$</span>residuals,<span class="at">main =</span> <span class="st">&quot;Resduals plot&quot;</span>) <span class="sc">+</span> </span>
<span id="cb100-2"><a href="exercises-2.html#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span> </span>
<span id="cb100-3"><a href="exercises-2.html#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>,<span class="at">lty =</span> <span class="dv">3</span>,<span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-72"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-72-1.png" alt="Residuals plot" width="480" />
<p class="caption">
Figure 6.3: Residuals plot
</p>
</div>
<pre><code>## integer(0)</code></pre>
<div id="what-might-jackson-tilson-say-about-the-forecasts" class="section level4" number="6.5.4.1">
<h4><span class="header-section-number">6.5.4.1</span> What might Jackson Tilson say about the forecasts?</h4>
<p>With mean average percentage error of 28%, the forecast may not be super good. Although it was shown, that there is statistical evidence for the model being significant. Hence, we must try to convince him, that it does in fact contribute with some knowledge.</p>
<p><strong>What other forecast methods could be used?</strong></p>
<p>E.g., smoothing or moving averages.</p>
</div>
<div id="p.348-case-7-alomega-food-stores" class="section level4" number="6.5.4.2">
<h4><span class="header-section-number">6.5.4.2</span> P.348 Case 7 (Alomega Food Stores)</h4>
<p>This is an extension of the case above. It has questions regarding what other things she might do.</p>
<p><strong>How is Julie sure that it is the right predictors</strong></p>
<p>We see on page 348, that some of the variables has a p-vale that is above the 5 percent level, hence there is a greater risk, that there is no statistical evidence for a relationship between the individual variables and the dependent variable.</p>
<p>Also changes in VIF for the variables, although none are close to 10 and according to the rule of thumb, there is no indication of multicollinearity</p>
<p><strong>How would you sell the model</strong></p>
<p>Focus on how it prepares them for future changes, planning staffing, procurement, etc.</p>
<p><strong>How may the model indicate future advertizing?</strong></p>
<p>We see that it makes sense to spend money on all three types of advertisements.</p>
<p><strong>What conditions to be aware of?</strong></p>
<ul>
<li>Autocorrelation in the error terms?</li>
<li>Multicollinearity</li>
</ul>
<p>Other models that could be used?</p>
<ul>
<li>ARIMA</li>
<li>Smoothing</li>
</ul>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="exercises-2.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
</div>
<div id="ex:MonthlySalesData" class="section level3" number="6.5.5">
<h3><span class="header-section-number">6.5.5</span> Monthly Sales Data</h3>
<p>Loading the data and storing only the y variable as a timeseries</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="exercises-2.html#cb103-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Salesdataseasonal.xlsx&quot;</span>)</span>
<span id="cb103-2"><a href="exercises-2.html#cb103-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(df<span class="sc">$</span>Sales</span>
<span id="cb103-3"><a href="exercises-2.html#cb103-3" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">frequency =</span> <span class="dv">12</span> <span class="co">#Monthly data</span></span>
<span id="cb103-4"><a href="exercises-2.html#cb103-4" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">start =</span> <span class="fu">c</span>(<span class="dv">1979</span>,<span class="dv">1</span>) <span class="co">#start year 1971 month 1</span></span>
<span id="cb103-5"><a href="exercises-2.html#cb103-5" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb103-6"><a href="exercises-2.html#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Plotting for visual interpretation</span></span>
<span id="cb103-7"><a href="exercises-2.html#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-74"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-74-1.png" alt="Visual interpretation" width="480" />
<p class="caption">
Figure 6.4: Visual interpretation
</p>
</div>
<p>Goal:</p>
<ol style="list-style-type: lower-alpha">
<li>Seasonal dummies</li>
<li>Trend variable</li>
</ol>
<p>Hereafter different approaches to decomposing data is presented</p>
<ol style="list-style-type: decimal">
<li>OLS using seasonal dummies and trend variable</li>
<li>Decomposition using <code>decompose()</code></li>
<li>Using CMA (centered moving averages)</li>
</ol>
<p><strong><em>a. finding seasonal dummies</em></strong></p>
<p>Finding seasonal dummies using a trend</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="exercises-2.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creting matrix of dummies for each month</span></span>
<span id="cb104-2"><a href="exercises-2.html#cb104-2" aria-hidden="true" tabindex="-1"></a>month <span class="ot">&lt;-</span> <span class="fu">seasonaldummy</span>(<span class="at">x =</span> y)</span></code></pre></div>
<p>This can be shown with the following table</p>
<table>
<thead>
<tr class="header">
<th align="right">Jan</th>
<th align="right">Feb</th>
<th align="right">Mar</th>
<th align="right">Apr</th>
<th align="right">May</th>
<th align="right">Jun</th>
<th align="right">Jul</th>
<th align="right">Aug</th>
<th align="right">Sep</th>
<th align="right">Oct</th>
<th align="right">Nov</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>We see that a matrix has been created identifying what month each period belongs to.</p>
<p><strong><em>b. finding the trend variable</em></strong></p>
<p>In addition hereof, we must create a trend variable to account for the trend:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="exercises-2.html#cb105-1" aria-hidden="true" tabindex="-1"></a>trend <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="at">to =</span> <span class="fu">length</span>(y),<span class="at">by =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><strong><em>1. OLS using seasonal dummies and trend variable</em></strong></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="exercises-2.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Constructing linear model</span></span>
<span id="cb106-2"><a href="exercises-2.html#cb106-2" aria-hidden="true" tabindex="-1"></a>lmmod <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> month <span class="sc">+</span> trend)</span>
<span id="cb106-3"><a href="exercises-2.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lmmod)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ month + trend)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -41.782 -17.094  -3.591  15.140  91.349 
## 
## Coefficients:
##              Estimate Std. Error t value             Pr(&gt;|t|)    
## (Intercept)  84.01705    8.51294   9.869 &lt; 0.0000000000000002 ***
## monthJan      5.78164   10.54471   0.548               0.5844    
## monthFeb     42.89804   10.54352   4.069     0.00008250119327 ***
## monthMar     79.84777   10.54259   7.574     0.00000000000656 ***
## monthApr     76.88084   10.54192   7.293     0.00000000002882 ***
## monthMay     25.49724   10.54153   2.419               0.0170 *  
## monthJun    -13.05303   10.54139  -1.238               0.2179    
## monthJul    -49.51997   10.54153  -4.698     0.00000673141501 ***
## monthAug    -23.23690   10.54192  -2.204               0.0293 *  
## monthSep    -17.94010   10.76929  -1.666               0.0982 .  
## monthOct    -28.56613   10.76864  -2.653               0.0090 ** 
## monthNov      5.80784   10.76825   0.539               0.5906    
## trend         2.71693    0.05288  51.383 &lt; 0.0000000000000002 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 25.25 on 127 degrees of freedom
## Multiple R-squared:  0.9586, Adjusted R-squared:  0.9547 
## F-statistic:   245 on 12 and 127 DF,  p-value: &lt; 0.00000000000000022</code></pre>
<p>What can we deduct from this?</p>
<ul>
<li>January, June, September and November are not significant on the 5% level in the full model. Hence the dummies may not explain the sales for these months</li>
<li>There is overwhelming evidence for trend being present in the data</li>
</ul>
<p>Lets now look into the fitted values and plot</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="exercises-2.html#cb108-1" aria-hidden="true" tabindex="-1"></a>{<span class="co">#Plotting fitted values</span></span>
<span id="cb108-2"><a href="exercises-2.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lmmod<span class="sc">$</span>fitted.values,<span class="at">main =</span> <span class="st">&#39;Fitted values&#39;</span>,<span class="at">ylab =</span> <span class="st">&#39;Sales&#39;</span>) <span class="sc">+</span> </span>
<span id="cb108-3"><a href="exercises-2.html#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(lmmod<span class="sc">$</span>fitted.values,<span class="at">col =</span> <span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb108-4"><a href="exercises-2.html#cb108-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&#39;lightgrey&#39;</span>)</span>
<span id="cb108-5"><a href="exercises-2.html#cb108-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-6"><a href="exercises-2.html#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Plotting residuals</span></span>
<span id="cb108-7"><a href="exercises-2.html#cb108-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lmmod<span class="sc">$</span>residuals,<span class="at">main =</span> <span class="st">&#39;Residuals&#39;</span>,<span class="at">ylab =</span> <span class="st">&#39;Residuals&#39;</span>) <span class="sc">+</span> </span>
<span id="cb108-8"><a href="exercises-2.html#cb108-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(lmmod<span class="sc">$</span>residuals,<span class="at">col =</span> <span class="st">&#39;green&#39;</span>) <span class="sc">+</span></span>
<span id="cb108-9"><a href="exercises-2.html#cb108-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&#39;lightgrey&#39;</span>)}</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-79-1.png" width="480" style="display: block; margin: auto;" /><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-79-2.png" width="480" style="display: block; margin: auto;" /></p>
<pre><code>## integer(0)</code></pre>
<p><strong>2. Decomposition using <code>decompose()</code></strong></p>
<p>The following is able to decompose the series based on assuming additivity and multiplicative relationship.</p>
<p>Although as we see that the variance is increasing over time, then one may expect that the multiplicative approach is more appropriate.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="exercises-2.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Additive</span></span>
<span id="cb110-2"><a href="exercises-2.html#cb110-2" aria-hidden="true" tabindex="-1"></a>decompSalesAdd <span class="ot">&lt;-</span> <span class="fu">decompose</span>(<span class="at">x =</span> y <span class="co">#The timeseries</span></span>
<span id="cb110-3"><a href="exercises-2.html#cb110-3" aria-hidden="true" tabindex="-1"></a>                            ,<span class="at">type =</span> <span class="st">&quot;additive&quot;</span>) <span class="co">#for additive decomposition</span></span>
<span id="cb110-4"><a href="exercises-2.html#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Plotting</span></span>
<span id="cb110-5"><a href="exercises-2.html#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(decompSalesAdd)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-80"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-80-1.png" alt="Additive decomposition" width="480" />
<p class="caption">
Figure 6.5: Additive decomposition
</p>
</div>
<pre rfig.cap="Multiplicative decomposition"><code>#Multiplicative
decompSalesMult &lt;- decompose(x = y #The timeseries
                             ,type = &quot;multiplicative&quot;) #for multiplicative decomposition
#Plotting
plot(decompSalesMult)</code></pre>
<p><strong>3. CMA</strong></p>
<p>see process in <a href="the-success-criteria-and-process.html#DecomposingWithMA">6.4.2</a></p>
<ol style="list-style-type: decimal">
<li>Find the MA_t with equation (6.1) and (6.2) = <strong>Deseasonalizing data</strong></li>
</ol>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="exercises-2.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Finding centered MA</span></span>
<span id="cb112-2"><a href="exercises-2.html#cb112-2" aria-hidden="true" tabindex="-1"></a>CMA <span class="ot">&lt;-</span> <span class="fu">ma</span>(<span class="at">x =</span> y <span class="co">#The time series</span></span>
<span id="cb112-3"><a href="exercises-2.html#cb112-3" aria-hidden="true" tabindex="-1"></a>          ,<span class="at">order =</span> <span class="dv">12</span> <span class="co">#We want the average of 12 periods</span></span>
<span id="cb112-4"><a href="exercises-2.html#cb112-4" aria-hidden="true" tabindex="-1"></a>          ,<span class="at">centre =</span> <span class="cn">TRUE</span>) <span class="co">#As order is equal, then we want to make a centered MA</span></span>
<span id="cb112-5"><a href="exercises-2.html#cb112-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-6"><a href="exercises-2.html#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(CMA)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-81"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-81-1.png" alt="CMA" width="480" />
<p class="caption">
Figure 6.6: CMA
</p>
</div>
<p>We see that the centered moving averages have removed the seasons from the data. But there is clearly still a trend.</p>
<p>We are now able to <strong>estimate the trend</strong> using the deseasonalized data with with trend variable.</p>
<p><em>Just as we would deseasonalize any other data!!</em></p>
<ol start="2" style="list-style-type: decimal">
<li>Then find the centered MA (CMAT) = <strong>detrending data</strong></li>
</ol>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="exercises-2.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Detrending data </span></span>
<span id="cb113-2"><a href="exercises-2.html#cb113-2" aria-hidden="true" tabindex="-1"></a>linmod <span class="ot">&lt;-</span> <span class="fu">lm</span>(CMA <span class="sc">~</span> trend</span>
<span id="cb113-3"><a href="exercises-2.html#cb113-3" aria-hidden="true" tabindex="-1"></a>             ,<span class="at">na.action =</span> <span class="st">&quot;na.exclude&quot;</span>) <span class="co">#We want to remove rows with NAs</span></span>
<span id="cb113-4"><a href="exercises-2.html#cb113-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-5"><a href="exercises-2.html#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># </span><span class="al">NOTE</span><span class="co">: we dont really care about the model, we only want the fitted values</span></span>
<span id="cb113-6"><a href="exercises-2.html#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># as they represent the estimated linear trend</span></span>
<span id="cb113-7"><a href="exercises-2.html#cb113-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-8"><a href="exercises-2.html#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Estimated trend</span></span>
<span id="cb113-9"><a href="exercises-2.html#cb113-9" aria-hidden="true" tabindex="-1"></a>CMAT <span class="ot">&lt;-</span> linmod<span class="sc">$</span>fitted.values <span class="co">#Extracting trend estimates and saving in an object</span></span>
<span id="cb113-10"><a href="exercises-2.html#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(CMAT)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-82"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-82-1.png" alt="Cycle" width="480" />
<p class="caption">
Figure 6.7: Cycle
</p>
</div>
<p>With the deseasonalized data and the trend estimates, we are able to assess whether we are above or below the trend in all of deseasonalized data.</p>
<p><strong>The cycle</strong></p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="exercises-2.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Identifying the cycle</span></span>
<span id="cb114-2"><a href="exercises-2.html#cb114-2" aria-hidden="true" tabindex="-1"></a>Cycle <span class="ot">&lt;-</span> <span class="fu">na.exclude</span>(CMA) <span class="sc">/</span> CMAT</span>
<span id="cb114-3"><a href="exercises-2.html#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ts.plot</span>(Cycle)</span>
<span id="cb114-4"><a href="exercises-2.html#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">1</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-83"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-83-1.png" alt="Cycle" width="480" />
<p class="caption">
Figure 6.8: Cycle
</p>
</div>
<p>Now we see the whether we are above or below the trend in the respective periods, e.g., period 60 appear to be far below the trend level indicating it is a the lowest of the seasons.</p>
</div>
<div id="own-test---monthly-sales-data-decomposition-forecast" class="section level3" number="6.5.6">
<h3><span class="header-section-number">6.5.6</span> Own test - Monthly Sales Data decomposition + forecast</h3>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="exercises-2.html#cb115-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Salesdataseasonal.xlsx&quot;</span>)</span>
<span id="cb115-2"><a href="exercises-2.html#cb115-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-3"><a href="exercises-2.html#cb115-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> df<span class="sc">$</span>Sales</span>
<span id="cb115-4"><a href="exercises-2.html#cb115-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="at">data =</span> y</span>
<span id="cb115-5"><a href="exercises-2.html#cb115-5" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">frequency =</span> <span class="dv">12</span> <span class="co">#Monthly data</span></span>
<span id="cb115-6"><a href="exercises-2.html#cb115-6" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">start =</span> <span class="fu">c</span>(<span class="dv">1979</span>,<span class="dv">1</span>))</span>
<span id="cb115-7"><a href="exercises-2.html#cb115-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-8"><a href="exercises-2.html#cb115-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ts.plot</span>(y)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-84-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>We see that the data clearly has a trend and season and the composition appear
to be multiplicative as the variance is increasing</p>
<p>Process —-</p>
<ul>
<li>How to make a decomposition of a time series, using decompose()</li>
<li>How to use decompose() to retrieve the different components and store these</li>
<li>How to inteprete the components</li>
<li>How to forecast using the components</li>
</ul>
<p>Decomposing —-</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="exercises-2.html#cb116-1" aria-hidden="true" tabindex="-1"></a>y.decom.mult <span class="ot">&lt;-</span> <span class="fu">decompose</span>(<span class="at">x =</span> y <span class="co">#The ts</span></span>
<span id="cb116-2"><a href="exercises-2.html#cb116-2" aria-hidden="true" tabindex="-1"></a>                         ,<span class="at">type =</span> <span class="st">&quot;multiplicative&quot;</span>) <span class="co">#The composition</span></span>
<span id="cb116-3"><a href="exercises-2.html#cb116-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-4"><a href="exercises-2.html#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y.decom.mult)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-85-1.png" width="480" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="exercises-2.html#cb117-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-2"><a href="exercises-2.html#cb117-2" aria-hidden="true" tabindex="-1"></a>Tr <span class="ot">&lt;-</span> y.decom.mult<span class="sc">$</span>trend</span>
<span id="cb117-3"><a href="exercises-2.html#cb117-3" aria-hidden="true" tabindex="-1"></a>S <span class="ot">&lt;-</span> y.decom.mult<span class="sc">$</span>seasonal</span>
<span id="cb117-4"><a href="exercises-2.html#cb117-4" aria-hidden="true" tabindex="-1"></a>I <span class="ot">&lt;-</span> y.decom.mult<span class="sc">$</span>random</span></code></pre></div>
<p>Forecasting —-</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="exercises-2.html#cb118-1" aria-hidden="true" tabindex="-1"></a>yhat <span class="ot">&lt;-</span> Tr<span class="sc">*</span>S <span class="co">#Note I is not used as it is random component</span></span>
<span id="cb118-2"><a href="exercises-2.html#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="exercises-2.html#cb118-3" aria-hidden="true" tabindex="-1"></a>{<span class="fu">plot</span>(y, <span class="at">type=</span><span class="st">&quot;l&quot;</span>)</span>
<span id="cb118-4"><a href="exercises-2.html#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(Tr,<span class="at">col=</span><span class="st">&quot;green&quot;</span>)</span>
<span id="cb118-5"><a href="exercises-2.html#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(yhat,<span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb118-6"><a href="exercises-2.html#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)}</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-86-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>One sees that the seasons and trend is reconstructed without the –&gt;
irregular component –&gt;</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="exercises-2.html#cb119-1" aria-hidden="true" tabindex="-1"></a>forecast.decom.mult <span class="ot">&lt;-</span> <span class="fu">forecast</span>(<span class="at">object =</span> yhat,<span class="at">h =</span> <span class="dv">60</span>)</span>
<span id="cb119-2"><a href="exercises-2.html#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="exercises-2.html#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(forecast.decom.mult)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-87-1.png" width="480" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="exercises-2.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="the-success-criteria-and-process.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ARIMA.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
