<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10.1 Exam 2018 | Business Forecasting</title>
  <meta name="description" content="10.1 Exam 2018 | Business Forecasting" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="10.1 Exam 2018 | Business Forecasting" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10.1 Exam 2018 | Business Forecasting" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exam-cases.html"/>
<link rel="next" href="nordpool-case.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>setup</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="curriculum.html"><a href="curriculum.html"><i class="fa fa-check"></i><b>2</b> Curriculum</a></li>
<li class="chapter" data-level="3" data-path="qualitative-forecasting-methods.html"><a href="qualitative-forecasting-methods.html"><i class="fa fa-check"></i><b>3</b> Qualitative Forecasting Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="judgmental-forecasting-and-forecast-adjustments.html"><a href="judgmental-forecasting-and-forecast-adjustments.html"><i class="fa fa-check"></i><b>3.1</b> Judgmental Forecasting and Forecast Adjustments</a></li>
<li class="chapter" data-level="3.2" data-path="articles.html"><a href="articles.html"><i class="fa fa-check"></i><b>3.2</b> Articles</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="articles.html"><a href="articles.html#a-new-product-growth-model-for-consumer-durables-management-science"><i class="fa fa-check"></i><b>3.2.1</b> A new product growth model for consumer durables,” Management Science</a></li>
<li class="chapter" data-level="3.2.2" data-path="articles.html"><a href="articles.html#sales-forecasts-for-existing-consumer-products"><i class="fa fa-check"></i><b>3.2.2</b> Sales Forecasts for Existing Consumer Products</a></li>
<li class="chapter" data-level="3.2.3" data-path="articles.html"><a href="articles.html#judgmental-forecasting-a-review-of-progress-over-the-last-25-years-international-journal-of-forecasting"><i class="fa fa-check"></i><b>3.2.3</b> Judgmental forecasting A review of progress over the last 25 years, International Journal of Forecasting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploring-patterns-and-forecasting-techniques.html"><a href="exploring-patterns-and-forecasting-techniques.html"><i class="fa fa-check"></i><b>4</b> Exploring Patterns and Forecasting Techniques</a>
<ul>
<li class="chapter" data-level="4.1" data-path="the-forecasting-process.html"><a href="the-forecasting-process.html"><i class="fa fa-check"></i><b>4.1</b> The forecasting process</a></li>
<li class="chapter" data-level="4.2" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html"><i class="fa fa-check"></i><b>4.2</b> Data Patterns and terminology</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#terminology"><i class="fa fa-check"></i><b>4.2.1</b> Terminology</a>
<ul>
<li class="chapter" data-level="4.2.1.1" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#autocorrelation"><i class="fa fa-check"></i><b>4.2.1.1</b> Autocorrelation</a></li>
<li class="chapter" data-level="4.2.1.2" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#random-vs.-correlated-data"><i class="fa fa-check"></i><b>4.2.1.2</b> Random vs. correlated data</a></li>
<li class="chapter" data-level="4.2.1.3" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#stationary-vs.-non-stationary-data"><i class="fa fa-check"></i><b>4.2.1.3</b> Stationary vs. non stationary data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="DataPatternsAndModelSelection.html"><a href="DataPatternsAndModelSelection.html"><i class="fa fa-check"></i><b>4.3</b> Data Patterns and Model Selection</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="DataPatternsAndModelSelection.html"><a href="DataPatternsAndModelSelection.html#forecast-methods-and-horizons"><i class="fa fa-check"></i><b>4.3.1</b> Forecast Methods and Horizons</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>4.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="exercises.html"><a href="exercises.html#p.-92-hw-problem-8"><i class="fa fa-check"></i><b>4.4.1</b> p. 92 HW Problem 8</a>
<ul>
<li class="chapter" data-level="4.4.1.1" data-path="exercises.html"><a href="exercises.html#moving-averages"><i class="fa fa-check"></i><b>4.4.1.1</b> Moving Averages</a></li>
<li class="chapter" data-level="4.4.1.2" data-path="exercises.html"><a href="exercises.html#exponential-moving-averages-holts-and-winters"><i class="fa fa-check"></i><b>4.4.1.2</b> Exponential moving averages + Holts and Winters</a></li>
</ul></li>
<li class="chapter" data-level="4.4.2" data-path="exercises.html"><a href="exercises.html#p.-93-hw-problem-9-10"><i class="fa fa-check"></i><b>4.4.2</b> p. 93 HW Problem 9-10</a></li>
<li class="chapter" data-level="4.4.3" data-path="exercises.html"><a href="exercises.html#co2-and-sales-data"><i class="fa fa-check"></i><b>4.4.3</b> CO2 and Sales Data</a></li>
<li class="chapter" data-level="4.4.4" data-path="exercises.html"><a href="exercises.html#case-6-oo.-108-111-hw"><i class="fa fa-check"></i><b>4.4.4</b> Case 6 oo. 108-111 HW</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html"><i class="fa fa-check"></i><b>5</b> Simple and Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html"><i class="fa fa-check"></i><b>5.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#assumptions"><i class="fa fa-check"></i><b>5.1.1</b> Assumptions</a>
<ul>
<li class="chapter" data-level="5.1.1.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#serial-correlation-checking-for-independent-residuals"><i class="fa fa-check"></i><b>5.1.1.1</b> Serial correlation (checking for independent residuals):</a></li>
<li class="chapter" data-level="5.1.1.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#heteroskedasticity"><i class="fa fa-check"></i><b>5.1.1.2</b> Heteroskedasticity:</a></li>
</ul></li>
<li class="chapter" data-level="5.1.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#forecasting-with-a-linear-trend"><i class="fa fa-check"></i><b>5.1.2</b> Forecasting with a linear trend</a></li>
<li class="chapter" data-level="5.1.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#exercises-1"><i class="fa fa-check"></i><b>5.1.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.1.3.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#problems-5-pp.-209"><i class="fa fa-check"></i><b>5.1.3.1</b> Problems 5 pp. 209</a></li>
<li class="chapter" data-level="5.1.3.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#problem-11-p.-212-hw"><i class="fa fa-check"></i><b>5.1.3.2</b> Problem 11 p. 212 HW</a></li>
<li class="chapter" data-level="5.1.3.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#cases-2-hw"><i class="fa fa-check"></i><b>5.1.3.3</b> Cases 2 HW</a></li>
<li class="chapter" data-level="5.1.3.4" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#case-3-from-hw"><i class="fa fa-check"></i><b>5.1.3.4</b> Case 3 from HW</a></li>
<li class="chapter" data-level="5.1.3.5" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#ex:DetrendingWithRegression"><i class="fa fa-check"></i><b>5.1.3.5</b> Detrending thorugh regression: CO2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html"><i class="fa fa-check"></i><b>5.2</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#multicollinearity"><i class="fa fa-check"></i><b>5.2.1</b> Multicollinearity</a></li>
<li class="chapter" data-level="5.2.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#serial-correlation-and-omitted-variables"><i class="fa fa-check"></i><b>5.2.2</b> Serial correlation and omitted variables</a></li>
<li class="chapter" data-level="5.2.3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#selection-criteria"><i class="fa fa-check"></i><b>5.2.3</b> Selection criteria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="time-series-decomposition-and-regression-with-time-series-data.html"><a href="time-series-decomposition-and-regression-with-time-series-data.html"><i class="fa fa-check"></i><b>6</b> Time-Series Decomposition and Regression with Time-Series Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="TSComponents.html"><a href="TSComponents.html"><i class="fa fa-check"></i><b>6.1</b> Time Series and Their Components (HW)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="TSComponents.html"><a href="TSComponents.html#additional-on-trend"><i class="fa fa-check"></i><b>6.1.1</b> Additional on trend</a></li>
<li class="chapter" data-level="6.1.2" data-path="TSComponents.html"><a href="TSComponents.html#additional-on-seasonal-pattern"><i class="fa fa-check"></i><b>6.1.2</b> Additional on seasonal pattern</a></li>
<li class="chapter" data-level="6.1.3" data-path="TSComponents.html"><a href="TSComponents.html#cyclical-and-irregular-variations"><i class="fa fa-check"></i><b>6.1.3</b> Cyclical and Irregular Variations</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="methods-of-decomposing.html"><a href="methods-of-decomposing.html"><i class="fa fa-check"></i><b>6.2</b> Methods of decomposing</a></li>
<li class="chapter" data-level="6.3" data-path="regression-with-time-series-data.html"><a href="regression-with-time-series-data.html"><i class="fa fa-check"></i><b>6.3</b> Regression with time series data</a></li>
<li class="chapter" data-level="6.4" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html"><i class="fa fa-check"></i><b>6.4</b> The success criteria and process</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#success-criteria"><i class="fa fa-check"></i><b>6.4.1</b> Success Criteria</a></li>
<li class="chapter" data-level="6.4.2" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#DecomposingWithMA"><i class="fa fa-check"></i><b>6.4.2</b> The Process</a>
<ul>
<li class="chapter" data-level="6.4.2.1" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#desaesonalizing"><i class="fa fa-check"></i><b>6.4.2.1</b> Desaesonalizing</a></li>
<li class="chapter" data-level="6.4.2.2" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#long-term-trend"><i class="fa fa-check"></i><b>6.4.2.2</b> Long-term trend</a></li>
<li class="chapter" data-level="6.4.2.3" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#cyclical-component"><i class="fa fa-check"></i><b>6.4.2.3</b> Cyclical Component</a></li>
<li class="chapter" data-level="6.4.2.4" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#time-series-decomposition-forecast"><i class="fa fa-check"></i><b>6.4.2.4</b> Time-Series decomposition forecast</a></li>
</ul></li>
<li class="chapter" data-level="6.4.3" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#Autocorellation"><i class="fa fa-check"></i><b>6.4.3</b> Autocorellation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>6.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="exercises-2.html"><a href="exercises-2.html#ex:DecompositionTrendSeasonality"><i class="fa fa-check"></i><b>6.5.1</b> Decomposition + Forecast Exercise</a>
<ul>
<li class="chapter" data-level="6.5.1.1" data-path="exercises-2.html"><a href="exercises-2.html#a.-decomposing-the-time-series"><i class="fa fa-check"></i><b>6.5.1.1</b> a. Decomposing the time series</a></li>
<li class="chapter" data-level="6.5.1.2" data-path="exercises-2.html"><a href="exercises-2.html#b.-retrieving-components"><i class="fa fa-check"></i><b>6.5.1.2</b> b. Retrieving components</a></li>
<li class="chapter" data-level="6.5.1.3" data-path="exercises-2.html"><a href="exercises-2.html#c.-interpreting-the-resutls"><i class="fa fa-check"></i><b>6.5.1.3</b> c. Interpreting the resutls</a></li>
<li class="chapter" data-level="6.5.1.4" data-path="exercises-2.html"><a href="exercises-2.html#d.-forecasting-using-the-components"><i class="fa fa-check"></i><b>6.5.1.4</b> d. Forecasting using the components</a>
<ul>
<li class="chapter" data-level="6.5.1.4.1" data-path="exercises-2.html"><a href="exercises-2.html#fitting-the-model"><i class="fa fa-check"></i><b>6.5.1.4.1</b> Fitting the model</a></li>
<li class="chapter" data-level="6.5.1.4.2" data-path="exercises-2.html"><a href="exercises-2.html#forecasting-using-the-composition"><i class="fa fa-check"></i><b>6.5.1.4.2</b> Forecasting using the composition</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6.5.2" data-path="exercises-2.html"><a href="exercises-2.html#ex:DecompositionCycles"><i class="fa fa-check"></i><b>6.5.2</b> Decomposition with cycles + Forecasting</a>
<ul>
<li class="chapter" data-level="6.5.2.1" data-path="exercises-2.html"><a href="exercises-2.html#finding-cma-deseasonalizing"><i class="fa fa-check"></i><b>6.5.2.1</b> 1. Finding CMA (deseasonalizing)</a></li>
<li class="chapter" data-level="6.5.2.2" data-path="exercises-2.html"><a href="exercises-2.html#finding-sf"><i class="fa fa-check"></i><b>6.5.2.2</b> 2. Finding SF</a></li>
<li class="chapter" data-level="6.5.2.3" data-path="exercises-2.html"><a href="exercises-2.html#identifying-trend"><i class="fa fa-check"></i><b>6.5.2.3</b> 3. Identifying Trend</a></li>
<li class="chapter" data-level="6.5.2.4" data-path="exercises-2.html"><a href="exercises-2.html#finding-detrended-and-deseasonalized-data"><i class="fa fa-check"></i><b>6.5.2.4</b> 4. Finding detrended and deseasonalized data</a></li>
<li class="chapter" data-level="6.5.2.5" data-path="exercises-2.html"><a href="exercises-2.html#cycle-identifying-factor"><i class="fa fa-check"></i><b>6.5.2.5</b> 5. Cycle identifying factor</a></li>
</ul></li>
<li class="chapter" data-level="6.5.3" data-path="exercises-2.html"><a href="exercises-2.html#TimeSeriesRegression"><i class="fa fa-check"></i><b>6.5.3</b> Time series regression</a></li>
<li class="chapter" data-level="6.5.4" data-path="exercises-2.html"><a href="exercises-2.html#alomega-food-stores-case-6-p.-166-case-7-p.-348-another-example"><i class="fa fa-check"></i><b>6.5.4</b> Alomega Food Stores, case 6 p. 166 + case 7 p. 348 (Another example)</a>
<ul>
<li class="chapter" data-level="6.5.4.1" data-path="exercises-2.html"><a href="exercises-2.html#what-might-jackson-tilson-say-about-the-forecasts"><i class="fa fa-check"></i><b>6.5.4.1</b> What might Jackson Tilson say about the forecasts?</a></li>
<li class="chapter" data-level="6.5.4.2" data-path="exercises-2.html"><a href="exercises-2.html#p.348-case-7-alomega-food-stores"><i class="fa fa-check"></i><b>6.5.4.2</b> P.348 Case 7 (Alomega Food Stores)</a></li>
</ul></li>
<li class="chapter" data-level="6.5.5" data-path="exercises-2.html"><a href="exercises-2.html#ex:MonthlySalesData"><i class="fa fa-check"></i><b>6.5.5</b> Monthly Sales Data</a></li>
<li class="chapter" data-level="6.5.6" data-path="exercises-2.html"><a href="exercises-2.html#own-test---monthly-sales-data-decomposition-forecast"><i class="fa fa-check"></i><b>6.5.6</b> Own test - Monthly Sales Data decomposition + forecast</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ARIMA.html"><a href="ARIMA.html"><i class="fa fa-check"></i><b>7</b> ARIMA Models + ADL and Box-Jenkins Methodology</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html"><i class="fa fa-check"></i><b>7.1</b> ARIMA</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-ar-models"><i class="fa fa-check"></i><b>7.1.1</b> Elaborating on AR models</a></li>
<li class="chapter" data-level="7.1.2" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-ma-models"><i class="fa fa-check"></i><b>7.1.2</b> Elaborating on MA models</a></li>
<li class="chapter" data-level="7.1.3" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-integration-models"><i class="fa fa-check"></i><b>7.1.3</b> Elaborating on Integration models</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="model-building-process.html"><a href="model-building-process.html"><i class="fa fa-check"></i><b>7.2</b> Model Building Process</a></li>
<li class="chapter" data-level="7.3" data-path="advantages-and-disadvantages-for-arima-models.html"><a href="advantages-and-disadvantages-for-arima-models.html"><i class="fa fa-check"></i><b>7.3</b> Advantages and disadvantages for ARIMA models</a></li>
<li class="chapter" data-level="7.4" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html"><i class="fa fa-check"></i><b>7.4</b> Dynamic Forecasting</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#adl"><i class="fa fa-check"></i><b>7.4.1</b> ADL</a></li>
<li class="chapter" data-level="7.4.2" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#vector-autoregressive-var"><i class="fa fa-check"></i><b>7.4.2</b> Vector autoregressive (VAR)</a>
<ul>
<li class="chapter" data-level="7.4.2.1" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#selection-criteria-1"><i class="fa fa-check"></i><b>7.4.2.1</b> Selection criteria</a></li>
<li class="chapter" data-level="7.4.2.2" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#process"><i class="fa fa-check"></i><b>7.4.2.2</b> Process</a></li>
<li class="chapter" data-level="7.4.2.3" data-path="dynamic-forecasting.html"><a href="dynamic-forecasting.html#Cholesky"><i class="fa fa-check"></i><b>7.4.2.3</b> Analyzing response to shocks in other variables - Cholesky Ordering</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exercises-arima.html"><a href="exercises-arima.html"><i class="fa fa-check"></i><b>7.5</b> Exercises - ARIMA</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="exercises-arima.html"><a href="exercises-arima.html#ibm-stock-problem-12-p-405"><i class="fa fa-check"></i><b>7.5.1</b> IBM stock, problem 12 p 405</a></li>
<li class="chapter" data-level="7.5.2" data-path="exercises-arima.html"><a href="exercises-arima.html#demand-data-problem-7-p-403"><i class="fa fa-check"></i><b>7.5.2</b> Demand data, problem 7 p 403</a></li>
<li class="chapter" data-level="7.5.3" data-path="exercises-arima.html"><a href="exercises-arima.html#closing-stock-quotations-problem-13-p-409"><i class="fa fa-check"></i><b>7.5.3</b> Closing stock quotations, problem 13 p 409</a></li>
<li class="chapter" data-level="7.5.4" data-path="exercises-arima.html"><a href="exercises-arima.html#hw-case-1-page-413-414-q1-3"><i class="fa fa-check"></i><b>7.5.4</b> HW: Case 1 page 413-414 (q1-3)</a></li>
<li class="chapter" data-level="7.5.5" data-path="exercises-arima.html"><a href="exercises-arima.html#hw-case-4-page-417-419"><i class="fa fa-check"></i><b>7.5.5</b> HW: Case 4 page 417-419</a></li>
<li class="chapter" data-level="7.5.6" data-path="exercises-arima.html"><a href="exercises-arima.html#sales-data-seasonal"><i class="fa fa-check"></i><b>7.5.6</b> Sales data seasonal</a></li>
<li class="chapter" data-level="7.5.7" data-path="exercises-arima.html"><a href="exercises-arima.html#in-class-assignment"><i class="fa fa-check"></i><b>7.5.7</b> In class assignment</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exercises-adl.html"><a href="exercises-adl.html"><i class="fa fa-check"></i><b>7.6</b> Exercises - ADL</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="exercises-adl.html"><a href="exercises-adl.html#gdp-and-co2-levels"><i class="fa fa-check"></i><b>7.6.1</b> GDP and CO2 levels</a></li>
<li class="chapter" data-level="7.6.2" data-path="exercises-adl.html"><a href="exercises-adl.html#short--and-long-term-interest-rates-exchange-rates"><i class="fa fa-check"></i><b>7.6.2</b> Short- and long-term interest rates, exchange rates</a>
<ul>
<li class="chapter" data-level="7.6.2.1" data-path="exercises-adl.html"><a href="exercises-adl.html#ExerciseADL"><i class="fa fa-check"></i><b>7.6.2.1</b> Loading data, combining time series and assessment of stationarity</a></li>
<li class="chapter" data-level="7.6.2.2" data-path="exercises-adl.html"><a href="exercises-adl.html#VarExercise"><i class="fa fa-check"></i><b>7.6.2.2</b> Vector AutoRegressive Model (VAR)</a>
<ul>
<li class="chapter" data-level="7.6.2.2.1" data-path="exercises-adl.html"><a href="exercises-adl.html#determine-order-of-lags-to-be-included-model-estimation"><i class="fa fa-check"></i><b>7.6.2.2.1</b> 1. Determine order of lags to be included + model estimation</a></li>
<li class="chapter" data-level="7.6.2.2.2" data-path="exercises-adl.html"><a href="exercises-adl.html#model-diagnostics"><i class="fa fa-check"></i><b>7.6.2.2.2</b> 2. Model diagnostics</a></li>
<li class="chapter" data-level="7.6.2.2.3" data-path="exercises-adl.html"><a href="exercises-adl.html#response-to-shocks-in-the-variables"><i class="fa fa-check"></i><b>7.6.2.2.3</b> 3. Response to shocks in the variables</a>
<ul>
<li class="chapter" data-level="7.6.2.2.3.1" data-path="exercises-adl.html"><a href="exercises-adl.html#exogenious-vs.-endogenious"><i class="fa fa-check"></i><b>7.6.2.2.3.1</b> Exogenious vs. endogenious</a></li>
</ul></li>
<li class="chapter" data-level="7.6.2.2.4" data-path="exercises-adl.html"><a href="exercises-adl.html#forecasting-with-adl"><i class="fa fa-check"></i><b>7.6.2.2.4</b> 4. Forecasting with ADL</a>
<ul>
<li class="chapter" data-level="7.6.2.2.4.1" data-path="exercises-adl.html"><a href="exercises-adl.html#step-1---data-partition"><i class="fa fa-check"></i><b>7.6.2.2.4.1</b> Step 1 - Data partition</a></li>
<li class="chapter" data-level="7.6.2.2.4.2" data-path="exercises-adl.html"><a href="exercises-adl.html#step-2---select-the-order-of-var"><i class="fa fa-check"></i><b>7.6.2.2.4.2</b> Step 2 - Select the order of VAR</a></li>
<li class="chapter" data-level="7.6.2.2.4.3" data-path="exercises-adl.html"><a href="exercises-adl.html#step-3---fit-the-model-check-residuals"><i class="fa fa-check"></i><b>7.6.2.2.4.3</b> Step 3 - Fit the model + check residuals</a></li>
<li class="chapter" data-level="7.6.2.2.4.4" data-path="exercises-adl.html"><a href="exercises-adl.html#step-4---make-the-forecast"><i class="fa fa-check"></i><b>7.6.2.2.4.4</b> Step 4 - Make the forecast</a></li>
<li class="chapter" data-level="7.6.2.2.4.5" data-path="exercises-adl.html"><a href="exercises-adl.html#step-5---assessing-accuracy"><i class="fa fa-check"></i><b>7.6.2.2.4.5</b> Step 5 - Assessing accuracy</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="non-stationary-time-series.html"><a href="non-stationary-time-series.html"><i class="fa fa-check"></i><b>8</b> Non Stationary Time-series</a>
<ul>
<li class="chapter" data-level="8.1" data-path="unit-roots.html"><a href="unit-roots.html"><i class="fa fa-check"></i><b>8.1</b> Unit Roots</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="unit-roots.html"><a href="unit-roots.html#augmented-dickey-fuller-adf-test"><i class="fa fa-check"></i><b>8.1.1</b> Augmented Dickey-Fuller (ADF) test</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="spurious-regression.html"><a href="spurious-regression.html"><i class="fa fa-check"></i><b>8.2</b> Spurious Regression</a></li>
<li class="chapter" data-level="8.3" data-path="cointegration.html"><a href="cointegration.html"><i class="fa fa-check"></i><b>8.3</b> Cointegration</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="cointegration.html"><a href="cointegration.html#checking-for-cointegration"><i class="fa fa-check"></i><b>8.3.1</b> Checking for cointegration</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>8.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="exercises-3.html"><a href="exercises-3.html#DairyData"><i class="fa fa-check"></i><b>8.4.1</b> Dairy Data</a>
<ul>
<li class="chapter" data-level="8.4.1.1" data-path="exercises-3.html"><a href="exercises-3.html#ADFexercise"><i class="fa fa-check"></i><b>8.4.1.1</b> Unit Root testing - Augmented Dickey-Fuller (ADF)</a></li>
<li class="chapter" data-level="8.4.1.2" data-path="exercises-3.html"><a href="exercises-3.html#Cointegration"><i class="fa fa-check"></i><b>8.4.1.2</b> Cointegration</a>
<ul>
<li class="chapter" data-level="8.4.1.2.1" data-path="exercises-3.html"><a href="exercises-3.html#graphical-inspection-of-the-data"><i class="fa fa-check"></i><b>8.4.1.2.1</b> Graphical inspection of the data</a></li>
<li class="chapter" data-level="8.4.1.2.2" data-path="exercises-3.html"><a href="exercises-3.html#CointegrationTest"><i class="fa fa-check"></i><b>8.4.1.2.2</b> Test for cointegration</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="combining-forecast-result-and-forecast-evaluation.html"><a href="combining-forecast-result-and-forecast-evaluation.html"><i class="fa fa-check"></i><b>9</b> Combining Forecast Result and Forecast Evaluation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html"><i class="fa fa-check"></i><b>9.1</b> Why, when and how to combine forecasts</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html#why-do-we-combine-forecasts"><i class="fa fa-check"></i><b>9.1.1</b> Why do we combine forecasts?</a></li>
<li class="chapter" data-level="9.1.2" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html#when-to-combine-forecasts"><i class="fa fa-check"></i><b>9.1.2</b> When to combine forecasts?</a></li>
<li class="chapter" data-level="9.1.3" data-path="why-when-and-how-to-combine-forecasts.html"><a href="why-when-and-how-to-combine-forecasts.html#how-to-combine-forecasts"><i class="fa fa-check"></i><b>9.1.3</b> How to combine forecasts?</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="exercises-4.html"><a href="exercises-4.html"><i class="fa fa-check"></i><b>9.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="exercises-4.html"><a href="exercises-4.html#ex:AirPassengers"><i class="fa fa-check"></i><b>9.2.1</b> Air passengers</a>
<ul>
<li class="chapter" data-level="9.2.1.1" data-path="exercises-4.html"><a href="exercises-4.html#producing-forecasts-combined-forecast"><i class="fa fa-check"></i><b>9.2.1.1</b> Producing forecasts + combined forecast</a>
<ul>
<li class="chapter" data-level="9.2.1.1.1" data-path="exercises-4.html"><a href="exercises-4.html#constructing-forecasts"><i class="fa fa-check"></i><b>9.2.1.1.1</b> 1. Constructing forecasts</a>
<ul>
<li class="chapter" data-level="9.2.1.1.1.1" data-path="exercises-4.html"><a href="exercises-4.html#a.-forecast-1---arima"><i class="fa fa-check"></i><b>9.2.1.1.1.1</b> a. Forecast 1 - ARIMA</a></li>
<li class="chapter" data-level="9.2.1.1.1.2" data-path="exercises-4.html"><a href="exercises-4.html#a.-forecast-2---holtwinters"><i class="fa fa-check"></i><b>9.2.1.1.1.2</b> a. Forecast 2 - HoltWinters</a></li>
</ul></li>
<li class="chapter" data-level="9.2.1.1.2" data-path="exercises-4.html"><a href="exercises-4.html#diebold-mariano-test"><i class="fa fa-check"></i><b>9.2.1.1.2</b> 2. Diebold-Mariano test</a></li>
<li class="chapter" data-level="9.2.1.1.3" data-path="exercises-4.html"><a href="exercises-4.html#combining-the-forecasts"><i class="fa fa-check"></i><b>9.2.1.1.3</b> 3. Combining the forecasts</a>
<ul>
<li class="chapter" data-level="9.2.1.1.3.1" data-path="exercises-4.html"><a href="exercises-4.html#a.-nelson-combination-method---her-code-is-put-here-but-not-further-explained"><i class="fa fa-check"></i><b>9.2.1.1.3.1</b> a. Nelson Combination Method - her code is put here, but not further explained</a></li>
<li class="chapter" data-level="9.2.1.1.3.2" data-path="exercises-4.html"><a href="exercises-4.html#b.-granger-ramanathan"><i class="fa fa-check"></i><b>9.2.1.1.3.2</b> b. Granger-Ramanathan</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="exam-cases.html"><a href="exam-cases.html"><i class="fa fa-check"></i><b>10</b> Exam cases</a>
<ul>
<li class="chapter" data-level="10.1" data-path="exam-2018.html"><a href="exam-2018.html"><i class="fa fa-check"></i><b>10.1</b> Exam 2018</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="exam-2018.html"><a href="exam-2018.html#case-1"><i class="fa fa-check"></i><b>10.1.1</b> Case 1</a>
<ul>
<li class="chapter" data-level="10.1.1.1" data-path="exam-2018.html"><a href="exam-2018.html#q1"><i class="fa fa-check"></i><b>10.1.1.1</b> Q1</a></li>
<li class="chapter" data-level="10.1.1.2" data-path="exam-2018.html"><a href="exam-2018.html#q2"><i class="fa fa-check"></i><b>10.1.1.2</b> Q2</a>
<ul>
<li class="chapter" data-level="10.1.1.2.1" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-using-arima"><i class="fa fa-check"></i><b>10.1.1.2.1</b> Forecasting using ARIMA</a></li>
<li class="chapter" data-level="10.1.1.2.2" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-with-simple-moving-averages-1991---2000"><i class="fa fa-check"></i><b>10.1.1.2.2</b> Forecasting with simple moving averages 1991 - 2000</a>
<ul>
<li class="chapter" data-level="10.1.1.2.2.1" data-path="exam-2018.html"><a href="exam-2018.html#using-ma"><i class="fa fa-check"></i><b>10.1.1.2.2.1</b> 1. Using ma()</a></li>
<li class="chapter" data-level="10.1.1.2.2.2" data-path="exam-2018.html"><a href="exam-2018.html#using-excel"><i class="fa fa-check"></i><b>10.1.1.2.2.2</b> 2. Using excel</a></li>
<li class="chapter" data-level="10.1.1.2.2.3" data-path="exam-2018.html"><a href="exam-2018.html#using-a-loop"><i class="fa fa-check"></i><b>10.1.1.2.2.3</b> 3. Using a loop</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.1.3" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-2001---2018"><i class="fa fa-check"></i><b>10.1.1.3</b> Forecasting 2001 - 2018</a>
<ul>
<li class="chapter" data-level="10.1.1.3.1" data-path="exam-2018.html"><a href="exam-2018.html#using-ma-loop-method"><i class="fa fa-check"></i><b>10.1.1.3.1</b> Using ma (loop method)</a></li>
<li class="chapter" data-level="10.1.1.3.2" data-path="exam-2018.html"><a href="exam-2018.html#using-arima-rw-drift"><i class="fa fa-check"></i><b>10.1.1.3.2</b> Using ARIMA (RW + drift)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.2" data-path="exam-2018.html"><a href="exam-2018.html#q3"><i class="fa fa-check"></i><b>10.1.2</b> Q3</a>
<ul>
<li class="chapter" data-level="10.1.2.1" data-path="exam-2018.html"><a href="exam-2018.html#diagnostics"><i class="fa fa-check"></i><b>10.1.2.1</b> Diagnostics</a>
<ul>
<li class="chapter" data-level="10.1.2.1.1" data-path="exam-2018.html"><a href="exam-2018.html#check-for-heteroskedasticity"><i class="fa fa-check"></i><b>10.1.2.1.1</b> Check for heteroskedasticity</a></li>
<li class="chapter" data-level="10.1.2.1.2" data-path="exam-2018.html"><a href="exam-2018.html#check-for-independent-residuals"><i class="fa fa-check"></i><b>10.1.2.1.2</b> Check for independent residuals</a></li>
<li class="chapter" data-level="10.1.2.1.3" data-path="exam-2018.html"><a href="exam-2018.html#checking-residuals-for-normality"><i class="fa fa-check"></i><b>10.1.2.1.3</b> Checking residuals for normality</a></li>
<li class="chapter" data-level="10.1.2.1.4" data-path="exam-2018.html"><a href="exam-2018.html#conclusion"><i class="fa fa-check"></i><b>10.1.2.1.4</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.3" data-path="exam-2018.html"><a href="exam-2018.html#q4"><i class="fa fa-check"></i><b>10.1.3</b> Q4</a>
<ul>
<li class="chapter" data-level="10.1.3.1" data-path="exam-2018.html"><a href="exam-2018.html#test-without-integration"><i class="fa fa-check"></i><b>10.1.3.1</b> Test without integration</a></li>
<li class="chapter" data-level="10.1.3.2" data-path="exam-2018.html"><a href="exam-2018.html#test-with-first-order-integration"><i class="fa fa-check"></i><b>10.1.3.2</b> Test with first order integration</a></li>
</ul></li>
<li class="chapter" data-level="10.1.4" data-path="exam-2018.html"><a href="exam-2018.html#q5"><i class="fa fa-check"></i><b>10.1.4</b> Q5</a></li>
<li class="chapter" data-level="10.1.5" data-path="exam-2018.html"><a href="exam-2018.html#q6"><i class="fa fa-check"></i><b>10.1.5</b> Q6</a>
<ul>
<li class="chapter" data-level="10.1.5.1" data-path="exam-2018.html"><a href="exam-2018.html#vector-autoregressive-model-var"><i class="fa fa-check"></i><b>10.1.5.1</b> Vector AutoRegressive Model (VAR)</a>
<ul>
<li class="chapter" data-level="10.1.5.1.1" data-path="exam-2018.html"><a href="exam-2018.html#determine-order-of-lags-to-be-included-model-estimation-1"><i class="fa fa-check"></i><b>10.1.5.1.1</b> 1. Determine order of lags to be included + model estimation</a></li>
<li class="chapter" data-level="10.1.5.1.2" data-path="exam-2018.html"><a href="exam-2018.html#model-diagnostics-1"><i class="fa fa-check"></i><b>10.1.5.1.2</b> 2. Model diagnostics</a></li>
<li class="chapter" data-level="10.1.5.1.3" data-path="exam-2018.html"><a href="exam-2018.html#response-to-shocks-in-the-variables-1"><i class="fa fa-check"></i><b>10.1.5.1.3</b> 3. Response to shocks in the variables</a>
<ul>
<li class="chapter" data-level="10.1.5.1.3.1" data-path="exam-2018.html"><a href="exam-2018.html#exogenious-vs.-endogenious-1"><i class="fa fa-check"></i><b>10.1.5.1.3.1</b> Exogenious vs. endogenious</a></li>
</ul></li>
<li class="chapter" data-level="10.1.5.1.4" data-path="exam-2018.html"><a href="exam-2018.html#forecasting-with-adl-1"><i class="fa fa-check"></i><b>10.1.5.1.4</b> 4. Forecasting with ADL</a>
<ul>
<li class="chapter" data-level="10.1.5.1.4.1" data-path="exam-2018.html"><a href="exam-2018.html#step-1---data-partition-1"><i class="fa fa-check"></i><b>10.1.5.1.4.1</b> Step 1 - Data partition</a></li>
<li class="chapter" data-level="10.1.5.1.4.2" data-path="exam-2018.html"><a href="exam-2018.html#step-2---select-the-order-of-var-1"><i class="fa fa-check"></i><b>10.1.5.1.4.2</b> Step 2 - Select the order of VAR</a></li>
<li class="chapter" data-level="10.1.5.1.4.3" data-path="exam-2018.html"><a href="exam-2018.html#step-3---fit-the-model-check-residuals-1"><i class="fa fa-check"></i><b>10.1.5.1.4.3</b> Step 3 - Fit the model + check residuals</a></li>
<li class="chapter" data-level="10.1.5.1.4.4" data-path="exam-2018.html"><a href="exam-2018.html#step-4---make-the-forecast-1"><i class="fa fa-check"></i><b>10.1.5.1.4.4</b> Step 4 - Make the forecast</a></li>
<li class="chapter" data-level="10.1.5.1.4.5" data-path="exam-2018.html"><a href="exam-2018.html#step-5---assessing-accuracy-1"><i class="fa fa-check"></i><b>10.1.5.1.4.5</b> Step 5 - Assessing accuracy</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.1.6" data-path="exam-2018.html"><a href="exam-2018.html#q7"><i class="fa fa-check"></i><b>10.1.6</b> Q7</a></li>
<li class="chapter" data-level="10.1.7" data-path="exam-2018.html"><a href="exam-2018.html#case-2"><i class="fa fa-check"></i><b>10.1.7</b> Case 2</a>
<ul>
<li class="chapter" data-level="10.1.7.1" data-path="exam-2018.html"><a href="exam-2018.html#q1-1"><i class="fa fa-check"></i><b>10.1.7.1</b> Q1</a></li>
<li class="chapter" data-level="10.1.7.2" data-path="exam-2018.html"><a href="exam-2018.html#q2-1"><i class="fa fa-check"></i><b>10.1.7.2</b> Q2</a></li>
<li class="chapter" data-level="10.1.7.3" data-path="exam-2018.html"><a href="exam-2018.html#q3-1"><i class="fa fa-check"></i><b>10.1.7.3</b> Q3</a></li>
<li class="chapter" data-level="10.1.7.4" data-path="exam-2018.html"><a href="exam-2018.html#q4-1"><i class="fa fa-check"></i><b>10.1.7.4</b> Q4</a></li>
<li class="chapter" data-level="10.1.7.5" data-path="exam-2018.html"><a href="exam-2018.html#q5-1"><i class="fa fa-check"></i><b>10.1.7.5</b> Q5</a></li>
<li class="chapter" data-level="10.1.7.6" data-path="exam-2018.html"><a href="exam-2018.html#q6-1"><i class="fa fa-check"></i><b>10.1.7.6</b> Q6</a>
<ul>
<li class="chapter" data-level="10.1.7.6.1" data-path="exam-2018.html"><a href="exam-2018.html#combined-model"><i class="fa fa-check"></i><b>10.1.7.6.1</b> Combined model</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="nordpool-case.html"><a href="nordpool-case.html"><i class="fa fa-check"></i><b>10.2</b> Nordpool Case</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="nordpool-case.html"><a href="nordpool-case.html#what-is-the-key-variable-of-interest-and-which-ones-are-the-variables-that-are-of-secondary-interest"><i class="fa fa-check"></i><b>10.2.1</b> 1.What is the key variable of interest and which ones are the variables that are of secondary interest?</a></li>
<li class="chapter" data-level="10.2.2" data-path="nordpool-case.html"><a href="nordpool-case.html#what-is-the-relationship-between-system-price-and-buysell-sides"><i class="fa fa-check"></i><b>10.2.2</b> 2 What is the relationship between system price and buy/sell sides?</a></li>
<li class="chapter" data-level="10.2.3" data-path="nordpool-case.html"><a href="nordpool-case.html#what-models-should-we-use-to-build-an-optimal-forecast-for-system-price"><i class="fa fa-check"></i><b>10.2.3</b> 3 What models should we use to build an optimal forecast for system price?</a></li>
<li class="chapter" data-level="10.2.4" data-path="nordpool-case.html"><a href="nordpool-case.html#what-is-the-expected-behavior-of-system-price-in-the-next-25-periods"><i class="fa fa-check"></i><b>10.2.4</b> 4 What is the expected behavior of system price in the next 25 periods?</a></li>
<li class="chapter" data-level="10.2.5" data-path="nordpool-case.html"><a href="nordpool-case.html#how-does-the-future-relationship-of-system-price-with-the-other-variables-evolve"><i class="fa fa-check"></i><b>10.2.5</b> 5 How does the future relationship of system price with the other variables evolve?</a></li>
<li class="chapter" data-level="10.2.6" data-path="nordpool-case.html"><a href="nordpool-case.html#what-can-we-infer-from-this-relationship-and-how-can-we-give-investment-recommendation-based-on-that"><i class="fa fa-check"></i><b>10.2.6</b> 6 What can we infer from this relationship, and how can we give investment recommendation based on that?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="communicating-technical-findings.html"><a href="communicating-technical-findings.html"><i class="fa fa-check"></i><b>11</b> Communicating Technical Findings</a></li>
<li class="chapter" data-level="12" data-path="Methods.html"><a href="Methods.html"><i class="fa fa-check"></i><b>12</b> Methods and Performance Measurement</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html"><i class="fa fa-check"></i><b>12.1</b> Forecasting Methods</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#using-averages"><i class="fa fa-check"></i><b>12.1.1</b> Using Averages</a>
<ul>
<li class="chapter" data-level="12.1.1.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#simple-averages"><i class="fa fa-check"></i><b>12.1.1.1</b> Simple Averages</a></li>
<li class="chapter" data-level="12.1.1.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#MA"><i class="fa fa-check"></i><b>12.1.1.2</b> Moving Average (MA)</a></li>
<li class="chapter" data-level="12.1.1.3" data-path="ForecastMethods.html"><a href="ForecastMethods.html#double-moving-average"><i class="fa fa-check"></i><b>12.1.1.3</b> Double Moving Average</a></li>
</ul></li>
<li class="chapter" data-level="12.1.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#linear-regressions"><i class="fa fa-check"></i><b>12.1.2</b> Linear regressions</a></li>
<li class="chapter" data-level="12.1.3" data-path="ForecastMethods.html"><a href="ForecastMethods.html#non-linear-regressions"><i class="fa fa-check"></i><b>12.1.3</b> Non linear regressions</a></li>
<li class="chapter" data-level="12.1.4" data-path="ForecastMethods.html"><a href="ForecastMethods.html#smoothing-methods"><i class="fa fa-check"></i><b>12.1.4</b> Smoothing methods</a>
<ul>
<li class="chapter" data-level="12.1.4.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#exponential-smoothing"><i class="fa fa-check"></i><b>12.1.4.1</b> Exponential smoothing</a></li>
<li class="chapter" data-level="12.1.4.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#holts-exponential-smoothing"><i class="fa fa-check"></i><b>12.1.4.2</b> Holt’s exponential smoothing</a></li>
<li class="chapter" data-level="12.1.4.3" data-path="ForecastMethods.html"><a href="ForecastMethods.html#winters-exponential-smoothing"><i class="fa fa-check"></i><b>12.1.4.3</b> Winters’ exponential smoothing</a></li>
<li class="chapter" data-level="12.1.4.4" data-path="ForecastMethods.html"><a href="ForecastMethods.html#moving-averages-see-section-refma"><i class="fa fa-check"></i><b>12.1.4.4</b> Moving Averages, see section @ref(MA)</a></li>
</ul></li>
<li class="chapter" data-level="12.1.5" data-path="ForecastMethods.html"><a href="ForecastMethods.html#arima"><i class="fa fa-check"></i><b>12.1.5</b> ARIMA</a></li>
<li class="chapter" data-level="12.1.6" data-path="ForecastMethods.html"><a href="ForecastMethods.html#dynamic-forecasting-1"><i class="fa fa-check"></i><b>12.1.6</b> Dynamic forecasting</a>
<ul>
<li class="chapter" data-level="12.1.6.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#adl-1"><i class="fa fa-check"></i><b>12.1.6.1</b> ADL</a></li>
<li class="chapter" data-level="12.1.6.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#var"><i class="fa fa-check"></i><b>12.1.6.2</b> VAR</a></li>
</ul></li>
<li class="chapter" data-level="12.1.7" data-path="ForecastMethods.html"><a href="ForecastMethods.html#decompisition"><i class="fa fa-check"></i><b>12.1.7</b> Decompisition</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html"><i class="fa fa-check"></i><b>12.2</b> Performance Measurements</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html#error-terms"><i class="fa fa-check"></i><b>12.2.1</b> Error terms</a></li>
<li class="chapter" data-level="12.2.2" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html#multicollinearity-1"><i class="fa fa-check"></i><b>12.2.2</b> Multicollinearity</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="statistical-tests.html"><a href="statistical-tests.html"><i class="fa fa-check"></i><b>12.3</b> Statistical tests</a></li>
<li class="chapter" data-level="12.4" data-path="formulas.html"><a href="formulas.html"><i class="fa fa-check"></i><b>12.4</b> Formulas</a></li>
<li class="chapter" data-level="12.5" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>12.5</b> Loops!!!!</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="loops.html"><a href="loops.html#holtwinters-smoothing---finding-optimal-frequency"><i class="fa fa-check"></i><b>12.5.1</b> HoltWinters Smoothing - finding optimal frequency</a></li>
<li class="chapter" data-level="12.5.2" data-path="loops.html"><a href="loops.html#arima---it-is-not-really-that-useful-does-not-have-all-combinations"><i class="fa fa-check"></i><b>12.5.2</b> ARIMA - it is not really that useful, does not have all combinations</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Business Forecasting</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exam-2018" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Exam 2018</h2>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="exam-2018.html#cb255-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Exams/Exam2018Case1.xlsx&quot;</span>) <span class="co">#Case 1 material</span></span>
<span id="cb255-2"><a href="exam-2018.html#cb255-2" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Exams/Exam2018Case2.xlsx&quot;</span>) <span class="co">#Case 2 material</span></span></code></pre></div>
<div id="case-1" class="section level3" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Case 1</h3>
<p>Loading the data as a time series. The series are yearly starting from 1960 and ending in 2000</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="exam-2018.html#cb256-1" aria-hidden="true" tabindex="-1"></a>ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(df1,<span class="at">frequency =</span> <span class="dv">1</span>,<span class="at">start =</span> <span class="dv">1960</span>)</span></code></pre></div>
<div id="q1" class="section level4" number="10.1.1.1">
<h4><span class="header-section-number">10.1.1.1</span> Q1</h4>
<p><strong>1. Determine the key dynamic properties of each of the series.</strong></p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="exam-2018.html#cb257-1" aria-hidden="true" tabindex="-1"></a>{<span class="fu">tsdisplay</span>(ts[,<span class="dv">1</span>],<span class="at">main =</span> <span class="st">&quot;Short rates&quot;</span>) <span class="co">#Short term rates</span></span>
<span id="cb257-2"><a href="exam-2018.html#cb257-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdisplay</span>(ts[,<span class="dv">2</span>],<span class="at">main =</span> <span class="st">&quot;Medium rates&quot;</span>) <span class="co">#Medium rates</span></span>
<span id="cb257-3"><a href="exam-2018.html#cb257-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdisplay</span>(ts[,<span class="dv">3</span>],<span class="at">main =</span> <span class="st">&quot;Long rates&quot;</span>)} <span class="co">#Long rates</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-185-1"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-185-1.png" alt="ts display of the time series" width="480" />
<p class="caption">
Figure 10.1: ts display of the time series
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-185-2"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-185-2.png" alt="ts display of the time series" width="480" />
<p class="caption">
Figure 10.2: ts display of the time series
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-185-3"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-185-3.png" alt="ts display of the time series" width="480" />
<p class="caption">
Figure 10.3: ts display of the time series
</p>
</div>
<p>We see that all series are non stationary, hence unit roots. Also it appears as if there is a trend, an clearly if one is looking at the first 20 years, then it is quite linear.</p>
</div>
<div id="q2" class="section level4" number="10.1.1.2">
<h4><span class="header-section-number">10.1.1.2</span> Q2</h4>
<p><strong>2. Justify a model specification for Long Rates (LR) and study post-regression residuals. Obtain forecasts for LR for the period 1991-2000 based on the in-sample period 1960-1990. How does your forecast compare to a simple moving average method? Finally, obtain a forecast also for the next 18 years (2001-2018) based on 1960-2000 data.</strong></p>
<p>A time series if the long term rates are is made and the the data is partitioned.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="exam-2018.html#cb258-1" aria-hidden="true" tabindex="-1"></a>y.ltn.train <span class="ot">&lt;-</span> ts[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">31</span>),<span class="dv">3</span>] <span class="sc">%&gt;%</span> <span class="fu">ts</span>(<span class="at">frequency =</span> <span class="dv">1</span>,<span class="at">start =</span> <span class="dv">1960</span>)</span>
<span id="cb258-2"><a href="exam-2018.html#cb258-2" aria-hidden="true" tabindex="-1"></a>y.ltn.test <span class="ot">&lt;-</span> ts[<span class="fu">c</span>(<span class="dv">32</span><span class="sc">:</span><span class="dv">41</span>),<span class="dv">3</span>]</span>
<span id="cb258-3"><a href="exam-2018.html#cb258-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdisplay</span>(<span class="fu">diff</span>(y.ltn.train,<span class="dv">1</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-186"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-186-1.png" alt="ltn inspection" width="480" />
<p class="caption">
Figure 10.4: ltn inspection
</p>
</div>
<p>We see no significant spikes, hence implying a random walk.</p>
<p>We saw earlier that the data was not stationary, hence we took first order difference. The data now look stationary, but has some extraordinary variance in the last years. Hence we can test this with an ADF, where H0: non stationarity.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="exam-2018.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="fu">adf.test</span>(<span class="fu">diff</span>(y.ltn.train,<span class="dv">1</span>))</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  diff(y.ltn.train, 1)
## Dickey-Fuller = -3.5238, Lag order = 3, p-value = 0.05851
## alternative hypothesis: stationary</code></pre>
<p>Based on the 5% level we are not able to reject H0, but it is very close to the significance level. It was found, that H0 can be rejected with d = 2, where p value would be ≈ 0,036, hence rejecting H0 on the five percent level. Although it would make the data more abstract from the actual data.</p>
<p>Hence it is chosen to select the first order difference, well in mind, that it is not significant on the 5% level. But, that is also the probability of taking the wrong decision.</p>
<p>So seeing that we have a random walk. We can assess the men of the data, and see where it lies.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="exam-2018.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">diff</span>(y.ltn.train))</span></code></pre></div>
<pre><code>## [1] 0.316111</code></pre>
<p>We see a mean of 0,3161 indicating, that the model has a drift.</p>
<p>Thus we can make the following model, being an RW with a drift.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="exam-2018.html#cb263-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">Arima</span>(y.ltn.train,<span class="at">order =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>),<span class="at">include.drift =</span> <span class="cn">TRUE</span>)</span>
<span id="cb263-2"><a href="exam-2018.html#cb263-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code></pre></div>
<pre><code>## Series: y.ltn.train 
## ARIMA(0,1,0) with drift 
## 
## Coefficients:
##        drift
##       0.3161
## s.e.  0.1652
## 
## sigma^2 estimated as 0.8469:  log likelihood=-39.57
## AIC=83.13   AICc=83.58   BIC=85.94
## 
## Training set error measures:
##                         ME      RMSE       MAE        MPE     MAPE      MASE
## Training set 0.00009480282 0.8900961 0.5748442 -0.8163705 6.898777 0.8854342
##                   ACF1
## Training set 0.1662727</code></pre>
<p>Now we are able to forecast</p>
<div id="forecasting-using-arima" class="section level5" number="10.1.1.2.1">
<h5><span class="header-section-number">10.1.1.2.1</span> Forecasting using ARIMA</h5>
<p><strong>Forecasting</strong></p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="exam-2018.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">forecast</span>(<span class="at">object =</span> fit,<span class="at">h =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##      Point Forecast    Lo 80    Hi 80    Lo 95    Hi 95
## 1991       13.05444 11.87506 14.23382 11.25073 14.85815
## 1992       13.37055 11.70265 15.03845 10.81972 15.92138
## 1993       13.68666 11.64391 15.72941 10.56254 16.81078
## 1994       14.00277 11.64401 16.36154 10.39535 17.61020
## 1995       14.31888 11.68170 16.95607 10.28567 18.35210
## 1996       14.63500 11.74611 17.52388 10.21683 19.05317
## 1997       14.95111 11.83075 18.07146 10.17894 19.72328
## 1998       15.26722 11.93142 18.60302 10.16555 20.36888
## 1999       15.58333 12.04518 19.12148 10.17220 20.99446
## 2000       15.89944 12.16990 19.62898 10.19561 21.60327</code></pre>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="exam-2018.html#cb267-1" aria-hidden="true" tabindex="-1"></a>forecast.test <span class="ot">&lt;-</span> <span class="fu">Arima</span>(<span class="at">y =</span> ts[,<span class="dv">3</span>] <span class="co">#The ltn</span></span>
<span id="cb267-2"><a href="exam-2018.html#cb267-2" aria-hidden="true" tabindex="-1"></a>                       ,<span class="at">model =</span> fit) <span class="co">#We apply the model that was found above, hence 0,1,0 + drift</span></span>
<span id="cb267-3"><a href="exam-2018.html#cb267-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">t</span>(<span class="fu">t</span>(forecast.test<span class="sc">$</span>fitted[<span class="fu">c</span>(<span class="dv">32</span><span class="sc">:</span><span class="dv">41</span>)])),<span class="at">caption =</span> <span class="st">&quot;Fitted values test period&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-190">Table 10.1: </span>Fitted values test period</caption>
<tbody>
<tr class="odd">
<td align="right">13.054441</td>
</tr>
<tr class="even">
<td align="right">11.430281</td>
</tr>
<tr class="odd">
<td align="right">9.860281</td>
</tr>
<tr class="even">
<td align="right">10.242781</td>
</tr>
<tr class="odd">
<td align="right">10.543611</td>
</tr>
<tr class="even">
<td align="right">10.237781</td>
</tr>
<tr class="odd">
<td align="right">11.127781</td>
</tr>
<tr class="even">
<td align="right">10.122781</td>
</tr>
<tr class="odd">
<td align="right">9.087781</td>
</tr>
<tr class="even">
<td align="right">8.192781</td>
</tr>
</tbody>
</table>
<p>Now we can calculate accuracy</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="exam-2018.html#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(<span class="at">object =</span> forecast.test<span class="sc">$</span>fitted[<span class="fu">c</span>(<span class="dv">32</span><span class="sc">:</span><span class="dv">41</span>)],<span class="at">x =</span> y.ltn.test)</span></code></pre></div>
<pre><code>##                 ME     RMSE       MAE       MPE     MAPE
## Test set -0.731944 1.150236 0.9374434 -7.739819 9.837796</code></pre>
<p>We see that we get an RMSE of 1.15 and MPE of -7.7</p>
</div>
<div id="forecasting-with-simple-moving-averages-1991---2000" class="section level5" number="10.1.1.2.2">
<h5><span class="header-section-number">10.1.1.2.2</span> Forecasting with simple moving averages 1991 - 2000</h5>
<p><strong>Calculating simple moving average</strong></p>
<p>We know that the data is not stationary, hence we must make differencing.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="exam-2018.html#cb270-1" aria-hidden="true" tabindex="-1"></a>y.ltn <span class="ot">&lt;-</span> <span class="fu">ts</span>(ts[,<span class="dv">3</span>],<span class="at">start =</span> <span class="dv">1960</span>)</span>
<span id="cb270-2"><a href="exam-2018.html#cb270-2" aria-hidden="true" tabindex="-1"></a>dy.ltn <span class="ot">&lt;-</span> <span class="fu">diff</span>(y.ltn)</span>
<span id="cb270-3"><a href="exam-2018.html#cb270-3" aria-hidden="true" tabindex="-1"></a>dy.ltn.test <span class="ot">&lt;-</span> dy.ltn[<span class="dv">31</span><span class="sc">:</span><span class="dv">40</span>]</span>
<span id="cb270-4"><a href="exam-2018.html#cb270-4" aria-hidden="true" tabindex="-1"></a>ma.ltn <span class="ot">&lt;-</span> <span class="fu">ma</span>(<span class="at">x =</span> dy.ltn,<span class="at">order =</span> <span class="dv">3</span>)</span>
<span id="cb270-5"><a href="exam-2018.html#cb270-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ma.ltn) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;lightgrey&quot;</span>)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-192-1.png" width="480" style="display: block; margin: auto;" /></p>
<pre><code>## integer(0)</code></pre>
<p>We see the MA’s above.</p>
<p>We see that the MA’s are centered, that is not applicable for prediction purposes, as we want to predict using previous periods.</p>
<p><strong>FORECASTING WITH MA</strong></p>
<p>It is done with three different approaches:</p>
<ol style="list-style-type: decimal">
<li>Using <code>ma()</code> not really good</li>
<li>Using excel and importing, that is valid</li>
<li>Using some loops, that is pretty cool</li>
</ol>
<div id="using-ma" class="section level6" number="10.1.1.2.2.1">
<h6><span class="header-section-number">10.1.1.2.2.1</span> 1. Using ma()</h6>
<p><strong>USING MA</strong></p>
<p>This is not really applicable for forecasting.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="exam-2018.html#cb272-1" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="co">#specify the order of the moving average</span></span>
<span id="cb272-2"><a href="exam-2018.html#cb272-2" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">rep</span> (<span class="dv">1</span><span class="sc">/</span>k,k) <span class="co">#remember that simple average is a weighted average with equal weights, </span></span>
<span id="cb272-3"><a href="exam-2018.html#cb272-3" aria-hidden="true" tabindex="-1"></a>                <span class="co">#you need to specify weights for the filter command to work</span></span>
<span id="cb272-4"><a href="exam-2018.html#cb272-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-5"><a href="exam-2018.html#cb272-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Applying filter, to move the MA&#39;s to the end of the period</span></span>
<span id="cb272-6"><a href="exam-2018.html#cb272-6" aria-hidden="true" tabindex="-1"></a>yt3 <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">filter</span>(<span class="at">x =</span> dy.ltn <span class="co">#The time-series</span></span>
<span id="cb272-7"><a href="exam-2018.html#cb272-7" aria-hidden="true" tabindex="-1"></a>                     ,<span class="at">filter =</span> c <span class="co">#The filter (the wheights)</span></span>
<span id="cb272-8"><a href="exam-2018.html#cb272-8" aria-hidden="true" tabindex="-1"></a>                     ,<span class="at">sides =</span> <span class="dv">1</span>)</span>
<span id="cb272-9"><a href="exam-2018.html#cb272-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-10"><a href="exam-2018.html#cb272-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Plotting</span></span>
<span id="cb272-11"><a href="exam-2018.html#cb272-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ts.plot</span>(yt3) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;Lightgrey&quot;</span>) <span class="co">#Plotting the MA&#39;s</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-193"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-193-1.png" alt="MA ltn data" width="480" />
<p class="caption">
Figure 10.5: MA ltn data
</p>
</div>
<pre><code>## integer(0)</code></pre>
<p>Then one could make accuracy</p>
</div>
<div id="using-excel" class="section level6" number="10.1.1.2.2.2">
<h6><span class="header-section-number">10.1.1.2.2.2</span> 2. Using excel</h6>
<p><strong>Doing it in excel and then importing</strong></p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="exam-2018.html#cb274-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/temp.xlsx&quot;</span>)</span>
<span id="cb274-2"><a href="exam-2018.html#cb274-2" aria-hidden="true" tabindex="-1"></a>ma3.excel <span class="ot">&lt;-</span> temp[,<span class="dv">3</span>]</span>
<span id="cb274-3"><a href="exam-2018.html#cb274-3" aria-hidden="true" tabindex="-1"></a>ma3.excel <span class="ot">&lt;-</span> <span class="fu">ts</span>(ma3.excel)</span></code></pre></div>
<p>accuracy</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="exam-2018.html#cb275-1" aria-hidden="true" tabindex="-1"></a>ma.forecast.test <span class="ot">&lt;-</span> yt3[<span class="fu">c</span>(<span class="dv">32</span><span class="sc">:</span><span class="dv">41</span>)]</span>
<span id="cb275-2"><a href="exam-2018.html#cb275-2" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(<span class="at">object =</span> ma3.excel,<span class="at">x =</span> dy.ltn.test)</span></code></pre></div>
<pre><code>##                 ME     RMSE      MAE      MPE     MAPE
## Test set -0.568935 1.061947 0.991435 129.1631 129.1631</code></pre>
</div>
<div id="using-a-loop" class="section level6" number="10.1.1.2.2.3">
<h6><span class="header-section-number">10.1.1.2.2.3</span> 3. Using a loop</h6>
<p><strong>Using a loop for this purpose</strong></p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="exam-2018.html#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Define the input data</span></span>
<span id="cb277-2"><a href="exam-2018.html#cb277-2" aria-hidden="true" tabindex="-1"></a>dy.ltn.train <span class="ot">&lt;-</span> dy.ltn[<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>]</span>
<span id="cb277-3"><a href="exam-2018.html#cb277-3" aria-hidden="true" tabindex="-1"></a>dy.ltn.test <span class="ot">&lt;-</span> dy.ltn[<span class="dv">31</span><span class="sc">:</span><span class="dv">40</span>]</span>
<span id="cb277-4"><a href="exam-2018.html#cb277-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-5"><a href="exam-2018.html#cb277-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Forecasting with a simple MA of order k</span></span>
<span id="cb277-6"><a href="exam-2018.html#cb277-6" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb277-7"><a href="exam-2018.html#cb277-7" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">length</span>(dy.ltn.train) <span class="co">#number of available data points</span></span>
<span id="cb277-8"><a href="exam-2018.html#cb277-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-9"><a href="exam-2018.html#cb277-9" aria-hidden="true" tabindex="-1"></a><span class="co">#adding extra rows, as many as periods ahead want to forecast</span></span>
<span id="cb277-10"><a href="exam-2018.html#cb277-10" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span><span class="dv">10</span></span>
<span id="cb277-11"><a href="exam-2018.html#cb277-11" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> dy.ltn.train </span>
<span id="cb277-12"><a href="exam-2018.html#cb277-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-13"><a href="exam-2018.html#cb277-13" aria-hidden="true" tabindex="-1"></a><span class="co">#generating space to save the forecasts</span></span>
<span id="cb277-14"><a href="exam-2018.html#cb277-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>h){</span>
<span id="cb277-15"><a href="exam-2018.html#cb277-15" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="fu">c</span>(y, <span class="dv">0</span>)</span>
<span id="cb277-16"><a href="exam-2018.html#cb277-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb277-17"><a href="exam-2018.html#cb277-17" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(<span class="fu">t</span>(y))</span></code></pre></div>
<pre><code>##           [,1]
##  [1,] -0.06583
##  [2,]  0.41666
##  [3,]  0.51917
##  [4,] -0.01000
##  [5,]  0.93417
##  [6,]  0.14000
##  [7,] -0.13084
##  [8,]  0.04250
##  [9,] -0.01000
## [10,]  0.09334
## [11,]  0.01750
## [12,]  0.48333
## [13,]  0.21333
## [14,]  0.82667
## [15,]  0.83333
## [16,]  0.40667
## [17,] -1.02000
## [18,]  0.28000
## [19,]  0.32500
## [20,]  1.32000
## [21,]  0.12333
## [22,]  0.23584
## [23,] -0.53584
## [24,]  0.54250
## [25,]  0.94334
## [26,]  2.15916
## [27,]  2.65084
## [28,] -0.60584
## [29,] -2.61833
## [30,]  0.97333
## [31,]  0.00000
## [32,]  0.00000
## [33,]  0.00000
## [34,]  0.00000
## [35,]  0.00000
## [36,]  0.00000
## [37,]  0.00000
## [38,]  0.00000
## [39,]  0.00000
## [40,]  0.00000</code></pre>
<p>Now we see that we have extended the ts with 10 rows of 0. Corresponding with the period that we want to forecast.</p>
<p>Now we can do the forecast</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="exam-2018.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculating the forecast values</span></span>
<span id="cb279-2"><a href="exam-2018.html#cb279-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> (l<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(l<span class="sc">+</span>h)){</span>
<span id="cb279-3"><a href="exam-2018.html#cb279-3" aria-hidden="true" tabindex="-1"></a>  a<span class="ot">&lt;-</span>j<span class="sc">-</span>k</span>
<span id="cb279-4"><a href="exam-2018.html#cb279-4" aria-hidden="true" tabindex="-1"></a>  b<span class="ot">&lt;-</span>j<span class="dv">-1</span></span>
<span id="cb279-5"><a href="exam-2018.html#cb279-5" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span>y[a<span class="sc">:</span>b]</span>
<span id="cb279-6"><a href="exam-2018.html#cb279-6" aria-hidden="true" tabindex="-1"></a>  y[j] <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb279-7"><a href="exam-2018.html#cb279-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb279-8"><a href="exam-2018.html#cb279-8" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(<span class="fu">t</span>(y))</span></code></pre></div>
<pre><code>##             [,1]
##  [1,] -0.0658300
##  [2,]  0.4166600
##  [3,]  0.5191700
##  [4,] -0.0100000
##  [5,]  0.9341700
##  [6,]  0.1400000
##  [7,] -0.1308400
##  [8,]  0.0425000
##  [9,] -0.0100000
## [10,]  0.0933400
## [11,]  0.0175000
## [12,]  0.4833300
## [13,]  0.2133300
## [14,]  0.8266700
## [15,]  0.8333300
## [16,]  0.4066700
## [17,] -1.0200000
## [18,]  0.2800000
## [19,]  0.3250000
## [20,]  1.3200000
## [21,]  0.1233300
## [22,]  0.2358400
## [23,] -0.5358400
## [24,]  0.5425000
## [25,]  0.9433400
## [26,]  2.1591600
## [27,]  2.6508400
## [28,] -0.6058400
## [29,] -2.6183300
## [30,]  0.9733300
## [31,] -0.7502800
## [32,] -0.7984267
## [33,] -0.1917922
## [34,] -0.5801663
## [35,] -0.5234617
## [36,] -0.4318067
## [37,] -0.5118116
## [38,] -0.4890267
## [39,] -0.4775483
## [40,] -0.4927955</code></pre>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="exam-2018.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(<span class="at">object =</span> y[(<span class="fu">length</span>(y)<span class="sc">-</span><span class="dv">9</span>)<span class="sc">:</span>(<span class="fu">length</span>(y))],<span class="at">x =</span> dy.ltn.test)</span></code></pre></div>
<pre><code>##                 ME      RMSE       MAE      MPE     MAPE
## Test set 0.1088786 0.8003623 0.7292919 94.18366 108.4159</code></pre>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="exam-2018.html#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y,<span class="at">type =</span> <span class="st">&#39;l&#39;</span>,<span class="at">main =</span> <span class="st">&quot;MA, k = 3&quot;</span>) <span class="sc">+</span> <span class="fu">abline</span>(<span class="at">v =</span> l,<span class="at">col =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;lightgrey&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-199"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-199-1.png" alt="MA k=3 h=10" width="480" />
<p class="caption">
Figure 10.6: MA k=3 h=10
</p>
</div>
<pre><code>## integer(0)</code></pre>
<p><strong>Conclusion</strong></p>
<p>ARIMA RMSE = 1.15
MA3 RMSE = 0.800</p>
<p>Hence MA appear to be the better approach.</p>
<p><br />
</p>
<p><br />
</p>
</div>
</div>
</div>
<div id="forecasting-2001---2018" class="section level4" number="10.1.1.3">
<h4><span class="header-section-number">10.1.1.3</span> Forecasting 2001 - 2018</h4>
<p><strong>Forecasting 18 years</strong></p>
<div id="using-ma-loop-method" class="section level5" number="10.1.1.3.1">
<h5><span class="header-section-number">10.1.1.3.1</span> Using ma (loop method)</h5>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="exam-2018.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Define the input data</span></span>
<span id="cb285-2"><a href="exam-2018.html#cb285-2" aria-hidden="true" tabindex="-1"></a>dy.ltn <span class="ot">&lt;-</span> dy.ltn</span>
<span id="cb285-3"><a href="exam-2018.html#cb285-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-4"><a href="exam-2018.html#cb285-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Forecasting with a simple MA of order k</span></span>
<span id="cb285-5"><a href="exam-2018.html#cb285-5" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb285-6"><a href="exam-2018.html#cb285-6" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">length</span>(dy.ltn) <span class="co">#number of available data points</span></span>
<span id="cb285-7"><a href="exam-2018.html#cb285-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-8"><a href="exam-2018.html#cb285-8" aria-hidden="true" tabindex="-1"></a><span class="co">#adding extra rows, as many as periods ahead want to forecast</span></span>
<span id="cb285-9"><a href="exam-2018.html#cb285-9" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span><span class="dv">18</span></span>
<span id="cb285-10"><a href="exam-2018.html#cb285-10" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> dy.ltn</span>
<span id="cb285-11"><a href="exam-2018.html#cb285-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-12"><a href="exam-2018.html#cb285-12" aria-hidden="true" tabindex="-1"></a><span class="co">#generating space to save the forecasts</span></span>
<span id="cb285-13"><a href="exam-2018.html#cb285-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>h){</span>
<span id="cb285-14"><a href="exam-2018.html#cb285-14" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="fu">c</span>(y, <span class="dv">0</span>)</span>
<span id="cb285-15"><a href="exam-2018.html#cb285-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb285-16"><a href="exam-2018.html#cb285-16" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(<span class="fu">t</span>(y))</span></code></pre></div>
<pre><code>##           [,1]
##  [1,] -0.06583
##  [2,]  0.41666
##  [3,]  0.51917
##  [4,] -0.01000
##  [5,]  0.93417
##  [6,]  0.14000
##  [7,] -0.13084
##  [8,]  0.04250
##  [9,] -0.01000
## [10,]  0.09334
## [11,]  0.01750
## [12,]  0.48333
## [13,]  0.21333
## [14,]  0.82667
## [15,]  0.83333
## [16,]  0.40667
## [17,] -1.02000
## [18,]  0.28000
## [19,]  0.32500
## [20,]  1.32000
## [21,]  0.12333
## [22,]  0.23584
## [23,] -0.53584
## [24,]  0.54250
## [25,]  0.94334
## [26,]  2.15916
## [27,]  2.65084
## [28,] -0.60584
## [29,] -2.61833
## [30,]  0.97333
## [31,] -1.62416
## [32,] -1.57000
## [33,]  0.38250
## [34,]  0.30083
## [35,] -0.30583
## [36,]  0.89000
## [37,] -1.00500
## [38,] -1.03500
## [39,] -0.89500
## [40,]  0.70333
## [41,]  0.00000
## [42,]  0.00000
## [43,]  0.00000
## [44,]  0.00000
## [45,]  0.00000
## [46,]  0.00000
## [47,]  0.00000
## [48,]  0.00000
## [49,]  0.00000
## [50,]  0.00000
## [51,]  0.00000
## [52,]  0.00000
## [53,]  0.00000
## [54,]  0.00000
## [55,]  0.00000
## [56,]  0.00000
## [57,]  0.00000
## [58,]  0.00000</code></pre>
<p>Now we see that we have extended the ts with 10 rows of 0. Corresponding with the period that we want to forecast.</p>
<p>Now we can do the forecast</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="exam-2018.html#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculating the forecast values</span></span>
<span id="cb287-2"><a href="exam-2018.html#cb287-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> (l<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(l<span class="sc">+</span>h)){</span>
<span id="cb287-3"><a href="exam-2018.html#cb287-3" aria-hidden="true" tabindex="-1"></a>  a<span class="ot">&lt;-</span>j<span class="sc">-</span>k</span>
<span id="cb287-4"><a href="exam-2018.html#cb287-4" aria-hidden="true" tabindex="-1"></a>  b<span class="ot">&lt;-</span>j<span class="dv">-1</span></span>
<span id="cb287-5"><a href="exam-2018.html#cb287-5" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span>y[a<span class="sc">:</span>b]</span>
<span id="cb287-6"><a href="exam-2018.html#cb287-6" aria-hidden="true" tabindex="-1"></a>  y[j] <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb287-7"><a href="exam-2018.html#cb287-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb287-8"><a href="exam-2018.html#cb287-8" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(<span class="fu">t</span>(y))</span></code></pre></div>
<pre><code>##              [,1]
##  [1,] -0.06583000
##  [2,]  0.41666000
##  [3,]  0.51917000
##  [4,] -0.01000000
##  [5,]  0.93417000
##  [6,]  0.14000000
##  [7,] -0.13084000
##  [8,]  0.04250000
##  [9,] -0.01000000
## [10,]  0.09334000
## [11,]  0.01750000
## [12,]  0.48333000
## [13,]  0.21333000
## [14,]  0.82667000
## [15,]  0.83333000
## [16,]  0.40667000
## [17,] -1.02000000
## [18,]  0.28000000
## [19,]  0.32500000
## [20,]  1.32000000
## [21,]  0.12333000
## [22,]  0.23584000
## [23,] -0.53584000
## [24,]  0.54250000
## [25,]  0.94334000
## [26,]  2.15916000
## [27,]  2.65084000
## [28,] -0.60584000
## [29,] -2.61833000
## [30,]  0.97333000
## [31,] -1.62416000
## [32,] -1.57000000
## [33,]  0.38250000
## [34,]  0.30083000
## [35,] -0.30583000
## [36,]  0.89000000
## [37,] -1.00500000
## [38,] -1.03500000
## [39,] -0.89500000
## [40,]  0.70333000
## [41,] -0.40889000
## [42,] -0.20018667
## [43,]  0.03141778
## [44,] -0.19255296
## [45,] -0.12044062
## [46,] -0.09385860
## [47,] -0.13561739
## [48,] -0.11663887
## [49,] -0.11537162
## [50,] -0.12254263
## [51,] -0.11818437
## [52,] -0.11869954
## [53,] -0.11980885
## [54,] -0.11889759
## [55,] -0.11913533
## [56,] -0.11928059
## [57,] -0.11910450
## [58,] -0.11917347</code></pre>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="exam-2018.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y,<span class="at">type =</span> <span class="st">&#39;l&#39;</span>,<span class="at">main =</span> <span class="st">&quot;MA, k = 3&quot;</span>) <span class="sc">+</span> <span class="fu">abline</span>(<span class="at">v =</span> l,<span class="at">col =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;lightgrey&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-202"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-202-1.png" alt="MA k=3 h=18" width="480" />
<p class="caption">
Figure 10.7: MA k=3 h=18
</p>
</div>
<pre><code>## integer(0)</code></pre>
</div>
<div id="using-arima-rw-drift" class="section level5" number="10.1.1.3.2">
<h5><span class="header-section-number">10.1.1.3.2</span> Using ARIMA (RW + drift)</h5>
<p>As we have a random walk with a drift, we merely see that the forecast follow the drift, which consist of the mean of the train data set.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="exam-2018.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">forecast</span>(<span class="at">object =</span> forecast.test,<span class="at">h =</span> <span class="dv">18</span>) <span class="sc">%&gt;%</span> <span class="fu">plot</span>()</span></code></pre></div>
<p>&lt;img src=“Business-Forecasting-Notebook_files/figure-html/fig.cap”Forecast with RW + drift“-1.png” width=“480” style=“display: block; margin: auto;” /&gt;</p>
</div>
</div>
</div>
<div id="q3" class="section level3" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> Q3</h3>
<p><strong>3. In a multiple regression framework, determine the relationship of LR with SR and MR. Study whether the residuals satisfy the OLS assumptions.</strong></p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="exam-2018.html#cb292-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Exams/Exam2018Case1.xlsx&quot;</span>) <span class="co">#Case 1 material</span></span>
<span id="cb292-2"><a href="exam-2018.html#cb292-2" aria-hidden="true" tabindex="-1"></a>stn <span class="ot">&lt;-</span> df1[,<span class="dv">1</span>] <span class="sc">%&gt;%</span> <span class="fu">ts</span>(<span class="at">start =</span> <span class="dv">1960</span>)</span>
<span id="cb292-3"><a href="exam-2018.html#cb292-3" aria-hidden="true" tabindex="-1"></a>mtn <span class="ot">&lt;-</span> df1[,<span class="dv">2</span>] <span class="sc">%&gt;%</span> <span class="fu">ts</span>(<span class="at">start =</span> <span class="dv">1960</span>)</span>
<span id="cb292-4"><a href="exam-2018.html#cb292-4" aria-hidden="true" tabindex="-1"></a>ltn <span class="ot">&lt;-</span> df1[,<span class="dv">3</span>] <span class="sc">%&gt;%</span> <span class="fu">ts</span>(<span class="at">start =</span> <span class="dv">1960</span>)</span>
<span id="cb292-5"><a href="exam-2018.html#cb292-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-6"><a href="exam-2018.html#cb292-6" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(ltn <span class="sc">~</span> mtn <span class="sc">+</span> stn)</span>
<span id="cb292-7"><a href="exam-2018.html#cb292-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = ltn ~ mtn + stn)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -0.8618 -0.2749 -0.0409  0.1577  0.9019 
## 
## Coefficients:
##             Estimate Std. Error t value             Pr(&gt;|t|)    
## (Intercept) -0.07300    0.22196  -0.329                0.744    
## mtn          1.43944    0.09113  15.795 &lt; 0.0000000000000002 ***
## stn         -0.40008    0.07491  -5.341           0.00000456 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.3856 on 38 degrees of freedom
## Multiple R-squared:  0.9842, Adjusted R-squared:  0.9834 
## F-statistic:  1185 on 2 and 38 DF,  p-value: &lt; 0.00000000000000022</code></pre>
<p>We see that there is statistical evidence for relationship between the variables.</p>
<p>Although we may have a concern for multicollinearity.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="exam-2018.html#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vif</span>(fit)</span></code></pre></div>
<pre><code>##      mtn      stn 
## 20.91306 20.91306</code></pre>
<p>We see that the values far above 10, hence according to the rule of thumb, we have multicollinearity. Meaning that we should remove one of the variables, as they explain the same.</p>
<div id="diagnostics" class="section level4" number="10.1.2.1">
<h4><span class="header-section-number">10.1.2.1</span> Diagnostics</h4>
<div id="check-for-heteroskedasticity" class="section level5" number="10.1.2.1.1">
<h5><span class="header-section-number">10.1.2.1.1</span> Check for heteroskedasticity</h5>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="exam-2018.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">residuals</span>(fit)) <span class="sc">+</span> <span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-205"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-205-1.png" alt="Residuals plot of the fit" width="480" />
<p class="caption">
Figure 10.8: Residuals plot of the fit
</p>
</div>
<pre><code>## integer(0)</code></pre>
<p>It appears as if there can be heteroskedasticity in the residuals, meaning that there is information in the data, that is not explained by our model, hence the variance and the mean changes over time.</p>
<p>Although it is a good idea to make a test for this. Here a Breusch-Pagan test:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="exam-2018.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bptest</span>(fit)</span></code></pre></div>
<pre><code>## 
##  studentized Breusch-Pagan test
## 
## data:  fit
## BP = 0.27942, df = 2, p-value = 0.8696</code></pre>
<p>We see that there is in fact not enough evidence to reject the null, meaning it is fair to assume that the H0 is true, hence have homoskedasticity in the residuals.</p>
</div>
<div id="check-for-independent-residuals" class="section level5" number="10.1.2.1.2">
<h5><span class="header-section-number">10.1.2.1.2</span> Check for independent residuals</h5>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="exam-2018.html#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="fu">adf.test</span>(<span class="fu">resid</span>(fit))</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  resid(fit)
## Dickey-Fuller = -3.2478, Lag order = 3, p-value = 0.09348
## alternative hypothesis: stationary</code></pre>
<p>We reject H0, hence it is fair to assume that the residuals are non stationary, i.e. has unit root.</p>
<p>One could also apply Durbin-Watson test, to check for independent residuals.</p>
</div>
<div id="checking-residuals-for-normality" class="section level5" number="10.1.2.1.3">
<h5><span class="header-section-number">10.1.2.1.3</span> Checking residuals for normality</h5>
<p>Therefore, we can also plot a histogram of the data to assess the normal</p>
<p>We use a Jarque Bera test, where H0: Normal distribution</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="exam-2018.html#cb302-1" aria-hidden="true" tabindex="-1"></a>tseries<span class="sc">::</span><span class="fu">jarque.bera.test</span>(<span class="fu">resid</span>(fit))</span></code></pre></div>
<pre><code>## 
##  Jarque Bera Test
## 
## data:  resid(fit)
## X-squared = 1.5466, df = 2, p-value = 0.4615</code></pre>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="exam-2018.html#cb304-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">resid</span>(fit))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-208"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-208-1.png" alt="Check for normality" width="480" />
<p class="caption">
Figure 10.9: Check for normality
</p>
</div>
<p>Based on the JB test, it is in fact normal distribution in the residuals. This can be seen from the histogram as well, although there is some small skewness.</p>
</div>
<div id="conclusion" class="section level5" number="10.1.2.1.4">
<h5><span class="header-section-number">10.1.2.1.4</span> Conclusion</h5>
<p>We do not meet the requirements, as we observe the following issues:</p>
<ol style="list-style-type: decimal">
<li>Multicollinearity</li>
<li>Autocorrelation</li>
</ol>
</div>
</div>
</div>
<div id="q4" class="section level3" number="10.1.3">
<h3><span class="header-section-number">10.1.3</span> Q4</h3>
<p><strong>4. If residuals from the previous regression are satisfactory, interpret the estimation output from the previous step. Otherwise, make the necessary transformations so that you obtain valid estimates, and compare how the results change.</strong></p>
<div id="test-without-integration" class="section level4" number="10.1.3.1">
<h4><span class="header-section-number">10.1.3.1</span> Test without integration</h4>
<p>We try to remove one variable to get rid of multicollinearity and then see how it affects the model.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="exam-2018.html#cb305-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb305-2"><a href="exam-2018.html#cb305-2" aria-hidden="true" tabindex="-1"></a>  fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(ltn <span class="sc">~</span> stn)</span>
<span id="cb305-3"><a href="exam-2018.html#cb305-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bptest</span>(fit) <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Check for independent residuals</span></span>
<span id="cb305-4"><a href="exam-2018.html#cb305-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adf.test</span>(<span class="fu">resid</span>(fit)) <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Test for autocorrelation</span></span>
<span id="cb305-5"><a href="exam-2018.html#cb305-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dwtest</span>(fit) <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Test for autocorrelation</span></span>
<span id="cb305-6"><a href="exam-2018.html#cb305-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">jarque.bera.test</span>(<span class="fu">resid</span>(fit))  <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Check for normality in the residuals</span></span>
<span id="cb305-7"><a href="exam-2018.html#cb305-7" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<pre><code>## 
##  studentized Breusch-Pagan test
## 
## data:  fit
## BP = 2.0956, df = 1, p-value = 0.1477
## 
## 
##  Augmented Dickey-Fuller Test
## 
## data:  resid(fit)
## Dickey-Fuller = -3.8954, Lag order = 3, p-value = 0.02361
## alternative hypothesis: stationary
## 
## 
##  Durbin-Watson test
## 
## data:  fit
## DW = 0.82013, p-value = 0.000006044
## alternative hypothesis: true autocorrelation is greater than 0
## 
## 
##  Jarque Bera Test
## 
## data:  resid(fit)
## X-squared = 1.5021, df = 2, p-value = 0.4719</code></pre>
<p>We see that the ADF show no non stationarity, hence autocorrelation, but the DW does show non stationarity (hence autocorrelation)</p>
<p>We can check for cointegration, to see if they are in fact cointegrated, hence it is acceptable to have variables, that are not stationary. This can be check with the Phillips-Ouliaris test (2-step EG test).</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="exam-2018.html#cb307-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="fu">cbind</span>(stn,ltn))</span>
<span id="cb307-2"><a href="exam-2018.html#cb307-2" aria-hidden="true" tabindex="-1"></a><span class="fu">po.test</span>(z) <span class="co">#Note, this is the 2-step EG test</span></span></code></pre></div>
<pre><code>## 
##  Phillips-Ouliaris Cointegration Test
## 
## data:  z
## Phillips-Ouliaris demeaned = -19.899, Truncation lag parameter = 0,
## p-value = 0.05735</code></pre>
<p>We see that the p-value is 5.7% hence there is not sufficient evidence to reject on the five percent level, hence it is questionable.</p>
<p><strong>Sub conclusion</strong></p>
<p>The variables are not cointegrated, hence one should make the data series’ stationary by first order integration.</p>
</div>
<div id="test-with-first-order-integration" class="section level4" number="10.1.3.2">
<h4><span class="header-section-number">10.1.3.2</span> Test with first order integration</h4>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="exam-2018.html#cb309-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb309-2"><a href="exam-2018.html#cb309-2" aria-hidden="true" tabindex="-1"></a>  fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">diff</span>(ltn) <span class="sc">~</span> <span class="fu">diff</span>(stn))</span>
<span id="cb309-3"><a href="exam-2018.html#cb309-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bptest</span>(fit) <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Check for independent residuals</span></span>
<span id="cb309-4"><a href="exam-2018.html#cb309-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adf.test</span>(<span class="fu">resid</span>(fit))  <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Test for autocorrelation</span></span>
<span id="cb309-5"><a href="exam-2018.html#cb309-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dwtest</span>(fit)  <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Test for autocorrelation</span></span>
<span id="cb309-6"><a href="exam-2018.html#cb309-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">jarque.bera.test</span>(<span class="fu">resid</span>(fit))  <span class="sc">%&gt;%</span> <span class="fu">print</span>() <span class="co">#Check for normality in the residuals</span></span>
<span id="cb309-7"><a href="exam-2018.html#cb309-7" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<pre><code>## 
##  studentized Breusch-Pagan test
## 
## data:  fit
## BP = 0.07672, df = 1, p-value = 0.7818
## 
## 
##  Augmented Dickey-Fuller Test
## 
## data:  resid(fit)
## Dickey-Fuller = -2.889, Lag order = 3, p-value = 0.2246
## alternative hypothesis: stationary
## 
## 
##  Durbin-Watson test
## 
## data:  fit
## DW = 1.9979, p-value = 0.4942
## alternative hypothesis: true autocorrelation is greater than 0
## 
## 
##  Jarque Bera Test
## 
## data:  resid(fit)
## X-squared = 2.8678, df = 2, p-value = 0.2384</code></pre>
</div>
</div>
<div id="q5" class="section level3" number="10.1.4">
<h3><span class="header-section-number">10.1.4</span> Q5</h3>
<p><strong>5. Based on the valid regression you obtain in the previous step, produce an 18-year (2001-2018) forecast for LR, assuming the estimated coeficients remain the same for the 18-year duration. Compare your findings to the forecasts you obtained in step 2. Interpret what leads to the diference, if any, in the forecasts.</strong></p>
<p>Skipped, hasnt done similar during the semester</p>
</div>
<div id="q6" class="section level3" number="10.1.5">
<h3><span class="header-section-number">10.1.5</span> Q6</h3>
<p><strong>6. Treat these three variables in a VAR setting, justifying the number of lags you use. Interpret the estimation output. Why are you getting these results? If possible, justify a Cholesky ordering, plot Impulse Responses and Forecast Error Variance Decompositions, and interpret them.</strong></p>
<p>This was not really covered during lectures. we did VAR in bivariate setting</p>
<div id="vector-autoregressive-model-var" class="section level4" number="10.1.5.1">
<h4><span class="header-section-number">10.1.5.1</span> Vector AutoRegressive Model (VAR)</h4>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="exam-2018.html#cb311-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Exams/Exam2018Case1.xlsx&quot;</span>) <span class="co">#Case 1 material</span></span>
<span id="cb311-2"><a href="exam-2018.html#cb311-2" aria-hidden="true" tabindex="-1"></a>sr <span class="ot">&lt;-</span> <span class="fu">ts</span>(df1<span class="sc">$</span>SR,<span class="at">start =</span> <span class="dv">1960</span>)</span>
<span id="cb311-3"><a href="exam-2018.html#cb311-3" aria-hidden="true" tabindex="-1"></a>mr <span class="ot">&lt;-</span> <span class="fu">ts</span>(df1<span class="sc">$</span>MR,<span class="at">start =</span> <span class="dv">1960</span>)</span>
<span id="cb311-4"><a href="exam-2018.html#cb311-4" aria-hidden="true" tabindex="-1"></a>lr <span class="ot">&lt;-</span> <span class="fu">ts</span>(df1<span class="sc">$</span>LR,<span class="at">start =</span> <span class="dv">1960</span>)</span></code></pre></div>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="exam-2018.html#cb312-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb312-2"><a href="exam-2018.html#cb312-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tsdisplay</span>(sr)</span>
<span id="cb312-3"><a href="exam-2018.html#cb312-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tsdisplay</span>(mr)</span>
<span id="cb312-4"><a href="exam-2018.html#cb312-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tsdisplay</span>(lr)</span>
<span id="cb312-5"><a href="exam-2018.html#cb312-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-213-1.png" width="480" style="display: block; margin: auto;" /><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-213-2.png" width="480" style="display: block; margin: auto;" /><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-213-3.png" width="480" style="display: block; margin: auto;" /></p>
<p>We see that the series’ are not stationary. Hence, we must do first order differencing.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="exam-2018.html#cb313-1" aria-hidden="true" tabindex="-1"></a>dsr <span class="ot">&lt;-</span> <span class="fu">ts</span>(df1<span class="sc">$</span>SR,<span class="at">start =</span> <span class="dv">1960</span>) <span class="sc">%&gt;%</span> <span class="fu">diff</span>()</span>
<span id="cb313-2"><a href="exam-2018.html#cb313-2" aria-hidden="true" tabindex="-1"></a>dmr <span class="ot">&lt;-</span> <span class="fu">ts</span>(df1<span class="sc">$</span>MR,<span class="at">start =</span> <span class="dv">1960</span>) <span class="sc">%&gt;%</span> <span class="fu">diff</span>()</span>
<span id="cb313-3"><a href="exam-2018.html#cb313-3" aria-hidden="true" tabindex="-1"></a>dlr <span class="ot">&lt;-</span> <span class="fu">ts</span>(df1<span class="sc">$</span>LR,<span class="at">start =</span> <span class="dv">1960</span>) <span class="sc">%&gt;%</span> <span class="fu">diff</span>()</span>
<span id="cb313-4"><a href="exam-2018.html#cb313-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-5"><a href="exam-2018.html#cb313-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">1</span>))</span>
<span id="cb313-6"><a href="exam-2018.html#cb313-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dsr,<span class="at">main =</span> <span class="st">&quot;Diff. SR&quot;</span>) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span></code></pre></div>
<pre><code>## integer(0)</code></pre>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="exam-2018.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dmr,<span class="at">main =</span> <span class="st">&quot;Diff. MR&quot;</span>) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span></code></pre></div>
<pre><code>## integer(0)</code></pre>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="exam-2018.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dlr,<span class="at">main =</span> <span class="st">&quot;Diff. LR&quot;</span>) <span class="sc">+</span> <span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-214"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-214-1.png" alt="Plotting time series" width="480" />
<p class="caption">
Figure 10.10: Plotting time series
</p>
</div>
<pre><code>## integer(0)</code></pre>
<p>We see that the data now appear stationary, and we are able to work with the series’</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="exam-2018.html#cb319-1" aria-hidden="true" tabindex="-1"></a>{<span class="fu">acf</span>(dsr)</span>
<span id="cb319-2"><a href="exam-2018.html#cb319-2" aria-hidden="true" tabindex="-1"></a><span class="fu">acf</span>(dmr)</span>
<span id="cb319-3"><a href="exam-2018.html#cb319-3" aria-hidden="true" tabindex="-1"></a><span class="fu">acf</span>(dlr)}</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-215-1"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-215-1.png" alt="Correlogram of the series'" width="480" />
<p class="caption">
Figure 10.11: Correlogram of the series’
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-215-2"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-215-2.png" alt="Correlogram of the series'" width="480" />
<p class="caption">
Figure 10.12: Correlogram of the series’
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-215-3"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-215-3.png" alt="Correlogram of the series'" width="480" />
<p class="caption">
Figure 10.13: Correlogram of the series’
</p>
</div>
<div id="determine-order-of-lags-to-be-included-model-estimation-1" class="section level5" number="10.1.5.1.1">
<h5><span class="header-section-number">10.1.5.1.1</span> 1. Determine order of lags to be included + model estimation</h5>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="exam-2018.html#cb320-1" aria-hidden="true" tabindex="-1"></a>dz <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="fu">cbind</span>(sr,mr,lr),<span class="at">start =</span> <span class="dv">1960</span>) <span class="co">#dz = differenced z, where z equal the dataframe</span></span>
<span id="cb320-2"><a href="exam-2018.html#cb320-2" aria-hidden="true" tabindex="-1"></a>dz <span class="ot">&lt;-</span> <span class="fu">diff</span>(dz)</span>
<span id="cb320-3"><a href="exam-2018.html#cb320-3" aria-hidden="true" tabindex="-1"></a><span class="fu">VARselect</span>(<span class="at">y =</span> dz</span>
<span id="cb320-4"><a href="exam-2018.html#cb320-4" aria-hidden="true" tabindex="-1"></a>          ,<span class="at">lag.max =</span> <span class="dv">5</span> <span class="co">#if = 10, then AIC becomes -Inf, then it will select that, although that is faulty</span></span>
<span id="cb320-5"><a href="exam-2018.html#cb320-5" aria-hidden="true" tabindex="-1"></a>          ,<span class="at">type =</span> <span class="st">&quot;const&quot;</span>)</span></code></pre></div>
<pre><code>## $selection
## AIC(n)  HQ(n)  SC(n) FPE(n) 
##      1      1      1      1 
## 
## $criteria
##                 1          2          3           4          5
## AIC(n) -2.1319476 -1.9610699 -1.9981813 -1.71593364 -1.5732805
## HQ(n)  -1.9478656 -1.6389263 -1.5379762 -1.11766703 -0.8369524
## SC(n)  -1.5986854 -1.0278611 -0.6650258  0.01716849  0.5597683
## FPE(n)  0.1189635  0.1430338  0.1424012  0.20108463  0.2582111</code></pre>
<p>According to all IC, we should set p = 1, hence <span class="math inline">\(VAR(p=1)\)</span></p>
<p>Now can estimate the model, using the lag order, that we just found.</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="exam-2018.html#cb322-1" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">VAR</span>(<span class="at">y =</span> dz</span>
<span id="cb322-2"><a href="exam-2018.html#cb322-2" aria-hidden="true" tabindex="-1"></a>            ,<span class="at">p =</span> <span class="dv">1</span> <span class="co">#How many lags to be included in the models, e.g., if p = 3,</span></span>
<span id="cb322-3"><a href="exam-2018.html#cb322-3" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># then three lags of each variable is included.</span></span>
<span id="cb322-4"><a href="exam-2018.html#cb322-4" aria-hidden="true" tabindex="-1"></a>            ,<span class="at">type =</span> <span class="st">&quot;const&quot;</span>)</span>
<span id="cb322-5"><a href="exam-2018.html#cb322-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var1)</span></code></pre></div>
<pre><code>## 
## VAR Estimation Results:
## ========================= 
## Endogenous variables: sr, mr, lr 
## Deterministic variables: const 
## Sample size: 39 
## Log Likelihood: -112.684 
## Roots of the characteristic polynomial:
## 0.307 0.307 0.1904
## Call:
## VAR(y = dz, p = 1, type = &quot;const&quot;)
## 
## 
## Estimation results for equation sr: 
## =================================== 
## sr = sr.l1 + mr.l1 + lr.l1 + const 
## 
##       Estimate Std. Error t value Pr(&gt;|t|)
## sr.l1  -0.1984     0.5247  -0.378    0.708
## mr.l1   1.0410     1.4028   0.742    0.463
## lr.l1  -0.9496     1.1081  -0.857    0.397
## const   0.1280     0.3363   0.381    0.706
## 
## 
## Residual standard error: 2.075 on 35 degrees of freedom
## Multiple R-Squared: 0.02227, Adjusted R-squared: -0.06154 
## F-statistic: 0.2657 on 3 and 35 DF,  p-value: 0.8497 
## 
## 
## Estimation results for equation mr: 
## =================================== 
## mr = sr.l1 + mr.l1 + lr.l1 + const 
## 
##        Estimate Std. Error t value Pr(&gt;|t|)
## sr.l1  0.005615   0.327310   0.017    0.986
## mr.l1  0.599295   0.875110   0.685    0.498
## lr.l1 -0.697005   0.691234  -1.008    0.320
## const  0.151959   0.209820   0.724    0.474
## 
## 
## Residual standard error: 1.294 on 35 degrees of freedom
## Multiple R-Squared: 0.04974, Adjusted R-squared: -0.03171 
## F-statistic: 0.6107 on 3 and 35 DF,  p-value: 0.6126 
## 
## 
## Estimation results for equation lr: 
## =================================== 
## lr = sr.l1 + mr.l1 + lr.l1 + const 
## 
##       Estimate Std. Error t value Pr(&gt;|t|)
## sr.l1  0.07892    0.24608   0.321    0.750
## mr.l1  0.30298    0.65792   0.461    0.648
## lr.l1 -0.30392    0.51968  -0.585    0.562
## const  0.13780    0.15775   0.874    0.388
## 
## 
## Residual standard error: 0.973 on 35 degrees of freedom
## Multiple R-Squared: 0.08991, Adjusted R-squared: 0.0119 
## F-statistic: 1.153 on 3 and 35 DF,  p-value: 0.3416 
## 
## 
## 
## Covariance matrix of residuals:
##       sr    mr     lr
## sr 4.304 2.482 1.6354
## mr 2.482 1.675 1.1849
## lr 1.635 1.185 0.9468
## 
## Correlation matrix of residuals:
##        sr     mr     lr
## sr 1.0000 0.9243 0.8101
## mr 0.9243 1.0000 0.9409
## lr 0.8101 0.9409 1.0000</code></pre>
<p>We see that the variables are not significant to each other and not even the dependent variables lag 1, is not significant, and not even close to.</p>
<p><strong>Conclusion</strong></p>
</div>
<div id="model-diagnostics-1" class="section level5" number="10.1.5.1.2">
<h5><span class="header-section-number">10.1.5.1.2</span> 2. Model diagnostics</h5>
<p>Now we can make model diagnostics to check for autocorrelation (serial correlation).</p>
<p>This executes a Portmanteau test for correlation in the errors (i.e., autocorrelation, i.e., serial correlation). The null hypothesis is that there are no autocorrelation</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="exam-2018.html#cb324-1" aria-hidden="true" tabindex="-1"></a><span class="fu">serial.test</span>(var1</span>
<span id="cb324-2"><a href="exam-2018.html#cb324-2" aria-hidden="true" tabindex="-1"></a>            ,<span class="at">lags.pt =</span> <span class="dv">10</span> <span class="co">#It is chosen to be 10, could be anything else, perhaps one could plot it</span></span>
<span id="cb324-3"><a href="exam-2018.html#cb324-3" aria-hidden="true" tabindex="-1"></a>            ,<span class="at">type =</span> <span class="st">&quot;PT.asymptotic&quot;</span></span>
<span id="cb324-4"><a href="exam-2018.html#cb324-4" aria-hidden="true" tabindex="-1"></a>            )</span></code></pre></div>
<pre><code>## 
##  Portmanteau Test (asymptotic)
## 
## data:  Residuals of VAR object var1
## Chi-squared = 81.77, df = 81, p-value = 0.4552</code></pre>
<p>As the p-value is far above the significane level, 5%, we cannot reject the null hypothesis, hence it is fair to assume, that the residuals are not serial correlated.</p>
</div>
<div id="response-to-shocks-in-the-variables-1" class="section level5" number="10.1.5.1.3">
<h5><span class="header-section-number">10.1.5.1.3</span> 3. Response to shocks in the variables</h5>
<p>With the following, we are able to deduce how the different variables react (respond) from shocks in the variables.</p>
<p>The y-axis expres the changes where the x-axis express the n steps ahead. Hence in this example it is quarters ahead.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="exam-2018.html#cb326-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">irf</span>(var1,<span class="at">boot =</span> <span class="cn">TRUE</span>, <span class="at">ci=</span><span class="fl">0.95</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-219-1"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-219-1.png" alt="Resonses from shocks" width="480" />
<p class="caption">
Figure 10.14: Resonses from shocks
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-219-2"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-219-2.png" alt="Resonses from shocks" width="480" />
<p class="caption">
Figure 10.15: Resonses from shocks
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-219-3"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-219-3.png" alt="Resonses from shocks" width="480" />
<p class="caption">
Figure 10.16: Resonses from shocks
</p>
</div>
<div id="exogenious-vs.-endogenious-1" class="section level6" number="10.1.5.1.3.1">
<h6><span class="header-section-number">10.1.5.1.3.1</span> Exogenious vs. endogenious</h6>
</div>
</div>
<div id="forecasting-with-adl-1" class="section level5" number="10.1.5.1.4">
<h5><span class="header-section-number">10.1.5.1.4</span> 4. Forecasting with ADL</h5>
<div id="step-1---data-partition-1" class="section level6" number="10.1.5.1.4.1">
<h6><span class="header-section-number">10.1.5.1.4.1</span> Step 1 - Data partition</h6>
</div>
<div id="step-2---select-the-order-of-var-1" class="section level6" number="10.1.5.1.4.2">
<h6><span class="header-section-number">10.1.5.1.4.2</span> Step 2 - Select the order of VAR</h6>
</div>
<div id="step-3---fit-the-model-check-residuals-1" class="section level6" number="10.1.5.1.4.3">
<h6><span class="header-section-number">10.1.5.1.4.3</span> Step 3 - Fit the model + check residuals</h6>
</div>
<div id="step-4---make-the-forecast-1" class="section level6" number="10.1.5.1.4.4">
<h6><span class="header-section-number">10.1.5.1.4.4</span> Step 4 - Make the forecast</h6>
</div>
<div id="step-5---assessing-accuracy-1" class="section level6" number="10.1.5.1.4.5">
<h6><span class="header-section-number">10.1.5.1.4.5</span> Step 5 - Assessing accuracy</h6>
</div>
</div>
</div>
</div>
<div id="q7" class="section level3" number="10.1.6">
<h3><span class="header-section-number">10.1.6</span> Q7</h3>
<p><strong>7. Test for unit roots in each of the series, and determine whether you can obtain a cointegrating relationship. Interpret what your findings suggest.</strong></p>
<p>This was addressed earlier, see the process Q4</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="exam-2018.html#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
<div id="case-2" class="section level3" number="10.1.7">
<h3><span class="header-section-number">10.1.7</span> Case 2</h3>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="exam-2018.html#cb328-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Exams/Exam2018Case2.xlsx&quot;</span>) <span class="co">#Case 2 material</span></span></code></pre></div>
<div id="q1-1" class="section level4" number="10.1.7.1">
<h4><span class="header-section-number">10.1.7.1</span> Q1</h4>
<p><strong>dynamic properties</strong></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="exam-2018.html#cb329-1" aria-hidden="true" tabindex="-1"></a>y.badcalls <span class="ot">&lt;-</span> <span class="fu">ts</span>(df2[,<span class="dv">4</span>],<span class="at">frequency =</span> <span class="dv">24</span>)</span>
<span id="cb329-2"><a href="exam-2018.html#cb329-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdisplay</span>(y.badcalls)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-222"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-222-1.png" alt="Visual inspection" width="480" />
<p class="caption">
Figure 10.17: Visual inspection
</p>
</div>
<p>Based on the inspection, we may deduce the following:</p>
<ul>
<li>It appears as if we have non stationarity - that can be tested with DW or ADF</li>
<li>It appears as if there is seasonality - that can be tested with decomposition</li>
</ul>
<p>Testing for stationarity:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="exam-2018.html#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="fu">adf.test</span>(y.badcalls)</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  y.badcalls
## Dickey-Fuller = -9.5429, Lag order = 12, p-value = 0.01
## alternative hypothesis: stationary</code></pre>
<p>We see that the data actually is stationary</p>
<p>A test of decomposing is done in the following question.</p>
<p>On the basis hereon, we are able to deduce that the composition is additive</p>
</div>
<div id="q2-1" class="section level4" number="10.1.7.2">
<h4><span class="header-section-number">10.1.7.2</span> Q2</h4>
<p><strong>an appropriate decomposition with explanations on each component</strong></p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="exam-2018.html#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">decompose</span>(y.badcalls))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-224"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-224-1.png" alt="Decompisition of Bad Calls" width="480" />
<p class="caption">
Figure 10.18: Decompisition of Bad Calls
</p>
</div>
<p>We see that there is no trend in the data, but there is clearly seasons, depending on what hour it is.</p>
<p>We also see no cycles.</p>
</div>
<div id="q3-1" class="section level4" number="10.1.7.3">
<h4><span class="header-section-number">10.1.7.3</span> Q3</h4>
<p><strong>linar regression bad calls on the other variables</strong></p>
<p>Checking for stationarity in the explanatory variables</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="exam-2018.html#cb333-1" aria-hidden="true" tabindex="-1"></a>x.pressure <span class="ot">&lt;-</span> <span class="fu">ts</span>(df2[,<span class="dv">2</span>],<span class="at">frequency =</span> <span class="dv">24</span>)</span>
<span id="cb333-2"><a href="exam-2018.html#cb333-2" aria-hidden="true" tabindex="-1"></a>x.windspeed <span class="ot">&lt;-</span> <span class="fu">ts</span>(df2[,<span class="dv">3</span>],<span class="at">frequency =</span> <span class="dv">24</span>)</span>
<span id="cb333-3"><a href="exam-2018.html#cb333-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-4"><a href="exam-2018.html#cb333-4" aria-hidden="true" tabindex="-1"></a>{<span class="fu">print</span>(<span class="fu">tsdisplay</span>(x.pressure,<span class="at">lag.max =</span> <span class="dv">500</span>))</span>
<span id="cb333-5"><a href="exam-2018.html#cb333-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">tsdisplay</span>(x.windspeed,<span class="at">lag.max =</span> <span class="dv">500</span>))}</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-225-1.png" width="480" style="display: block; margin: auto;" /></p>
<pre><code>## NULL</code></pre>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-225-2.png" width="480" style="display: block; margin: auto;" /></p>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="exam-2018.html#cb336-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb336-2"><a href="exam-2018.html#cb336-2" aria-hidden="true" tabindex="-1"></a>{<span class="fu">print</span>(<span class="fu">adf.test</span>(x.pressure))</span>
<span id="cb336-3"><a href="exam-2018.html#cb336-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">adf.test</span>(x.windspeed))}</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  x.pressure
## Dickey-Fuller = -5.4916, Lag order = 12, p-value = 0.01
## alternative hypothesis: stationary
## 
## 
##  Augmented Dickey-Fuller Test
## 
## data:  x.windspeed
## Dickey-Fuller = -7.2395, Lag order = 12, p-value = 0.01
## alternative hypothesis: stationary</code></pre>
<p>Despite the visual interpretation showing characteristics that appear to be non stationary, the ADF test show overwhelming evidence to reject the null, hence it is fair to assume, that the data is stationer</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="exam-2018.html#cb338-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(y.badcalls <span class="sc">~</span> x.pressure <span class="sc">+</span> x.windspeed)</span>
<span id="cb338-2"><a href="exam-2018.html#cb338-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y.badcalls ~ x.pressure + x.windspeed)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.70804 -0.20978  0.02901  0.18513  1.07707 
## 
## Coefficients:
##              Estimate Std. Error t value            Pr(&gt;|t|)    
## (Intercept) 11.486495   1.004297   11.44 &lt;0.0000000000000002 ***
## x.pressure  -0.353204   0.033296  -10.61 &lt;0.0000000000000002 ***
## x.windspeed  0.043073   0.001359   31.69 &lt;0.0000000000000002 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.2654 on 2013 degrees of freedom
## Multiple R-squared:  0.4803, Adjusted R-squared:  0.4798 
## F-statistic: 930.2 on 2 and 2013 DF,  p-value: &lt; 0.00000000000000022</code></pre>
<p>One could describe this then</p>
</div>
<div id="q4-1" class="section level4" number="10.1.7.4">
<h4><span class="header-section-number">10.1.7.4</span> Q4</h4>
<p><strong>a forecast obtained based on an appropriate smoothing method</strong></p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="exam-2018.html#cb340-1" aria-hidden="true" tabindex="-1"></a>HW <span class="ot">&lt;-</span> <span class="fu">HoltWinters</span>(y.badcalls</span>
<span id="cb340-2"><a href="exam-2018.html#cb340-2" aria-hidden="true" tabindex="-1"></a>                  ,<span class="at">beta =</span> <span class="cn">FALSE</span> <span class="co">#No trend</span></span>
<span id="cb340-3"><a href="exam-2018.html#cb340-3" aria-hidden="true" tabindex="-1"></a>                <span class="co">#  ,gamma = TRUE #We have seasons #We want it to calculate the optimal</span></span>
<span id="cb340-4"><a href="exam-2018.html#cb340-4" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb340-5"><a href="exam-2018.html#cb340-5" aria-hidden="true" tabindex="-1"></a>HW</span></code></pre></div>
<pre><code>## Holt-Winters exponential smoothing without trend and with additive seasonal component.
## 
## Call:
## HoltWinters(x = y.badcalls, beta = FALSE)
## 
## Smoothing parameters:
##  alpha: 0.7433923
##  beta : FALSE
##  gamma: 0.5407147
## 
## Coefficients:
##              [,1]
## a    1.0597021787
## s1  -0.1794473089
## s2  -0.2712036049
## s3  -0.3205401341
## s4  -0.3207574608
## s5  -0.3321956847
## s6  -0.2810281488
## s7  -0.2685732309
## s8  -0.1190127729
## s9  -0.0124866501
## s10  0.0978011268
## s11  0.1868982608
## s12  0.2035583267
## s13  0.2205927840
## s14  0.1968599641
## s15  0.1681208212
## s16  0.1624518505
## s17  0.1702619587
## s18  0.1919992681
## s19  0.1975399933
## s20  0.1793936233
## s21  0.1453069693
## s22  0.0598995701
## s23  0.0005213328
## s24 -0.1149900150</code></pre>
<p>The model is created with seasonality but not trend hence, Holt Winters smoothing.</p>
<p>The function optimize to the optimal parameters.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="exam-2018.html#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="fu">forecast</span>(HW,<span class="at">h =</span> <span class="dv">24</span>)</span></code></pre></div>
<pre><code>##          Point Forecast     Lo 80     Hi 80     Lo 95    Hi 95
## 85.00000      0.8802549 0.7489360 1.0115738 0.6794199 1.081090
## 85.04167      0.7884986 0.6248691 0.9521280 0.5382489 1.038748
## 85.08333      0.7391620 0.5486245 0.9296996 0.4477600 1.030564
## 85.12500      0.7389447 0.5248548 0.9530347 0.4115224 1.066367
## 85.16667      0.7275065 0.4922100 0.9628030 0.3676515 1.087361
## 85.20833      0.7786740 0.5239302 1.0334178 0.3890770 1.168271
## 85.25000      0.7911289 0.5183207 1.0639372 0.3739047 1.208353
## 85.29167      0.9406894 0.6509407 1.2304381 0.4975570 1.383822
## 85.33333      1.0472155 0.7414636 1.3529675 0.5796083 1.514823
## 85.37500      1.1575033 0.8365450 1.4784616 0.6666400 1.648367
## 85.41667      1.2466004 0.9111244 1.5820765 0.7335342 1.759667
## 85.45833      1.2632605 0.9138695 1.6126516 0.7289130 1.797608
## 85.50000      1.2802950 0.9175222 1.6430677 0.7254819 1.835108
## 85.54167      1.2565621 0.8808841 1.6322402 0.6820121 1.831112
## 85.58333      1.2278230 0.8396684 1.6159776 0.6341918 1.821454
## 85.62500      1.2221540 0.8219117 1.6223963 0.6100362 1.834272
## 85.66667      1.2299641 0.8179886 1.6419397 0.5999019 1.860026
## 85.70833      1.2517014 0.8283177 1.6750852 0.6041919 1.899211
## 85.75000      1.2572422 0.8227496 1.6917347 0.5927432 1.921741
## 85.79167      1.2390958 0.7937715 1.6844201 0.5580311 1.920161
## 85.83333      1.2050091 0.7491104 1.6609079 0.5077722 1.902246
## 85.87500      1.1196017 0.6533683 1.5858352 0.4065593 1.832644
## 85.91667      1.0602235 0.5838796 1.5365675 0.3317183 1.788729
## 85.95833      0.9447122 0.4584679 1.4309565 0.2010657 1.688359</code></pre>
<p>We see the above produce point forecasts + confidence intervals.</p>
<p>The following plots the forecast</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="exam-2018.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">forecast</span>(HW,<span class="at">h =</span> <span class="dv">24</span>),<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">75</span>,<span class="dv">87</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-229"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-229-1.png" alt="HW forecast smoothing" width="480" />
<p class="caption">
Figure 10.19: HW forecast smoothing
</p>
</div>
</div>
<div id="q5-1" class="section level4" number="10.1.7.5">
<h4><span class="header-section-number">10.1.7.5</span> Q5</h4>
<p>Using ARIMA</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="exam-2018.html#cb345-1" aria-hidden="true" tabindex="-1"></a>arima.bc <span class="ot">&lt;-</span> <span class="fu">auto.arima</span>(y.badcalls)</span>
<span id="cb345-2"><a href="exam-2018.html#cb345-2" aria-hidden="true" tabindex="-1"></a><span class="fu">forecast</span>(arima.bc,<span class="at">h =</span> <span class="dv">24</span>)</span></code></pre></div>
<pre><code>##          Point Forecast     Lo 80     Hi 80     Lo 95    Hi 95
## 85.00000      0.8952382 0.7597392 1.0307372 0.6880104 1.102466
## 85.04167      0.7915810 0.6146908 0.9684711 0.5210508 1.062111
## 85.08333      0.6938403 0.4895408 0.8981398 0.3813912 1.006289
## 85.12500      0.6974756 0.4730226 0.9219285 0.3542044 1.040747
## 85.16667      0.7282253 0.4884601 0.9679905 0.3615361 1.094915
## 85.20833      0.8758832 0.6232167 1.1285497 0.4894632 1.262303
## 85.25000      0.8537510 0.5902471 1.1172550 0.4507565 1.256746
## 85.29167      0.9649759 0.6923134 1.2376385 0.5479745 1.381977
## 85.33333      1.0753636 0.7949200 1.3558072 0.6464621 1.504265
## 85.37500      1.2120036 0.9249268 1.4990804 0.7729575 1.651050
## 85.41667      1.3387255 1.0459649 1.6314861 0.8909867 1.786464
## 85.45833      1.3620451 1.0643968 1.6596933 0.9068313 1.817259
## 85.50000      1.3819627 1.0800996 1.6838259 0.9203029 1.843623
## 85.54167      1.3872987 1.0817924 1.6928050 0.9200672 1.854530
## 85.58333      1.3670515 1.0583905 1.6757125 0.8949952 1.839108
## 85.62500      1.3303459 1.0189487 1.6417430 0.8541050 1.806587
## 85.66667      1.2923932 0.9786197 1.6061666 0.8125181 1.772268
## 85.70833      1.2818309 0.9659914 1.5976704 0.7987960 1.764866
## 85.75000      1.2748361 0.9571985 1.5924738 0.7890513 1.760621
## 85.79167      1.2786251 0.9594213 1.5978289 0.7904451 1.766805
## 85.83333      1.2578344 0.9372655 1.5784033 0.7675666 1.748102
## 85.87500      1.1380432 0.8162837 1.4598027 0.6459545 1.630132
## 85.91667      1.0700041 0.7472057 1.3928025 0.5763266 1.563682
## 85.95833      0.9407264 0.6170210 1.2644318 0.4456617 1.435791</code></pre>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="exam-2018.html#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">forecast</span>(arima.bc,<span class="at">h =</span> <span class="dv">24</span>),<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">75</span>,<span class="dv">87</span>))</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-231-1.png" width="480" style="display: block; margin: auto;" /></p>
</div>
<div id="q6-1" class="section level4" number="10.1.7.6">
<h4><span class="header-section-number">10.1.7.6</span> Q6</h4>
<p><strong>a forecast combination of the two previously chosen methods and their evaluations</strong></p>
<p>Let us use the HoltWinters smoothing and the arima from q4 and q5.</p>
<p>First we must find out if it is fair to assume, that the models perform equally good. That can be done with Diebold-Mariano test. Where H0: is that the MSE’s are not significantly far from each other.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="exam-2018.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dm.test</span>(<span class="at">e1 =</span> <span class="fu">resid</span>(HW)</span>
<span id="cb348-2"><a href="exam-2018.html#cb348-2" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">e2 =</span> <span class="fu">resid</span>(arima.bc)[<span class="dv">25</span><span class="sc">:</span><span class="dv">2016</span>]</span>
<span id="cb348-3"><a href="exam-2018.html#cb348-3" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span> <span class="co">#Default, but shown for pedogical reasons. meaning that H1 is a two sided test</span></span>
<span id="cb348-4"><a href="exam-2018.html#cb348-4" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<pre><code>## 
##  Diebold-Mariano Test
## 
## data:  resid(HW)resid(arima.bc)[25:2016]
## DM = -1.7642, Forecast horizon = 1, Loss function power = 2, p-value =
## 0.07786
## alternative hypothesis: two.sided</code></pre>
<p>We are not able to reject the null hypothesis, hence the accuracies can be assumed to be the same, hence equally good models.</p>
<div id="combined-model" class="section level5" number="10.1.7.6.1">
<h5><span class="header-section-number">10.1.7.6.1</span> Combined model</h5>
<p>Now we can make the combined model, this can be done with two approaches:</p>
<ol style="list-style-type: decimal">
<li>Nelson</li>
<li>Granger-Ramanathan</li>
</ol>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="exam-2018.html#cb350-1" aria-hidden="true" tabindex="-1"></a>comb.df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(<span class="fu">as.matrix</span>(y.badcalls[<span class="dv">25</span><span class="sc">:</span><span class="dv">2016</span>])</span>
<span id="cb350-2"><a href="exam-2018.html#cb350-2" aria-hidden="true" tabindex="-1"></a>                               ,<span class="fu">as.vector</span>(HW<span class="sc">$</span>fitted[,<span class="dv">1</span>])</span>
<span id="cb350-3"><a href="exam-2018.html#cb350-3" aria-hidden="true" tabindex="-1"></a>                               ,<span class="fu">as.vector</span>(arima.bc<span class="sc">$</span>fitted[<span class="dv">25</span><span class="sc">:</span><span class="dv">2016</span>])))</span>
<span id="cb350-4"><a href="exam-2018.html#cb350-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(comb.df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;y.badcalls&quot;</span>,<span class="st">&quot;x.HW&quot;</span>,<span class="st">&quot;x.arima&quot;</span>)</span>
<span id="cb350-5"><a href="exam-2018.html#cb350-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-6"><a href="exam-2018.html#cb350-6" aria-hidden="true" tabindex="-1"></a>combfit <span class="ot">&lt;-</span> <span class="fu">lm</span>(y.badcalls <span class="sc">~</span> x.HW <span class="sc">+</span> x.arima</span>
<span id="cb350-7"><a href="exam-2018.html#cb350-7" aria-hidden="true" tabindex="-1"></a>              ,<span class="at">data =</span> comb.df)</span>
<span id="cb350-8"><a href="exam-2018.html#cb350-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-9"><a href="exam-2018.html#cb350-9" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(combfit) <span class="co">#the coefficients in the regression will give you the weights</span></span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y.badcalls ~ x.HW + x.arima, data = comb.df)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.91363 -0.04814 -0.00527  0.04445  1.19600 
## 
## Coefficients:
##             Estimate Std. Error t value             Pr(&gt;|t|)    
## (Intercept) 0.060838   0.007844   7.756   0.0000000000000139 ***
## x.HW        0.693959   0.042933  16.164 &lt; 0.0000000000000002 ***
## x.arima     0.255147   0.044773   5.699   0.0000000138793768 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.09884 on 1989 degrees of freedom
## Multiple R-squared:  0.9279, Adjusted R-squared:  0.9278 
## F-statistic: 1.28e+04 on 2 and 1989 DF,  p-value: &lt; 0.00000000000000022</code></pre>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="exam-2018.html#cb352-1" aria-hidden="true" tabindex="-1"></a>combfcast <span class="ot">&lt;-</span> <span class="fu">ts</span>(combfit<span class="sc">$</span>fitted.values, <span class="at">frequency =</span> <span class="dv">24</span>)</span>
<span id="cb352-2"><a href="exam-2018.html#cb352-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(combfcast)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-233-1.png" width="480" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="exam-2018.html#cb353-1" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(combfcast,<span class="at">x =</span> comb.df<span class="sc">$</span>y.badcalls)</span></code></pre></div>
<pre><code>##                                   ME       RMSE        MAE        MPE     MAPE
## Test set -0.000000000000000001959061 0.09877032 0.06512255 -0.7175288 5.916592</code></pre>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exam-cases.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="nordpool-case.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
