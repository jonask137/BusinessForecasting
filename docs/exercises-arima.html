<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7.5 Exercises - ARIMA | Business Forecasting</title>
  <meta name="description" content="7.5 Exercises - ARIMA | Business Forecasting" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="7.5 Exercises - ARIMA | Business Forecasting" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7.5 Exercises - ARIMA | Business Forecasting" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="adl.html"/>
<link rel="next" href="exercises-adl.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>setup</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="curriculum.html"><a href="curriculum.html"><i class="fa fa-check"></i><b>2</b> Curriculum</a></li>
<li class="chapter" data-level="3" data-path="qualitative-forecasting-methods.html"><a href="qualitative-forecasting-methods.html"><i class="fa fa-check"></i><b>3</b> Qualitative Forecasting Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="judgmental-forecasting-and-forecast-adjustments.html"><a href="judgmental-forecasting-and-forecast-adjustments.html"><i class="fa fa-check"></i><b>3.1</b> Judgmental Forecasting and Forecast Adjustments</a></li>
<li class="chapter" data-level="3.2" data-path="articles.html"><a href="articles.html"><i class="fa fa-check"></i><b>3.2</b> Articles</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="articles.html"><a href="articles.html#a-new-product-growth-model-for-consumer-durables-management-science"><i class="fa fa-check"></i><b>3.2.1</b> A new product growth model for consumer durables,” Management Science</a></li>
<li class="chapter" data-level="3.2.2" data-path="articles.html"><a href="articles.html#sales-forecasts-for-existing-consumer-products"><i class="fa fa-check"></i><b>3.2.2</b> Sales Forecasts for Existing Consumer Products</a></li>
<li class="chapter" data-level="3.2.3" data-path="articles.html"><a href="articles.html#judgmental-forecasting-a-review-of-progress-over-the-last-25-years-international-journal-of-forecasting"><i class="fa fa-check"></i><b>3.2.3</b> Judgmental forecasting A review of progress over the last 25 years, International Journal of Forecasting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploring-patterns-and-forecasting-techniques.html"><a href="exploring-patterns-and-forecasting-techniques.html"><i class="fa fa-check"></i><b>4</b> Exploring Patterns and Forecasting Techniques</a>
<ul>
<li class="chapter" data-level="4.1" data-path="the-forecasting-process.html"><a href="the-forecasting-process.html"><i class="fa fa-check"></i><b>4.1</b> The forecasting process</a></li>
<li class="chapter" data-level="4.2" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html"><i class="fa fa-check"></i><b>4.2</b> Data Patterns and terminology</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-patterns-and-terminology.html"><a href="data-patterns-and-terminology.html#terminology"><i class="fa fa-check"></i><b>4.2.1</b> Terminology</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="DataPatternsAndModelSelection.html"><a href="DataPatternsAndModelSelection.html"><i class="fa fa-check"></i><b>4.3</b> Data Patterns and Model Selection</a></li>
<li class="chapter" data-level="4.4" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>4.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="exercises.html"><a href="exercises.html#p.-92-hw-problem-8"><i class="fa fa-check"></i><b>4.4.1</b> p. 92 HW Problem 8</a></li>
<li class="chapter" data-level="4.4.2" data-path="exercises.html"><a href="exercises.html#p.-93-hw-problem-9-10"><i class="fa fa-check"></i><b>4.4.2</b> p. 93 HW Problem 9-10</a></li>
<li class="chapter" data-level="4.4.3" data-path="exercises.html"><a href="exercises.html#co2-and-sales-data"><i class="fa fa-check"></i><b>4.4.3</b> CO2 and Sales Data</a></li>
<li class="chapter" data-level="4.4.4" data-path="exercises.html"><a href="exercises.html#case-6-oo.-108-111-hw"><i class="fa fa-check"></i><b>4.4.4</b> Case 6 oo. 108-111 HW</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html"><i class="fa fa-check"></i><b>5</b> Simple and Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html"><i class="fa fa-check"></i><b>5.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#assumptions"><i class="fa fa-check"></i><b>5.1.1</b> Assumptions</a></li>
<li class="chapter" data-level="5.1.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#forecasting-with-a-linear-trend"><i class="fa fa-check"></i><b>5.1.2</b> Forecasting with a linear trend</a></li>
<li class="chapter" data-level="5.1.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#exercises-1"><i class="fa fa-check"></i><b>5.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html"><i class="fa fa-check"></i><b>5.2</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#multicollinearity"><i class="fa fa-check"></i><b>5.2.1</b> Multicollinearity</a></li>
<li class="chapter" data-level="5.2.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#serial-correlation-and-omitted-variables"><i class="fa fa-check"></i><b>5.2.2</b> Serial correlation and omitted variables</a></li>
<li class="chapter" data-level="5.2.3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#selection-criteria"><i class="fa fa-check"></i><b>5.2.3</b> Selection criteria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="time-series-decomposition-and-regression-with-time-series-data.html"><a href="time-series-decomposition-and-regression-with-time-series-data.html"><i class="fa fa-check"></i><b>6</b> Time-Series Decomposition and Regression with Time-Series Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="time-series-and-their-components-hw.html"><a href="time-series-and-their-components-hw.html"><i class="fa fa-check"></i><b>6.1</b> Time Series and Their Components (HW)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="time-series-and-their-components-hw.html"><a href="time-series-and-their-components-hw.html#additional-on-trend"><i class="fa fa-check"></i><b>6.1.1</b> Additional on trend</a></li>
<li class="chapter" data-level="6.1.2" data-path="time-series-and-their-components-hw.html"><a href="time-series-and-their-components-hw.html#additional-on-seasonal-pattern"><i class="fa fa-check"></i><b>6.1.2</b> Additional on seasonal pattern</a></li>
<li class="chapter" data-level="6.1.3" data-path="time-series-and-their-components-hw.html"><a href="time-series-and-their-components-hw.html#cyclical-and-irregular-variations"><i class="fa fa-check"></i><b>6.1.3</b> Cyclical and Irregular Variations</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="regression-with-time-series-data.html"><a href="regression-with-time-series-data.html"><i class="fa fa-check"></i><b>6.2</b> Regression with time series data</a></li>
<li class="chapter" data-level="6.3" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html"><i class="fa fa-check"></i><b>6.3</b> The success criteria and process</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#success-criteria"><i class="fa fa-check"></i><b>6.3.1</b> Success Criteria</a></li>
<li class="chapter" data-level="6.3.2" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#DecomposingWithMA"><i class="fa fa-check"></i><b>6.3.2</b> The Process</a></li>
<li class="chapter" data-level="6.3.3" data-path="the-success-criteria-and-process.html"><a href="the-success-criteria-and-process.html#Autocorellation"><i class="fa fa-check"></i><b>6.3.3</b> Autocorellation</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>6.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="exercises-2.html"><a href="exercises-2.html#alomega-food-stores-case-6-p.-166-case-7-p.-348"><i class="fa fa-check"></i><b>6.4.1</b> Alomega Food Stores, case 6 p. 166 + case 7 p. 348</a></li>
<li class="chapter" data-level="6.4.2" data-path="exercises-2.html"><a href="exercises-2.html#ex:MonthlySalesData"><i class="fa fa-check"></i><b>6.4.2</b> Monthly Sales Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ARIMA.html"><a href="ARIMA.html"><i class="fa fa-check"></i><b>7</b> ARIMA Models + ADL and Box-Jenkins Methodology</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html"><i class="fa fa-check"></i><b>7.1</b> ARIMA</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-ar-models"><i class="fa fa-check"></i><b>7.1.1</b> Elaborating on AR models</a></li>
<li class="chapter" data-level="7.1.2" data-path="ARIMAΗ2.html"><a href="ARIMAΗ2.html#elaborating-on-ma-models"><i class="fa fa-check"></i><b>7.1.2</b> Elaborating on MA models</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="model-building-process.html"><a href="model-building-process.html"><i class="fa fa-check"></i><b>7.2</b> Model Building Process</a></li>
<li class="chapter" data-level="7.3" data-path="advantages-and-disadvantages-for-arima-models.html"><a href="advantages-and-disadvantages-for-arima-models.html"><i class="fa fa-check"></i><b>7.3</b> Advantages and disadvantages for ARIMA models</a></li>
<li class="chapter" data-level="7.4" data-path="adl.html"><a href="adl.html"><i class="fa fa-check"></i><b>7.4</b> ADL</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="adl.html"><a href="adl.html#vector-autoregressive-var"><i class="fa fa-check"></i><b>7.4.1</b> Vector autoregressive (VAR)</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exercises-arima.html"><a href="exercises-arima.html"><i class="fa fa-check"></i><b>7.5</b> Exercises - ARIMA</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="exercises-arima.html"><a href="exercises-arima.html#ibm-stock-problem-12-p-405"><i class="fa fa-check"></i><b>7.5.1</b> IBM stock, problem 12 p 405</a></li>
<li class="chapter" data-level="7.5.2" data-path="exercises-arima.html"><a href="exercises-arima.html#demand-data-problem-7-p-403"><i class="fa fa-check"></i><b>7.5.2</b> Demand data, problem 7 p 403</a></li>
<li class="chapter" data-level="7.5.3" data-path="exercises-arima.html"><a href="exercises-arima.html#closing-stock-quotations-problem-13-p-409"><i class="fa fa-check"></i><b>7.5.3</b> Closing stock quotations, problem 13 p 409</a></li>
<li class="chapter" data-level="7.5.4" data-path="exercises-arima.html"><a href="exercises-arima.html#hw-case-1-page-413-414-q1-3"><i class="fa fa-check"></i><b>7.5.4</b> HW: Case 1 page 413-414 (q1-3)</a></li>
<li class="chapter" data-level="7.5.5" data-path="exercises-arima.html"><a href="exercises-arima.html#hw-case-4-page-417-419"><i class="fa fa-check"></i><b>7.5.5</b> HW: Case 4 page 417-419</a></li>
<li class="chapter" data-level="7.5.6" data-path="exercises-arima.html"><a href="exercises-arima.html#sales-data-seasonal"><i class="fa fa-check"></i><b>7.5.6</b> Sales data seasonal</a></li>
<li class="chapter" data-level="7.5.7" data-path="exercises-arima.html"><a href="exercises-arima.html#in-class-assignment"><i class="fa fa-check"></i><b>7.5.7</b> In class assignment</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exercises-adl.html"><a href="exercises-adl.html"><i class="fa fa-check"></i><b>7.6</b> Exercises - ADL</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="exercises-adl.html"><a href="exercises-adl.html#gdp-and-co2-levels"><i class="fa fa-check"></i><b>7.6.1</b> GDP and CO2 levels</a></li>
<li class="chapter" data-level="7.6.2" data-path="exercises-adl.html"><a href="exercises-adl.html#short--and-long-term-interest-rates-exchange-rates"><i class="fa fa-check"></i><b>7.6.2</b> Short- and long-term interest rates, exchange rates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="communicating-technical-findings.html"><a href="communicating-technical-findings.html"><i class="fa fa-check"></i><b>8</b> Communicating Technical Findings</a></li>
<li class="chapter" data-level="9" data-path="Methods.html"><a href="Methods.html"><i class="fa fa-check"></i><b>9</b> Methods and Performance Measurement</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html"><i class="fa fa-check"></i><b>9.1</b> Forecasting Methods</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ForecastMethods.html"><a href="ForecastMethods.html#using-averages"><i class="fa fa-check"></i><b>9.1.1</b> Using Averages</a></li>
<li class="chapter" data-level="9.1.2" data-path="ForecastMethods.html"><a href="ForecastMethods.html#linear-regressions"><i class="fa fa-check"></i><b>9.1.2</b> Linear regressions</a></li>
<li class="chapter" data-level="9.1.3" data-path="ForecastMethods.html"><a href="ForecastMethods.html#non-linear-regressions"><i class="fa fa-check"></i><b>9.1.3</b> Non linear regressions</a></li>
<li class="chapter" data-level="9.1.4" data-path="ForecastMethods.html"><a href="ForecastMethods.html#smoothing-methods"><i class="fa fa-check"></i><b>9.1.4</b> Smoothing methods</a></li>
<li class="chapter" data-level="9.1.5" data-path="ForecastMethods.html"><a href="ForecastMethods.html#arima"><i class="fa fa-check"></i><b>9.1.5</b> ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html"><i class="fa fa-check"></i><b>9.2</b> Performance Measurements</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html#error-terms"><i class="fa fa-check"></i><b>9.2.1</b> Error terms</a></li>
<li class="chapter" data-level="9.2.2" data-path="PerformanceMeasurements.html"><a href="PerformanceMeasurements.html#multicollinearity-1"><i class="fa fa-check"></i><b>9.2.2</b> Multicollinearity</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="formulas.html"><a href="formulas.html"><i class="fa fa-check"></i><b>9.3</b> Formulas</a></li>
<li class="chapter" data-level="9.4" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>9.4</b> Loops!!!!</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="loops.html"><a href="loops.html#holtwinters-smoothing---finding-optimal-frequency"><i class="fa fa-check"></i><b>9.4.1</b> HoltWinters Smoothing - finding optimal frequency</a></li>
<li class="chapter" data-level="9.4.2" data-path="loops.html"><a href="loops.html#arima---it-is-not-really-that-useful-does-not-have-all-combinations"><i class="fa fa-check"></i><b>9.4.2</b> ARIMA - it is not really that useful, does not have all combinations</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Business Forecasting</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercises---arima" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Exercises - ARIMA</h2>
<div id="ibm-stock-problem-12-p-405" class="section level3" number="7.5.1">
<h3><span class="header-section-number">7.5.1</span> IBM stock, problem 12 p 405</h3>
<p><strong>Qa</strong></p>
<p>The data in Table P-12 are weekly prices for IBM stock.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="exercises-arima.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Loading</span></span>
<span id="cb80-2"><a href="exercises-arima.html#cb80-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/IBMstock.xls&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">ts</span>(<span class="at">frequency =</span> <span class="dv">52</span>)</span>
<span id="cb80-3"><a href="exercises-arima.html#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="exercises-arima.html#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Plotting</span></span>
<span id="cb80-5"><a href="exercises-arima.html#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ts.plot</span>(y)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-61"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-61-1.png" alt="IBM stock prices" width="480" />
<p class="caption">
Figure 7.1: IBM stock prices
</p>
</div>
<p>It is dififult to say if there is a trend, but there appear to be seasons. This can be futher expected with the correlogram</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="exercises-arima.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">acf</span>(<span class="at">x =</span> y</span>
<span id="cb81-2"><a href="exercises-arima.html#cb81-2" aria-hidden="true" tabindex="-1"></a>    ,<span class="at">lag.max =</span> <span class="dv">52</span>) <span class="co">#We take for a whole year</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-62"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-62-1.png" alt="Correlogram (acf) IBM Stock prices" width="480" />
<p class="caption">
Figure 7.2: Correlogram (acf) IBM Stock prices
</p>
</div>
<p>The correlogram suggests that there is seasonality in the data. We only have data for one year, hence 52 periods. It would be interesting to see if the patterns express it self over years.</p>
<p>We could also express the pacf.</p>
<p>The partial correlation coefficient is estimated by fitting autoregressive models of successively higher orders up to lag.max.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="exercises-arima.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pacf</span>(<span class="at">x =</span> y</span>
<span id="cb82-2"><a href="exercises-arima.html#cb82-2" aria-hidden="true" tabindex="-1"></a>    ,<span class="at">lag.max =</span> <span class="dv">52</span>) <span class="co">#We take for a whole year</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-63"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-63-1.png" alt="Correlogram (pacf) IBM Stock prices" width="480" />
<p class="caption">
Figure 7.3: Correlogram (pacf) IBM Stock prices
</p>
</div>
<p><strong>What approaches does this suggest?</strong></p>
<p>It suggests, that we should use an AR model, as the acf is tending towards 0 while the pacf quickly drops to 0.</p>
<p><br />
</p>
<p><strong>Qb</strong></p>
<p>Looking at the ts plot, the data does not appear to be stationary. Perhaps there is a small indication of a trend in the data, hence not constant variance around a fixed point.</p>
<p>It therefore suggests that we move into ARIMA, where we apply d order differencing.</p>
<p><strong>Qc</strong></p>
<p>We apply AR and d, where we first try with first order, to assess if it is sufficient.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="exercises-arima.html#cb83-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#AR order</span></span>
<span id="cb83-2"><a href="exercises-arima.html#cb83-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="co">#Differencing order</span></span>
<span id="cb83-3"><a href="exercises-arima.html#cb83-3" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#MA order</span></span>
<span id="cb83-4"><a href="exercises-arima.html#cb83-4" aria-hidden="true" tabindex="-1"></a>order <span class="ot">&lt;-</span> <span class="fu">c</span>(p,d,q)</span>
<span id="cb83-5"><a href="exercises-arima.html#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="exercises-arima.html#cb83-6" aria-hidden="true" tabindex="-1"></a>ARIMAmod <span class="ot">&lt;-</span> <span class="fu">arima</span>(<span class="at">x =</span> y <span class="co">#The time-series</span></span>
<span id="cb83-7"><a href="exercises-arima.html#cb83-7" aria-hidden="true" tabindex="-1"></a>                  ,<span class="at">order =</span> order</span>
<span id="cb83-8"><a href="exercises-arima.html#cb83-8" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb83-9"><a href="exercises-arima.html#cb83-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-10"><a href="exercises-arima.html#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Assessing in-samp accuracy</span></span>
<span id="cb83-11"><a href="exercises-arima.html#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(<span class="at">object =</span> <span class="fu">fitted</span>(ARIMAmod)</span>
<span id="cb83-12"><a href="exercises-arima.html#cb83-12" aria-hidden="true" tabindex="-1"></a>         ,<span class="at">x =</span> y)</span></code></pre></div>
<pre><code>##                 ME     RMSE      MAE       MPE     MAPE      ACF1 Theil&#39;s U
## Test set 0.7166731 6.090774 4.793596 0.2270925 1.759575 0.2971583         1</code></pre>
<p>We see an mean percentage error of 1,64%. That is quite low. But also expected as it is in sample.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="exercises-arima.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ARIMAmod<span class="sc">$</span>residuals,<span class="at">ylab =</span> <span class="st">&quot;Residuals&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-65"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-65-1.png" alt="Residuals plot IBM stock ARIMA 1,1,0" width="480" />
<p class="caption">
Figure 7.4: Residuals plot IBM stock ARIMA 1,1,0
</p>
</div>
<p>The changes appear to be randomly distributed around 0.</p>
<p><strong>Qd</strong></p>
<p>Perform diagnostic checks to determine the adequacy of your fitted model</p>
<p><em>Residuals to be random</em></p>
<p>We see from the residuals plot above. It was difficult to get rid of heteroskedasticity</p>
<p><em>Note, it was tested with only differencing, and appear to have a more constant variance with this</em></p>
<p><em>but we still see something indicating that the variance is not entirely constant</em></p>
<p><strong>Constant variance</strong></p>
<p>This can also be checked using a Ljung-Box test, where the null hypothesis is that there is no relationship between the observations.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="exercises-arima.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Box.test</span>(ARIMAmod<span class="sc">$</span>residuals</span>
<span id="cb86-2"><a href="exercises-arima.html#cb86-2" aria-hidden="true" tabindex="-1"></a>         ,<span class="at">fitdf =</span> p<span class="sc">+</span>q) <span class="co">#Because it is applied to and ARIMA model</span></span></code></pre></div>
<pre><code>## 
##  Box-Pierce test
## 
## data:  ARIMAmod$residuals
## X-squared = 4.5918, df = 1, p-value = 0.03213</code></pre>
<p>We see that the p-value is below the p-value (5%), hence the model is under misspecification. Although we are close to the threshold, let us assume that it is sufficient.</p>
<p><strong>Autocorrelation in residuals</strong></p>
<p>We see that the errors appear not to show autocorrelation. Although there is one period, that does appear to have a spike + the first lagged period, but it is close to the recommended threshold.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="exercises-arima.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">acf</span>(ARIMAmod<span class="sc">$</span>residuals)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-67-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>Then one could test other models and see if they perform better. I have been playing around with the orders, but it does not appear to help with the residuals.</p>
<p><strong>Qd</strong></p>
<p>Make forecast for the stock price in week 1.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="exercises-arima.html#cb89-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb89-2"><a href="exercises-arima.html#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">object =</span> ARIMAmod,<span class="at">h =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">print</span>()</span>
<span id="cb89-3"><a href="exercises-arima.html#cb89-3" aria-hidden="true" tabindex="-1"></a>  y[<span class="fu">nrow</span>(y),]  <span class="sc">%&gt;%</span> <span class="fu">print</span>()</span>
<span id="cb89-4"><a href="exercises-arima.html#cb89-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>##   Point Forecast    Lo 80    Hi 80    Lo 95    Hi 95
## 2            304 296.1184 311.8816 291.9461 316.0539
## IBM 
## 304</code></pre>
<p>We see that the forecast is 311,73 where the naive forecast (the most recent period) would just say 304.</p>
<p><em>Although one must be very precautions, as it was found that the model is under misspecification</em></p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="exercises-arima.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
<div id="demand-data-problem-7-p-403" class="section level3" number="7.5.2">
<h3><span class="header-section-number">7.5.2</span> Demand data, problem 7 p 403</h3>
<p>Loading the data</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="exercises-arima.html#cb92-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/Demand.xls&quot;</span>)</span>
<span id="cb92-2"><a href="exercises-arima.html#cb92-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(<span class="at">data =</span> df,<span class="at">frequency =</span> <span class="dv">52</span>)</span></code></pre></div>
<p><strong>Qa</strong></p>
<p>Plotting acf</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="exercises-arima.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">acf</span>(y,<span class="at">lag.max =</span> <span class="dv">52</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-71"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-71-1.png" alt="acf Demand" width="480" />
<p class="caption">
Figure 7.5: acf Demand
</p>
</div>
<p>We see that there is clearly a trend and it appears as if we have seasons, although looking at it does not appear as if we have seasons.</p>
<p>We can support this with a pacf</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="exercises-arima.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pacf</span>(y)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-72-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>We are able to use an autoregressive approach as acf tends towards 0 and pacf quickly drops to 0.</p>
<p>Lastly we can check for stationarity.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="exercises-arima.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts.plot</span>(y)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-73"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-73-1.png" alt="Demand time-series" width="480" />
<p class="caption">
Figure 7.6: Demand time-series
</p>
</div>
<p>We observe non stationary data, hence we should apply differencing as well.</p>
<p><strong>Qb</strong></p>
<p><strong><em>Manually doing ARIMA</em></strong></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="exercises-arima.html#cb96-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb96-2"><a href="exercises-arima.html#cb96-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb96-3"><a href="exercises-arima.html#cb96-3" aria-hidden="true" tabindex="-1"></a>q <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb96-4"><a href="exercises-arima.html#cb96-4" aria-hidden="true" tabindex="-1"></a>order <span class="ot">&lt;-</span> <span class="fu">c</span>(p,d,q)</span>
<span id="cb96-5"><a href="exercises-arima.html#cb96-5" aria-hidden="true" tabindex="-1"></a>ARIMAmod <span class="ot">&lt;-</span> <span class="fu">arima</span>(<span class="at">x =</span> y</span>
<span id="cb96-6"><a href="exercises-arima.html#cb96-6" aria-hidden="true" tabindex="-1"></a>                  ,<span class="at">order =</span> order)</span>
<span id="cb96-7"><a href="exercises-arima.html#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ARIMAmod<span class="sc">$</span>residuals)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-74"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-74-1.png" alt="Residuals ARIMA" width="480" />
<p class="caption">
Figure 7.7: Residuals ARIMA
</p>
</div>
<p><strong><em>Auto ARIMA</em></strong></p>
<p>We are also able to apply <code>auto.arima()</code> to find the most optimal combination based on the sample data.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="exercises-arima.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Making the model</span></span>
<span id="cb97-2"><a href="exercises-arima.html#cb97-2" aria-hidden="true" tabindex="-1"></a>ts.arima <span class="ot">&lt;-</span> <span class="fu">auto.arima</span>(<span class="at">y =</span> y)</span>
<span id="cb97-3"><a href="exercises-arima.html#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ts.arima)</span></code></pre></div>
<pre><code>## Series: y 
## ARIMA(2,1,1) with drift 
## 
## Coefficients:
##           ar1      ar2      ma1   drift
##       -0.3531  -0.4859  -0.8662  0.7106
## s.e.   0.1461   0.1399   0.1214  0.0101
## 
## sigma^2 estimated as 0.7302:  log likelihood=-63.77
## AIC=137.54   AICc=138.87   BIC=147.2
## 
## Training set error measures:
##                       ME      RMSE       MAE        MPE     MAPE MASE
## Training set -0.04310129 0.8124002 0.6510066 -0.2215986 1.820533  NaN
##                     ACF1
## Training set 0.005108341</code></pre>
<p>We see that the this suggest a full ARIMA model with 2 order AR, 1 order differencing and 1 order MA.</p>
<p>Now we can display the residuals to check for independence within the error terms.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="exercises-arima.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdisplay</span>(ts.arima<span class="sc">$</span>residuals)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-76"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-76-1.png" alt="Residuals time-series demand" width="480" />
<p class="caption">
Figure 7.8: Residuals time-series demand
</p>
</div>
<p>It appears as if with have independence in the residuals and also none significant spikes in the correlograms.</p>
<p>We can make a statistical check for this as well, using the Box-Pierce test</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="exercises-arima.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Box.test</span>(ts.arima<span class="sc">$</span>residuals)</span></code></pre></div>
<pre><code>## 
##  Box-Pierce test
## 
## data:  ts.arima$residuals
## X-squared = 0.0013569, df = 1, p-value = 0.9706</code></pre>
<p>We see that we cannot reject the null hypothesis, hence it is fair to assume that the observations are independent of each other.</p>
<p><strong>Qc</strong></p>
<p>equation for forecast:</p>
<p>Cant find the constant, but one can call the coefficients with the following:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="exercises-arima.html#cb102-1" aria-hidden="true" tabindex="-1"></a>ts.arima[[<span class="st">&quot;coef&quot;</span>]]</span></code></pre></div>
<pre><code>##        ar1        ar2        ma1      drift 
## -0.3530653 -0.4859323 -0.8662332  0.7105675</code></pre>
<p><strong>Qd</strong></p>
<p>Forecasting demand for the coming four periods. That can be done using <code>forecast()</code> where h = 4</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="exercises-arima.html#cb104-1" aria-hidden="true" tabindex="-1"></a>arima.fh4 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(ts.arima</span>
<span id="cb104-2"><a href="exercises-arima.html#cb104-2" aria-hidden="true" tabindex="-1"></a>                       ,<span class="at">h =</span> <span class="dv">4</span> <span class="co">#Forecast horizon</span></span>
<span id="cb104-3"><a href="exercises-arima.html#cb104-3" aria-hidden="true" tabindex="-1"></a>                       ,<span class="at">level =</span> <span class="fl">0.95</span> <span class="co">#Confidence interval</span></span>
<span id="cb104-4"><a href="exercises-arima.html#cb104-4" aria-hidden="true" tabindex="-1"></a>                       )</span>
<span id="cb104-5"><a href="exercises-arima.html#cb104-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(arima.fh4,<span class="at">caption =</span> <span class="st">&quot;Forecast with confidence intervals&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-79">Table 7.1: </span>Forecast with confidence intervals</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Point Forecast</th>
<th align="right">Lo 95</th>
<th align="right">Hi 95</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2.000000</td>
<td align="right">57.13051</td>
<td align="right">55.45568</td>
<td align="right">58.80534</td>
</tr>
<tr class="even">
<td align="left">2.019231</td>
<td align="right">57.94525</td>
<td align="right">56.23062</td>
<td align="right">59.65988</td>
</tr>
<tr class="odd">
<td align="left">2.038462</td>
<td align="right">59.16331</td>
<td align="right">57.38801</td>
<td align="right">60.93861</td>
</tr>
<tr class="even">
<td align="left">2.057692</td>
<td align="right">59.64408</td>
<td align="right">57.78105</td>
<td align="right">61.50711</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="exercises-arima.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(arima.fh4,<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">1.8</span>,<span class="fl">2.2</span>))</span>
<span id="cb105-2"><a href="exercises-arima.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;lightgrey&quot;</span>)</span></code></pre></div>
<p><img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-80-1.png" width="480" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="exercises-arima.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
<div id="closing-stock-quotations-problem-13-p-409" class="section level3" number="7.5.3">
<h3><span class="header-section-number">7.5.3</span> Closing stock quotations, problem 13 p 409</h3>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="exercises-arima.html#cb107-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/Week47/ClosingStockQuatations.xls&quot;</span>)</span>
<span id="cb107-2"><a href="exercises-arima.html#cb107-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">ts</span>(df,<span class="at">frequency =</span> <span class="dv">365</span>)</span>
<span id="cb107-3"><a href="exercises-arima.html#cb107-3" aria-hidden="true" tabindex="-1"></a>y.train <span class="ot">&lt;-</span> y[<span class="dv">1</span><span class="sc">:</span><span class="dv">145</span>]</span>
<span id="cb107-4"><a href="exercises-arima.html#cb107-4" aria-hidden="true" tabindex="-1"></a>y.test <span class="ot">&lt;-</span> y[<span class="dv">146</span><span class="sc">:</span><span class="dv">150</span>]</span>
<span id="cb107-5"><a href="exercises-arima.html#cb107-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-6"><a href="exercises-arima.html#cb107-6" aria-hidden="true" tabindex="-1"></a>ts.arima <span class="ot">&lt;-</span> <span class="fu">auto.arima</span>(y.train)</span>
<span id="cb107-7"><a href="exercises-arima.html#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdiag</span>(ts.arima)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-82"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-82-1.png" alt="Diagnostics for ARIMA" width="480" />
<p class="caption">
Figure 7.9: Diagnostics for ARIMA
</p>
</div>
<p>We see that the residuals appear to be randomly distributed around a fixed point. Also there does not appear to be residuals that spikes, indicating autocorrelation in the residuals. Assessing the Ljung-Box statistic, we see that there are no values that go beyond the critical level of 5%. Hence it is fair to assume that the residuals are independent of each other.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="exercises-arima.html#cb108-1" aria-hidden="true" tabindex="-1"></a>arima.fh5 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(ts.arima,<span class="at">h =</span> <span class="dv">5</span>,<span class="at">level =</span> <span class="fl">0.95</span>)</span>
<span id="cb108-2"><a href="exercises-arima.html#cb108-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(arima.fh5,<span class="at">caption =</span> <span class="st">&quot;Forecast with confidence level&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-83">Table 7.2: </span>Forecast with confidence level</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Point Forecast</th>
<th align="right">Lo 95</th>
<th align="right">Hi 95</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">146</td>
<td align="right">133.8119</td>
<td align="right">128.8361</td>
<td align="right">138.7878</td>
</tr>
<tr class="even">
<td align="left">147</td>
<td align="right">133.8119</td>
<td align="right">128.6346</td>
<td align="right">138.9893</td>
</tr>
<tr class="odd">
<td align="left">148</td>
<td align="right">133.8119</td>
<td align="right">128.4407</td>
<td align="right">139.1832</td>
</tr>
<tr class="even">
<td align="left">149</td>
<td align="right">133.8119</td>
<td align="right">128.2535</td>
<td align="right">139.3704</td>
</tr>
<tr class="odd">
<td align="left">150</td>
<td align="right">133.8119</td>
<td align="right">128.0724</td>
<td align="right">139.5515</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="exercises-arima.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(arima.fh5,<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">157</span>))</span>
<span id="cb109-2"><a href="exercises-arima.html#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col =</span> <span class="st">&quot;lightgrey&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-84"></span>
<img src="Business-Forecasting-Notebook_files/figure-html/unnamed-chunk-84-1.png" alt="Forecast Stock Quotations" width="480" />
<p class="caption">
Figure 7.10: Forecast Stock Quotations
</p>
</div>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="exercises-arima.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(arima.fh5<span class="sc">$</span>mean,<span class="at">x =</span> y.test)</span></code></pre></div>
<pre><code>##                ME     RMSE      MAE     MPE    MAPE
## Test set 2.508054 3.000656 2.508054 1.82561 1.82561</code></pre>
<p>We see that the accuracy is 2.5 MAE where the MAPE is 1.8</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="exercises-arima.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
<div id="hw-case-1-page-413-414-q1-3" class="section level3" number="7.5.4">
<h3><span class="header-section-number">7.5.4</span> HW: Case 1 page 413-414 (q1-3)</h3>
<p>Not done</p>
</div>
<div id="hw-case-4-page-417-419" class="section level3" number="7.5.5">
<h3><span class="header-section-number">7.5.5</span> HW: Case 4 page 417-419</h3>
<p>Not done</p>
</div>
<div id="sales-data-seasonal" class="section level3" number="7.5.6">
<h3><span class="header-section-number">7.5.6</span> Sales data seasonal</h3>
<p>Not done</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="exercises-arima.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Arima(y = y,model = #&lt;insert fitted arima model here, to preserve coefficients&gt;#)</span></span></code></pre></div>
</div>
<div id="in-class-assignment" class="section level3" number="7.5.7">
<h3><span class="header-section-number">7.5.7</span> In class assignment</h3>
<p>It is done somewhere. Otherwise, do it again</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="adl.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercises-adl.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
